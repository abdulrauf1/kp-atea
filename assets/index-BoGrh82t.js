function hA(n,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in n)){const u=Object.getOwnPropertyDescriptor(r,l);u&&Object.defineProperty(n,l,u.get?u:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function wS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ad={exports:{}},Za={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function fA(){if(U0)return Za;U0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:n,type:r,key:h,ref:l!==void 0?l:null,props:u}}return Za.Fragment=e,Za.jsx=i,Za.jsxs=i,Za}var L0;function dA(){return L0||(L0=1,ad.exports=fA()),ad.exports}var L=dA(),ld={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function mA(){if(z0)return se;z0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),D=Symbol.iterator;function U(T){return T===null||typeof T!="object"?null:(T=D&&T[D]||T["@@iterator"],typeof T=="function"?T:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,B={};function ee(T,x,G){this.props=T,this.context=x,this.refs=B,this.updater=G||H}ee.prototype.isReactComponent={},ee.prototype.setState=function(T,x){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,x,"setState")},ee.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function ae(){}ae.prototype=ee.prototype;function Z(T,x,G){this.props=T,this.context=x,this.refs=B,this.updater=G||H}var ge=Z.prototype=new ae;ge.constructor=Z,F(ge,ee.prototype),ge.isPureReactComponent=!0;var ke=Array.isArray;function Ge(){}var ce={H:null,A:null,T:null,S:null},lt=Object.prototype.hasOwnProperty;function mt(T,x,G){var P=G.ref;return{$$typeof:n,type:T,key:x,ref:P!==void 0?P:null,props:G}}function li(T,x){return mt(T.type,x,T.props)}function Tn(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function zt(T){var x={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(G){return x[G]})}var ss=/\/+/g;function Un(T,x){return typeof T=="object"&&T!==null&&T.key!=null?zt(""+T.key):x.toString(36)}function gn(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Ge,Ge):(T.status="pending",T.then(function(x){T.status==="pending"&&(T.status="fulfilled",T.value=x)},function(x){T.status==="pending"&&(T.status="rejected",T.reason=x)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function O(T,x,G,P,le){var fe=typeof T;(fe==="undefined"||fe==="boolean")&&(T=null);var Ce=!1;if(T===null)Ce=!0;else switch(fe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(T.$$typeof){case n:case e:Ce=!0;break;case v:return Ce=T._init,O(Ce(T._payload),x,G,P,le)}}if(Ce)return le=le(T),Ce=P===""?"."+Un(T,0):P,ke(le)?(G="",Ce!=null&&(G=Ce.replace(ss,"$&/")+"/"),O(le,x,G,"",function(sa){return sa})):le!=null&&(Tn(le)&&(le=li(le,G+(le.key==null||T&&T.key===le.key?"":(""+le.key).replace(ss,"$&/")+"/")+Ce)),x.push(le)),1;Ce=0;var It=P===""?".":P+":";if(ke(T))for(var Pe=0;Pe<T.length;Pe++)P=T[Pe],fe=It+Un(P,Pe),Ce+=O(P,x,G,fe,le);else if(Pe=U(T),typeof Pe=="function")for(T=Pe.call(T),Pe=0;!(P=T.next()).done;)P=P.value,fe=It+Un(P,Pe++),Ce+=O(P,x,G,fe,le);else if(fe==="object"){if(typeof T.then=="function")return O(gn(T),x,G,P,le);throw x=String(T),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function q(T,x,G){if(T==null)return T;var P=[],le=0;return O(T,P,"","",function(fe){return x.call(G,fe,le++)}),P}function te(T){if(T._status===-1){var x=T._result;x=x(),x.then(function(G){(T._status===0||T._status===-1)&&(T._status=1,T._result=G)},function(G){(T._status===0||T._status===-1)&&(T._status=2,T._result=G)}),T._status===-1&&(T._status=0,T._result=x)}if(T._status===1)return T._result.default;throw T._result}var Me=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Le={map:q,forEach:function(T,x,G){q(T,function(){x.apply(this,arguments)},G)},count:function(T){var x=0;return q(T,function(){x++}),x},toArray:function(T){return q(T,function(x){return x})||[]},only:function(T){if(!Tn(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return se.Activity=E,se.Children=Le,se.Component=ee,se.Fragment=i,se.Profiler=l,se.PureComponent=Z,se.StrictMode=r,se.Suspense=m,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,se.__COMPILER_RUNTIME={__proto__:null,c:function(T){return ce.H.useMemoCache(T)}},se.cache=function(T){return function(){return T.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(T,x,G){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var P=F({},T.props),le=T.key;if(x!=null)for(fe in x.key!==void 0&&(le=""+x.key),x)!lt.call(x,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&x.ref===void 0||(P[fe]=x[fe]);var fe=arguments.length-2;if(fe===1)P.children=G;else if(1<fe){for(var Ce=Array(fe),It=0;It<fe;It++)Ce[It]=arguments[It+2];P.children=Ce}return mt(T.type,le,P)},se.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},se.createElement=function(T,x,G){var P,le={},fe=null;if(x!=null)for(P in x.key!==void 0&&(fe=""+x.key),x)lt.call(x,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(le[P]=x[P]);var Ce=arguments.length-2;if(Ce===1)le.children=G;else if(1<Ce){for(var It=Array(Ce),Pe=0;Pe<Ce;Pe++)It[Pe]=arguments[Pe+2];le.children=It}if(T&&T.defaultProps)for(P in Ce=T.defaultProps,Ce)le[P]===void 0&&(le[P]=Ce[P]);return mt(T,fe,le)},se.createRef=function(){return{current:null}},se.forwardRef=function(T){return{$$typeof:d,render:T}},se.isValidElement=Tn,se.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:te}},se.memo=function(T,x){return{$$typeof:p,type:T,compare:x===void 0?null:x}},se.startTransition=function(T){var x=ce.T,G={};ce.T=G;try{var P=T(),le=ce.S;le!==null&&le(G,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(Ge,Me)}catch(fe){Me(fe)}finally{x!==null&&G.types!==null&&(x.types=G.types),ce.T=x}},se.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},se.use=function(T){return ce.H.use(T)},se.useActionState=function(T,x,G){return ce.H.useActionState(T,x,G)},se.useCallback=function(T,x){return ce.H.useCallback(T,x)},se.useContext=function(T){return ce.H.useContext(T)},se.useDebugValue=function(){},se.useDeferredValue=function(T,x){return ce.H.useDeferredValue(T,x)},se.useEffect=function(T,x){return ce.H.useEffect(T,x)},se.useEffectEvent=function(T){return ce.H.useEffectEvent(T)},se.useId=function(){return ce.H.useId()},se.useImperativeHandle=function(T,x,G){return ce.H.useImperativeHandle(T,x,G)},se.useInsertionEffect=function(T,x){return ce.H.useInsertionEffect(T,x)},se.useLayoutEffect=function(T,x){return ce.H.useLayoutEffect(T,x)},se.useMemo=function(T,x){return ce.H.useMemo(T,x)},se.useOptimistic=function(T,x){return ce.H.useOptimistic(T,x)},se.useReducer=function(T,x,G){return ce.H.useReducer(T,x,G)},se.useRef=function(T){return ce.H.useRef(T)},se.useState=function(T){return ce.H.useState(T)},se.useSyncExternalStore=function(T,x,G){return ce.H.useSyncExternalStore(T,x,G)},se.useTransition=function(){return ce.H.useTransition()},se.version="19.2.0",se}var k0;function gm(){return k0||(k0=1,ld.exports=mA()),ld.exports}var j=gm();const bS=wS(j),gA=hA({__proto__:null,default:bS},[j]);var od={exports:{}},Ja={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function pA(){return B0||(B0=1,(function(n){function e(O,q){var te=O.length;O.push(q);e:for(;0<te;){var Me=te-1>>>1,Le=O[Me];if(0<l(Le,q))O[Me]=q,O[te]=Le,te=Me;else break e}}function i(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var q=O[0],te=O.pop();if(te!==q){O[0]=te;e:for(var Me=0,Le=O.length,T=Le>>>1;Me<T;){var x=2*(Me+1)-1,G=O[x],P=x+1,le=O[P];if(0>l(G,te))P<Le&&0>l(le,G)?(O[Me]=le,O[P]=te,Me=P):(O[Me]=G,O[x]=te,Me=x);else if(P<Le&&0>l(le,te))O[Me]=le,O[P]=te,Me=P;else break e}}return q}function l(O,q){var te=O.sortIndex-q.sortIndex;return te!==0?te:O.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var m=[],p=[],v=1,E=null,D=3,U=!1,H=!1,F=!1,B=!1,ee=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ge(O){for(var q=i(p);q!==null;){if(q.callback===null)r(p);else if(q.startTime<=O)r(p),q.sortIndex=q.expirationTime,e(m,q);else break;q=i(p)}}function ke(O){if(F=!1,ge(O),!H)if(i(m)!==null)H=!0,Ge||(Ge=!0,zt());else{var q=i(p);q!==null&&gn(ke,q.startTime-O)}}var Ge=!1,ce=-1,lt=5,mt=-1;function li(){return B?!0:!(n.unstable_now()-mt<lt)}function Tn(){if(B=!1,Ge){var O=n.unstable_now();mt=O;var q=!0;try{e:{H=!1,F&&(F=!1,ae(ce),ce=-1),U=!0;var te=D;try{t:{for(ge(O),E=i(m);E!==null&&!(E.expirationTime>O&&li());){var Me=E.callback;if(typeof Me=="function"){E.callback=null,D=E.priorityLevel;var Le=Me(E.expirationTime<=O);if(O=n.unstable_now(),typeof Le=="function"){E.callback=Le,ge(O),q=!0;break t}E===i(m)&&r(m),ge(O)}else r(m);E=i(m)}if(E!==null)q=!0;else{var T=i(p);T!==null&&gn(ke,T.startTime-O),q=!1}}break e}finally{E=null,D=te,U=!1}q=void 0}}finally{q?zt():Ge=!1}}}var zt;if(typeof Z=="function")zt=function(){Z(Tn)};else if(typeof MessageChannel<"u"){var ss=new MessageChannel,Un=ss.port2;ss.port1.onmessage=Tn,zt=function(){Un.postMessage(null)}}else zt=function(){ee(Tn,0)};function gn(O,q){ce=ee(function(){O(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lt=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return D},n.unstable_next=function(O){switch(D){case 1:case 2:case 3:var q=3;break;default:q=D}var te=D;D=q;try{return O()}finally{D=te}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var te=D;D=O;try{return q()}finally{D=te}},n.unstable_scheduleCallback=function(O,q,te){var Me=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Me+te:Me):te=Me,O){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=te+Le,O={id:v++,callback:q,priorityLevel:O,startTime:te,expirationTime:Le,sortIndex:-1},te>Me?(O.sortIndex=te,e(p,O),i(m)===null&&O===i(p)&&(F?(ae(ce),ce=-1):F=!0,gn(ke,te-Me))):(O.sortIndex=Le,e(m,O),H||U||(H=!0,Ge||(Ge=!0,zt()))),O},n.unstable_shouldYield=li,n.unstable_wrapCallback=function(O){var q=D;return function(){var te=D;D=q;try{return O.apply(this,arguments)}finally{D=te}}}})(cd)),cd}var j0;function yA(){return j0||(j0=1,ud.exports=pA()),ud.exports}var hd={exports:{}},wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function vA(){if(V0)return wt;V0=1;var n=gm();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(m,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:m,containerInfo:p,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wt.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,v)},wt.flushSync=function(m){var p=h.T,v=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=p,r.p=v,r.d.f()}},wt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},wt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},wt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,E=d(v,p.crossOrigin),D=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:D,fetchPriority:U}):v==="script"&&r.d.X(m,{crossOrigin:E,integrity:D,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},wt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},wt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,E=d(v,p.crossOrigin);r.d.L(m,v,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},wt.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},wt.requestFormReset=function(m){r.d.r(m)},wt.unstable_batchedUpdates=function(m,p){return m(p)},wt.useFormState=function(m,p,v){return h.H.useFormState(m,p,v)},wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},wt.version="19.2.0",wt}var q0;function AS(){if(q0)return hd.exports;q0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hd.exports=vA(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function EA(){if(H0)return Ja;H0=1;var n=yA(),e=gm(),i=AS();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function d(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(r(188))}function p(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,o=s;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return m(c),t;if(f===o)return m(c),s;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=c,o=f;else{for(var g=!1,y=c.child;y;){if(y===a){g=!0,a=c,o=f;break}if(y===o){g=!0,o=c,a=f;break}y=y.sibling}if(!g){for(y=f.child;y;){if(y===a){g=!0,a=f,o=c;break}if(y===o){g=!0,o=f,a=c;break}y=y.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function v(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=v(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,D=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),mt=Symbol.for("react.activity"),li=Symbol.for("react.memo_cache_sentinel"),Tn=Symbol.iterator;function zt(t){return t===null||typeof t!="object"?null:(t=Tn&&t[Tn]||t["@@iterator"],typeof t=="function"?t:null)}var ss=Symbol.for("react.client.reference");function Un(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ss?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case ee:return"Profiler";case B:return"StrictMode";case ke:return"Suspense";case Ge:return"SuspenseList";case mt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case Z:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case ge:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ce:return s=t.displayName||null,s!==null?s:Un(t.type)||"Memo";case lt:s=t._payload,t=t._init;try{return Un(t(s))}catch{}}return null}var gn=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Me=[],Le=-1;function T(t){return{current:t}}function x(t){0>Le||(t.current=Me[Le],Me[Le]=null,Le--)}function G(t,s){Le++,Me[Le]=t.current,t.current=s}var P=T(null),le=T(null),fe=T(null),Ce=T(null);function It(t,s){switch(G(fe,s),G(le,t),G(P,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?i0(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=i0(s),t=s0(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}x(P),G(P,t)}function Pe(){x(P),x(le),x(fe)}function sa(t){t.memoizedState!==null&&G(Ce,t);var s=P.current,a=s0(s,t.type);s!==a&&(G(le,t),G(P,a))}function Wl(t){le.current===t&&(x(P),x(le)),Ce.current===t&&(x(Ce),Pa._currentValue=te)}var qc,xg;function rs(t){if(qc===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);qc=s&&s[1]||"",xg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qc+t+xg}var Hc=!1;function Gc(t,s){if(!t||Hc)return"";Hc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(N){var C=N}Reflect.construct(t,[],I)}else{try{I.call()}catch(N){C=N}t.call(I.prototype)}}else{try{throw Error()}catch(N){C=N}(I=t())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(N){if(N&&C&&typeof N.stack=="string")return[N.stack,C.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],y=f[1];if(g&&y){var S=g.split(`
`),A=y.split(`
`);for(c=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;if(o===S.length||c===A.length)for(o=S.length-1,c=A.length-1;1<=o&&0<=c&&S[o]!==A[c];)c--;for(;1<=o&&0<=c;o--,c--)if(S[o]!==A[c]){if(o!==1||c!==1)do if(o--,c--,0>c||S[o]!==A[c]){var R=`
`+S[o].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=o&&0<=c);break}}}finally{Hc=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?rs(a):""}function H1(t,s){switch(t.tag){case 26:case 27:case 5:return rs(t.type);case 16:return rs("Lazy");case 13:return t.child!==s&&s!==null?rs("Suspense Fallback"):rs("Suspense");case 19:return rs("SuspenseList");case 0:case 15:return Gc(t.type,!1);case 11:return Gc(t.type.render,!1);case 1:return Gc(t.type,!0);case 31:return rs("Activity");default:return""}}function Ug(t){try{var s="",a=null;do s+=H1(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Fc=Object.prototype.hasOwnProperty,Kc=n.unstable_scheduleCallback,Yc=n.unstable_cancelCallback,G1=n.unstable_shouldYield,F1=n.unstable_requestPaint,Ft=n.unstable_now,K1=n.unstable_getCurrentPriorityLevel,Lg=n.unstable_ImmediatePriority,zg=n.unstable_UserBlockingPriority,eo=n.unstable_NormalPriority,Y1=n.unstable_LowPriority,kg=n.unstable_IdlePriority,P1=n.log,Q1=n.unstable_setDisableYieldValue,ra=null,Kt=null;function oi(t){if(typeof P1=="function"&&Q1(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ra,t)}catch{}}var Yt=Math.clz32?Math.clz32:Z1,X1=Math.log,$1=Math.LN2;function Z1(t){return t>>>=0,t===0?32:31-(X1(t)/$1|0)|0}var to=256,no=262144,io=4194304;function as(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function so(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var y=o&134217727;return y!==0?(o=y&~f,o!==0?c=as(o):(g&=y,g!==0?c=as(g):a||(a=y&~t,a!==0&&(c=as(a))))):(y=o&~f,y!==0?c=as(y):g!==0?c=as(g):a||(a=o&~t,a!==0&&(c=as(a)))),c===0?0:s!==0&&s!==c&&(s&f)===0&&(f=c&-c,a=s&-s,f>=a||f===32&&(a&4194048)!==0)?s:c}function aa(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function J1(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bg(){var t=io;return io<<=1,(io&62914560)===0&&(io=4194304),t}function Pc(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function la(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function W1(t,s,a,o,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var y=t.entanglements,S=t.expirationTimes,A=t.hiddenUpdates;for(a=g&~a;0<a;){var R=31-Yt(a),I=1<<R;y[R]=0,S[R]=-1;var C=A[R];if(C!==null)for(A[R]=null,R=0;R<C.length;R++){var N=C[R];N!==null&&(N.lane&=-536870913)}a&=~I}o!==0&&jg(t,o,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~s))}function jg(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-Yt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Vg(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-Yt(a),c=1<<o;c&s|t[o]&s&&(t[o]|=s),a&=~c}}function qg(t,s){var a=s&-s;return a=(a&42)!==0?1:Qc(a),(a&(t.suspendedLanes|s))!==0?0:a}function Qc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hg(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:N0(t.type))}function Gg(t,s){var a=q.p;try{return q.p=t,s()}finally{q.p=a}}var ui=Math.random().toString(36).slice(2),gt="__reactFiber$"+ui,kt="__reactProps$"+ui,js="__reactContainer$"+ui,$c="__reactEvents$"+ui,ew="__reactListeners$"+ui,tw="__reactHandles$"+ui,Fg="__reactResources$"+ui,oa="__reactMarker$"+ui;function Zc(t){delete t[gt],delete t[kt],delete t[$c],delete t[ew],delete t[tw]}function Vs(t){var s=t[gt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[js]||a[gt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=h0(t);t!==null;){if(a=t[gt])return a;t=h0(t)}return s}t=a,a=t.parentNode}return null}function qs(t){if(t=t[gt]||t[js]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function ua(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Hs(t){var s=t[Fg];return s||(s=t[Fg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ot(t){t[oa]=!0}var Kg=new Set,Yg={};function ls(t,s){Gs(t,s),Gs(t+"Capture",s)}function Gs(t,s){for(Yg[t]=s,t=0;t<s.length;t++)Kg.add(s[t])}var nw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pg={},Qg={};function iw(t){return Fc.call(Qg,t)?!0:Fc.call(Pg,t)?!1:nw.test(t)?Qg[t]=!0:(Pg[t]=!0,!1)}function ro(t,s,a){if(iw(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function ao(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Ln(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xg(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function sw(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Jc(t){if(!t._valueTracker){var s=Xg(t)?"checked":"value";t._valueTracker=sw(t,s,""+t[s])}}function $g(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=Xg(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function lo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rw=/[\n"\\]/g;function rn(t){return t.replace(rw,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Wc(t,s,a,o,c,f,g,y){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),s!=null?g==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+sn(s)):t.value!==""+sn(s)&&(t.value=""+sn(s)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),s!=null?eh(t,g,sn(s)):a!=null?eh(t,g,sn(a)):o!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+sn(y):t.removeAttribute("name")}function Zg(t,s,a,o,c,f,g,y){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||s!=null)){Jc(t);return}a=a!=null?""+sn(a):"",s=s!=null?""+sn(s):a,y||s===t.value||(t.value=s),t.defaultValue=s}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=y?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Jc(t)}function eh(t,s,a){s==="number"&&lo(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fs(t,s,a,o){if(t=t.options,s){s={};for(var c=0;c<a.length;c++)s["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=s.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&o&&(t[a].defaultSelected=!0)}else{for(a=""+sn(a),s=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}s!==null||t[c].disabled||(s=t[c])}s!==null&&(s.selected=!0)}}function Jg(t,s,a){if(s!=null&&(s=""+sn(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+sn(a):""}function Wg(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(r(92));if(gn(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=sn(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Jc(t)}function Ks(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var aw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ep(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||aw.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function tp(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in s)o=s[c],s.hasOwnProperty(c)&&a[c]!==o&&ep(t,c,o)}else for(var f in s)s.hasOwnProperty(f)&&ep(t,f,s[f])}function th(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ow=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(t){return ow.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var nh=null;function ih(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ys=null,Ps=null;function np(t){var s=qs(t);if(s&&(t=s.stateNode)){var a=t[kt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Wc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var c=o[kt]||null;if(!c)throw Error(r(90));Wc(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&$g(o)}break e;case"textarea":Jg(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Fs(t,!!a.multiple,s,!1)}}}var sh=!1;function ip(t,s,a){if(sh)return t(s,a);sh=!0;try{var o=t(s);return o}finally{if(sh=!1,(Ys!==null||Ps!==null)&&($o(),Ys&&(s=Ys,t=Ps,Ps=Ys=null,np(s),t)))for(s=0;s<t.length;s++)np(t[s])}}function ca(t,s){var a=t.stateNode;if(a===null)return null;var o=a[kt]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rh=!1;if(kn)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){rh=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{rh=!1}var ci=null,ah=null,uo=null;function sp(){if(uo)return uo;var t,s=ah,a=s.length,o,c="value"in ci?ci.value:ci.textContent,f=c.length;for(t=0;t<a&&s[t]===c[t];t++);var g=a-t;for(o=1;o<=g&&s[a-o]===c[f-o];o++);return uo=c.slice(t,1<o?1-o:void 0)}function co(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ho(){return!0}function rp(){return!1}function Bt(t){function s(a,o,c,f,g){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(a=t[y],this[y]=a?a(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ho:rp,this.isPropagationStopped=rp,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),s}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=Bt(os),fa=E({},os,{view:0,detail:0}),uw=Bt(fa),lh,oh,da,mo=E({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ch,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==da&&(da&&t.type==="mousemove"?(lh=t.screenX-da.screenX,oh=t.screenY-da.screenY):oh=lh=0,da=t),lh)},movementY:function(t){return"movementY"in t?t.movementY:oh}}),ap=Bt(mo),cw=E({},mo,{dataTransfer:0}),hw=Bt(cw),fw=E({},fa,{relatedTarget:0}),uh=Bt(fw),dw=E({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),mw=Bt(dw),gw=E({},os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pw=Bt(gw),yw=E({},os,{data:0}),lp=Bt(yw),vw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ew={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _w(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Sw[t])?!!s[t]:!1}function ch(){return _w}var Tw=E({},fa,{key:function(t){if(t.key){var s=vw[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=co(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ew[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ch,charCode:function(t){return t.type==="keypress"?co(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?co(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ww=Bt(Tw),bw=E({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=Bt(bw),Aw=E({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ch}),Cw=Bt(Aw),Nw=E({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dw=Bt(Nw),Rw=E({},mo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ow=Bt(Rw),Mw=E({},os,{newState:0,oldState:0}),Iw=Bt(Mw),xw=[9,13,27,32],hh=kn&&"CompositionEvent"in window,ma=null;kn&&"documentMode"in document&&(ma=document.documentMode);var Uw=kn&&"TextEvent"in window&&!ma,up=kn&&(!hh||ma&&8<ma&&11>=ma),cp=" ",hp=!1;function fp(t,s){switch(t){case"keyup":return xw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function Lw(t,s){switch(t){case"compositionend":return dp(s);case"keypress":return s.which!==32?null:(hp=!0,cp);case"textInput":return t=s.data,t===cp&&hp?null:t;default:return null}}function zw(t,s){if(Qs)return t==="compositionend"||!hh&&fp(t,s)?(t=sp(),uo=ah=ci=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return up&&s.locale!=="ko"?null:s.data;default:return null}}var kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!kw[t.type]:s==="textarea"}function gp(t,s,a,o){Ys?Ps?Ps.push(o):Ps=[o]:Ys=o,s=iu(s,"onChange"),0<s.length&&(a=new fo("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var ga=null,pa=null;function Bw(t){Zv(t,0)}function go(t){var s=ua(t);if($g(s))return t}function pp(t,s){if(t==="change")return s}var yp=!1;if(kn){var fh;if(kn){var dh="oninput"in document;if(!dh){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),dh=typeof vp.oninput=="function"}fh=dh}else fh=!1;yp=fh&&(!document.documentMode||9<document.documentMode)}function Ep(){ga&&(ga.detachEvent("onpropertychange",Sp),pa=ga=null)}function Sp(t){if(t.propertyName==="value"&&go(pa)){var s=[];gp(s,pa,t,ih(t)),ip(Bw,s)}}function jw(t,s,a){t==="focusin"?(Ep(),ga=s,pa=a,ga.attachEvent("onpropertychange",Sp)):t==="focusout"&&Ep()}function Vw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return go(pa)}function qw(t,s){if(t==="click")return go(s)}function Hw(t,s){if(t==="input"||t==="change")return go(s)}function Gw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Pt=typeof Object.is=="function"?Object.is:Gw;function ya(t,s){if(Pt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!Fc.call(s,c)||!Pt(t[c],s[c]))return!1}return!0}function _p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tp(t,s){var a=_p(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_p(a)}}function wp(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?wp(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=lo(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=lo(t.document)}return s}function mh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Fw=kn&&"documentMode"in document&&11>=document.documentMode,Xs=null,gh=null,va=null,ph=!1;function Ap(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ph||Xs==null||Xs!==lo(o)||(o=Xs,"selectionStart"in o&&mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),va&&ya(va,o)||(va=o,o=iu(gh,"onSelect"),0<o.length&&(s=new fo("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=Xs)))}function us(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var $s={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},yh={},Cp={};kn&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function cs(t){if(yh[t])return yh[t];if(!$s[t])return t;var s=$s[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Cp)return yh[t]=s[a];return t}var Np=cs("animationend"),Dp=cs("animationiteration"),Rp=cs("animationstart"),Kw=cs("transitionrun"),Yw=cs("transitionstart"),Pw=cs("transitioncancel"),Op=cs("transitionend"),Mp=new Map,vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vh.push("scrollEnd");function pn(t,s){Mp.set(t,s),ls(s,[t])}var po=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},an=[],Zs=0,Eh=0;function yo(){for(var t=Zs,s=Eh=Zs=0;s<t;){var a=an[s];an[s++]=null;var o=an[s];an[s++]=null;var c=an[s];an[s++]=null;var f=an[s];if(an[s++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&Ip(a,c,f)}}function vo(t,s,a,o){an[Zs++]=t,an[Zs++]=s,an[Zs++]=a,an[Zs++]=o,Eh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Sh(t,s,a,o){return vo(t,s,a,o),Eo(t)}function hs(t,s){return vo(t,null,null,s),Eo(t)}function Ip(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&s!==null&&(c=31-Yt(a),t=f.hiddenUpdates,o=t[c],o===null?t[c]=[s]:o.push(s),s.lane=a|536870912),f):null}function Eo(t){if(50<Va)throw Va=0,Of=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Js={};function Qw(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,s,a,o){return new Qw(t,s,a,o)}function _h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bn(t,s){var a=t.alternate;return a===null?(a=Qt(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function xp(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function So(t,s,a,o,c,f){var g=0;if(o=t,typeof t=="function")_h(t)&&(g=1);else if(typeof t=="string")g=Wb(t,a,P.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case mt:return t=Qt(31,a,s,c),t.elementType=mt,t.lanes=f,t;case F:return fs(a.children,c,f,s);case B:g=8,c|=24;break;case ee:return t=Qt(12,a,s,c|2),t.elementType=ee,t.lanes=f,t;case ke:return t=Qt(13,a,s,c),t.elementType=ke,t.lanes=f,t;case Ge:return t=Qt(19,a,s,c),t.elementType=Ge,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:g=10;break e;case ae:g=9;break e;case ge:g=11;break e;case ce:g=14;break e;case lt:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return s=Qt(g,a,s,c),s.elementType=t,s.type=o,s.lanes=f,s}function fs(t,s,a,o){return t=Qt(7,t,o,s),t.lanes=a,t}function Th(t,s,a){return t=Qt(6,t,null,s),t.lanes=a,t}function Up(t){var s=Qt(18,null,null,0);return s.stateNode=t,s}function wh(t,s,a){return s=Qt(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Lp=new WeakMap;function ln(t,s){if(typeof t=="object"&&t!==null){var a=Lp.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Ug(s)},Lp.set(t,s),s)}return{value:t,source:s,stack:Ug(s)}}var Ws=[],er=0,_o=null,Ea=0,on=[],un=0,hi=null,wn=1,bn="";function jn(t,s){Ws[er++]=Ea,Ws[er++]=_o,_o=t,Ea=s}function zp(t,s,a){on[un++]=wn,on[un++]=bn,on[un++]=hi,hi=t;var o=wn;t=bn;var c=32-Yt(o)-1;o&=~(1<<c),a+=1;var f=32-Yt(s)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,wn=1<<32-Yt(s)+c|a<<c|o,bn=f+t}else wn=1<<f|a<<c|o,bn=t}function bh(t){t.return!==null&&(jn(t,1),zp(t,1,0))}function Ah(t){for(;t===_o;)_o=Ws[--er],Ws[er]=null,Ea=Ws[--er],Ws[er]=null;for(;t===hi;)hi=on[--un],on[un]=null,bn=on[--un],on[un]=null,wn=on[--un],on[un]=null}function kp(t,s){on[un++]=wn,on[un++]=bn,on[un++]=hi,wn=s.id,bn=s.overflow,hi=t}var pt=null,Be=null,ve=!1,fi=null,cn=!1,Ch=Error(r(519));function di(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sa(ln(s,t)),Ch}function Bp(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[gt]=t,s[kt]=o,a){case"dialog":me("cancel",s),me("close",s);break;case"iframe":case"object":case"embed":me("load",s);break;case"video":case"audio":for(a=0;a<Ha.length;a++)me(Ha[a],s);break;case"source":me("error",s);break;case"img":case"image":case"link":me("error",s),me("load",s);break;case"details":me("toggle",s);break;case"input":me("invalid",s),Zg(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":me("invalid",s);break;case"textarea":me("invalid",s),Wg(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||t0(s.textContent,a)?(o.popover!=null&&(me("beforetoggle",s),me("toggle",s)),o.onScroll!=null&&me("scroll",s),o.onScrollEnd!=null&&me("scrollend",s),o.onClick!=null&&(s.onclick=zn),s=!0):s=!1,s||di(t,!0)}function jp(t){for(pt=t.return;pt;)switch(pt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:pt=pt.return}}function tr(t){if(t!==pt)return!1;if(!ve)return jp(t),ve=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kf(t.type,t.memoizedProps)),a=!a),a&&Be&&di(t),jp(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Be=c0(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Be=c0(t)}else s===27?(s=Be,Ni(t.type)?(t=$f,$f=null,Be=t):Be=s):Be=pt?fn(t.stateNode.nextSibling):null;return!0}function ds(){Be=pt=null,ve=!1}function Nh(){var t=fi;return t!==null&&(Ht===null?Ht=t:Ht.push.apply(Ht,t),fi=null),t}function Sa(t){fi===null?fi=[t]:fi.push(t)}var Dh=T(null),ms=null,Vn=null;function mi(t,s,a){G(Dh,s._currentValue),s._currentValue=a}function qn(t){t._currentValue=Dh.current,x(Dh)}function Rh(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function Oh(t,s,a,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;e:for(;f!==null;){var y=f;f=c;for(var S=0;S<s.length;S++)if(y.context===s[S]){f.lanes|=a,y=f.alternate,y!==null&&(y.lanes|=a),Rh(f.return,a,t),o||(g=null);break e}f=y.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Rh(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function nr(t,s,a,o){t=null;for(var c=s,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var y=c.type;Pt(c.pendingProps.value,g.value)||(t!==null?t.push(y):t=[y])}}else if(c===Ce.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Pa):t=[Pa])}c=c.return}t!==null&&Oh(s,t,a,o),s.flags|=262144}function To(t){for(t=t.firstContext;t!==null;){if(!Pt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function gs(t){ms=t,Vn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yt(t){return Vp(ms,t)}function wo(t,s){return ms===null&&gs(t),Vp(t,s)}function Vp(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Vn===null){if(t===null)throw Error(r(308));Vn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Vn=Vn.next=s;return a}var Xw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},$w=n.unstable_scheduleCallback,Zw=n.unstable_NormalPriority,Je={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mh(){return{controller:new Xw,data:new Map,refCount:0}}function _a(t){t.refCount--,t.refCount===0&&$w(Zw,function(){t.controller.abort()})}var Ta=null,Ih=0,ir=0,sr=null;function Jw(t,s){if(Ta===null){var a=Ta=[];Ih=0,ir=zf(),sr={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ih++,s.then(qp,qp),s}function qp(){if(--Ih===0&&Ta!==null){sr!==null&&(sr.status="fulfilled");var t=Ta;Ta=null,ir=0,sr=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Ww(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var c=0;c<a.length;c++)(0,a[c])(s)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var Hp=O.S;O.S=function(t,s){Av=Ft(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Jw(t,s),Hp!==null&&Hp(t,s)};var ps=T(null);function xh(){var t=ps.current;return t!==null?t:ze.pooledCache}function bo(t,s){s===null?G(ps,ps.current):G(ps,s.pool)}function Gp(){var t=xh();return t===null?null:{parent:Je._currentValue,pool:t}}var rr=Error(r(460)),Uh=Error(r(474)),Ao=Error(r(542)),Co={then:function(){}};function Fp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kp(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(zn,zn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Pp(t),t;default:if(typeof s.status=="string")s.then(zn,zn);else{if(t=ze,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var c=s;c.status="fulfilled",c.value=o}},function(o){if(s.status==="pending"){var c=s;c.status="rejected",c.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Pp(t),t}throw vs=s,rr}}function ys(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(vs=a,rr):a}}var vs=null;function Yp(){if(vs===null)throw Error(r(459));var t=vs;return vs=null,t}function Pp(t){if(t===rr||t===Ao)throw Error(r(483))}var ar=null,wa=0;function No(t){var s=wa;return wa+=1,ar===null&&(ar=[]),Kp(ar,t,s)}function ba(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Do(t,s){throw s.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Qp(t){function s(w,_){if(t){var b=w.deletions;b===null?(w.deletions=[_],w.flags|=16):b.push(_)}}function a(w,_){if(!t)return null;for(;_!==null;)s(w,_),_=_.sibling;return null}function o(w){for(var _=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function c(w,_){return w=Bn(w,_),w.index=0,w.sibling=null,w}function f(w,_,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<_?(w.flags|=67108866,_):b):(w.flags|=67108866,_)):(w.flags|=1048576,_)}function g(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function y(w,_,b,M){return _===null||_.tag!==6?(_=Th(b,w.mode,M),_.return=w,_):(_=c(_,b),_.return=w,_)}function S(w,_,b,M){var $=b.type;return $===F?R(w,_,b.props.children,M,b.key):_!==null&&(_.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===lt&&ys($)===_.type)?(_=c(_,b.props),ba(_,b),_.return=w,_):(_=So(b.type,b.key,b.props,null,w.mode,M),ba(_,b),_.return=w,_)}function A(w,_,b,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=wh(b,w.mode,M),_.return=w,_):(_=c(_,b.children||[]),_.return=w,_)}function R(w,_,b,M,$){return _===null||_.tag!==7?(_=fs(b,w.mode,M,$),_.return=w,_):(_=c(_,b),_.return=w,_)}function I(w,_,b){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Th(""+_,w.mode,b),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case U:return b=So(_.type,_.key,_.props,null,w.mode,b),ba(b,_),b.return=w,b;case H:return _=wh(_,w.mode,b),_.return=w,_;case lt:return _=ys(_),I(w,_,b)}if(gn(_)||zt(_))return _=fs(_,w.mode,b,null),_.return=w,_;if(typeof _.then=="function")return I(w,No(_),b);if(_.$$typeof===Z)return I(w,wo(w,_),b);Do(w,_)}return null}function C(w,_,b,M){var $=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return $!==null?null:y(w,_,""+b,M);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case U:return b.key===$?S(w,_,b,M):null;case H:return b.key===$?A(w,_,b,M):null;case lt:return b=ys(b),C(w,_,b,M)}if(gn(b)||zt(b))return $!==null?null:R(w,_,b,M,null);if(typeof b.then=="function")return C(w,_,No(b),M);if(b.$$typeof===Z)return C(w,_,wo(w,b),M);Do(w,b)}return null}function N(w,_,b,M,$){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return w=w.get(b)||null,y(_,w,""+M,$);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return w=w.get(M.key===null?b:M.key)||null,S(_,w,M,$);case H:return w=w.get(M.key===null?b:M.key)||null,A(_,w,M,$);case lt:return M=ys(M),N(w,_,b,M,$)}if(gn(M)||zt(M))return w=w.get(b)||null,R(_,w,M,$,null);if(typeof M.then=="function")return N(w,_,b,No(M),$);if(M.$$typeof===Z)return N(w,_,b,wo(_,M),$);Do(_,M)}return null}function Y(w,_,b,M){for(var $=null,_e=null,Q=_,he=_=0,ye=null;Q!==null&&he<b.length;he++){Q.index>he?(ye=Q,Q=null):ye=Q.sibling;var Te=C(w,Q,b[he],M);if(Te===null){Q===null&&(Q=ye);break}t&&Q&&Te.alternate===null&&s(w,Q),_=f(Te,_,he),_e===null?$=Te:_e.sibling=Te,_e=Te,Q=ye}if(he===b.length)return a(w,Q),ve&&jn(w,he),$;if(Q===null){for(;he<b.length;he++)Q=I(w,b[he],M),Q!==null&&(_=f(Q,_,he),_e===null?$=Q:_e.sibling=Q,_e=Q);return ve&&jn(w,he),$}for(Q=o(Q);he<b.length;he++)ye=N(Q,w,he,b[he],M),ye!==null&&(t&&ye.alternate!==null&&Q.delete(ye.key===null?he:ye.key),_=f(ye,_,he),_e===null?$=ye:_e.sibling=ye,_e=ye);return t&&Q.forEach(function(Ii){return s(w,Ii)}),ve&&jn(w,he),$}function W(w,_,b,M){if(b==null)throw Error(r(151));for(var $=null,_e=null,Q=_,he=_=0,ye=null,Te=b.next();Q!==null&&!Te.done;he++,Te=b.next()){Q.index>he?(ye=Q,Q=null):ye=Q.sibling;var Ii=C(w,Q,Te.value,M);if(Ii===null){Q===null&&(Q=ye);break}t&&Q&&Ii.alternate===null&&s(w,Q),_=f(Ii,_,he),_e===null?$=Ii:_e.sibling=Ii,_e=Ii,Q=ye}if(Te.done)return a(w,Q),ve&&jn(w,he),$;if(Q===null){for(;!Te.done;he++,Te=b.next())Te=I(w,Te.value,M),Te!==null&&(_=f(Te,_,he),_e===null?$=Te:_e.sibling=Te,_e=Te);return ve&&jn(w,he),$}for(Q=o(Q);!Te.done;he++,Te=b.next())Te=N(Q,w,he,Te.value,M),Te!==null&&(t&&Te.alternate!==null&&Q.delete(Te.key===null?he:Te.key),_=f(Te,_,he),_e===null?$=Te:_e.sibling=Te,_e=Te);return t&&Q.forEach(function(cA){return s(w,cA)}),ve&&jn(w,he),$}function Ue(w,_,b,M){if(typeof b=="object"&&b!==null&&b.type===F&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case U:e:{for(var $=b.key;_!==null;){if(_.key===$){if($=b.type,$===F){if(_.tag===7){a(w,_.sibling),M=c(_,b.props.children),M.return=w,w=M;break e}}else if(_.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===lt&&ys($)===_.type){a(w,_.sibling),M=c(_,b.props),ba(M,b),M.return=w,w=M;break e}a(w,_);break}else s(w,_);_=_.sibling}b.type===F?(M=fs(b.props.children,w.mode,M,b.key),M.return=w,w=M):(M=So(b.type,b.key,b.props,null,w.mode,M),ba(M,b),M.return=w,w=M)}return g(w);case H:e:{for($=b.key;_!==null;){if(_.key===$)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){a(w,_.sibling),M=c(_,b.children||[]),M.return=w,w=M;break e}else{a(w,_);break}else s(w,_);_=_.sibling}M=wh(b,w.mode,M),M.return=w,w=M}return g(w);case lt:return b=ys(b),Ue(w,_,b,M)}if(gn(b))return Y(w,_,b,M);if(zt(b)){if($=zt(b),typeof $!="function")throw Error(r(150));return b=$.call(b),W(w,_,b,M)}if(typeof b.then=="function")return Ue(w,_,No(b),M);if(b.$$typeof===Z)return Ue(w,_,wo(w,b),M);Do(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,_!==null&&_.tag===6?(a(w,_.sibling),M=c(_,b),M.return=w,w=M):(a(w,_),M=Th(b,w.mode,M),M.return=w,w=M),g(w)):a(w,_)}return function(w,_,b,M){try{wa=0;var $=Ue(w,_,b,M);return ar=null,$}catch(Q){if(Q===rr||Q===Ao)throw Q;var _e=Qt(29,Q,null,w.mode);return _e.lanes=M,_e.return=w,_e}finally{}}}var Es=Qp(!0),Xp=Qp(!1),gi=!1;function Lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yi(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ae&2)!==0){var c=o.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s,s=Eo(t),Ip(t,null,a),s}return vo(t,o,s,a),Eo(t)}function Aa(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Vg(t,a)}}function kh(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=s:f=f.next=s}else c=f=s;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Bh=!1;function Ca(){if(Bh){var t=sr;if(t!==null)throw t}}function Na(t,s,a,o){Bh=!1;var c=t.updateQueue;gi=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var S=y,A=S.next;S.next=null,g===null?f=A:g.next=A,g=S;var R=t.alternate;R!==null&&(R=R.updateQueue,y=R.lastBaseUpdate,y!==g&&(y===null?R.firstBaseUpdate=A:y.next=A,R.lastBaseUpdate=S))}if(f!==null){var I=c.baseState;g=0,R=A=S=null,y=f;do{var C=y.lane&-536870913,N=C!==y.lane;if(N?(pe&C)===C:(o&C)===C){C!==0&&C===ir&&(Bh=!0),R!==null&&(R=R.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Y=t,W=y;C=s;var Ue=a;switch(W.tag){case 1:if(Y=W.payload,typeof Y=="function"){I=Y.call(Ue,I,C);break e}I=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=W.payload,C=typeof Y=="function"?Y.call(Ue,I,C):Y,C==null)break e;I=E({},I,C);break e;case 2:gi=!0}}C=y.callback,C!==null&&(t.flags|=64,N&&(t.flags|=8192),N=c.callbacks,N===null?c.callbacks=[C]:N.push(C))}else N={lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},R===null?(A=R=N,S=I):R=R.next=N,g|=C;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;N=y,y=N.next,N.next=null,c.lastBaseUpdate=N,c.shared.pending=null}}while(!0);R===null&&(S=I),c.baseState=S,c.firstBaseUpdate=A,c.lastBaseUpdate=R,f===null&&(c.shared.lanes=0),Ti|=g,t.lanes=g,t.memoizedState=I}}function $p(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Zp(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$p(a[t],s)}var lr=T(null),Ro=T(0);function Jp(t,s){t=$n,G(Ro,t),G(lr,s),$n=t|s.baseLanes}function jh(){G(Ro,$n),G(lr,lr.current)}function Vh(){$n=Ro.current,x(lr),x(Ro)}var Xt=T(null),hn=null;function vi(t){var s=t.alternate;G(Qe,Qe.current&1),G(Xt,t),hn===null&&(s===null||lr.current!==null||s.memoizedState!==null)&&(hn=t)}function qh(t){G(Qe,Qe.current),G(Xt,t),hn===null&&(hn=t)}function Wp(t){t.tag===22?(G(Qe,Qe.current),G(Xt,t),hn===null&&(hn=t)):Ei()}function Ei(){G(Qe,Qe.current),G(Xt,Xt.current)}function $t(t){x(Xt),hn===t&&(hn=null),x(Qe)}var Qe=T(0);function Oo(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qf(a)||Xf(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Hn=0,oe=null,Ie=null,We=null,Mo=!1,or=!1,Ss=!1,Io=0,Da=0,ur=null,eb=0;function Fe(){throw Error(r(321))}function Hh(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Pt(t[a],s[a]))return!1;return!0}function Gh(t,s,a,o,c,f){return Hn=f,oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,O.H=t===null||t.memoizedState===null?zy:rf,Ss=!1,f=a(o,c),Ss=!1,or&&(f=ty(s,a,o,c)),ey(t),f}function ey(t){O.H=Ma;var s=Ie!==null&&Ie.next!==null;if(Hn=0,We=Ie=oe=null,Mo=!1,Da=0,ur=null,s)throw Error(r(300));t===null||et||(t=t.dependencies,t!==null&&To(t)&&(et=!0))}function ty(t,s,a,o){oe=t;var c=0;do{if(or&&(ur=null),Da=0,or=!1,25<=c)throw Error(r(301));if(c+=1,We=Ie=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}O.H=ky,f=s(a,o)}while(or);return f}function tb(){var t=O.H,s=t.useState()[0];return s=typeof s.then=="function"?Ra(s):s,t=t.useState()[0],(Ie!==null?Ie.memoizedState:null)!==t&&(oe.flags|=1024),s}function Fh(){var t=Io!==0;return Io=0,t}function Kh(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Yh(t){if(Mo){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Mo=!1}Hn=0,We=Ie=oe=null,or=!1,Da=Io=0,ur=null}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?oe.memoizedState=We=t:We=We.next=t,We}function Xe(){if(Ie===null){var t=oe.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var s=We===null?oe.memoizedState:We.next;if(s!==null)We=s,Ie=t;else{if(t===null)throw oe.alternate===null?Error(r(467)):Error(r(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},We===null?oe.memoizedState=We=t:We=We.next=t}return We}function xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ra(t){var s=Da;return Da+=1,ur===null&&(ur=[]),t=Kp(ur,t,s),s=oe,(We===null?s.memoizedState:We.next)===null&&(s=s.alternate,O.H=s===null||s.memoizedState===null?zy:rf),t}function Uo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ra(t);if(t.$$typeof===Z)return yt(t)}throw Error(r(438,String(t)))}function Ph(t){var s=null,a=oe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(c){return c.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=xo(),oe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=li;return s.index++,a}function Gn(t,s){return typeof s=="function"?s(t):s}function Lo(t){var s=Xe();return Qh(s,Ie,t)}function Qh(t,s,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var c=t.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}s.baseQueue=c=f,o.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{s=c.next;var y=g=null,S=null,A=s,R=!1;do{var I=A.lane&-536870913;if(I!==A.lane?(pe&I)===I:(Hn&I)===I){var C=A.revertLane;if(C===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),I===ir&&(R=!0);else if((Hn&C)===C){A=A.next,C===ir&&(R=!0);continue}else I={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(y=S=I,g=f):S=S.next=I,oe.lanes|=C,Ti|=C;I=A.action,Ss&&a(f,I),f=A.hasEagerState?A.eagerState:a(f,I)}else C={lane:I,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(y=S=C,g=f):S=S.next=C,oe.lanes|=I,Ti|=I;A=A.next}while(A!==null&&A!==s);if(S===null?g=f:S.next=y,!Pt(f,t.memoizedState)&&(et=!0,R&&(a=sr,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=S,o.lastRenderedState=f}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Xh(t){var s=Xe(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,c=a.pending,f=s.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);Pt(f,s.memoizedState)||(et=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),a.lastRenderedState=f}return[f,o]}function ny(t,s,a){var o=oe,c=Xe(),f=ve;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=s();var g=!Pt((Ie||c).memoizedState,a);if(g&&(c.memoizedState=a,et=!0),c=c.queue,Jh(ry.bind(null,o,c,t),[t]),c.getSnapshot!==s||g||We!==null&&We.memoizedState.tag&1){if(o.flags|=2048,cr(9,{destroy:void 0},sy.bind(null,o,c,a,s),null),ze===null)throw Error(r(349));f||(Hn&127)!==0||iy(o,s,a)}return a}function iy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=oe.updateQueue,s===null?(s=xo(),oe.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function sy(t,s,a,o){s.value=a,s.getSnapshot=o,ay(s)&&ly(t)}function ry(t,s,a){return a(function(){ay(s)&&ly(t)})}function ay(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Pt(t,a)}catch{return!0}}function ly(t){var s=hs(t,2);s!==null&&Gt(s,t,2)}function $h(t){var s=xt();if(typeof t=="function"){var a=t;if(t=a(),Ss){oi(!0);try{a()}finally{oi(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:t},s}function oy(t,s,a,o){return t.baseState=a,Qh(t,Ie,typeof o=="function"?o:Gn)}function nb(t,s,a,o,c){if(Bo(t))throw Error(r(485));if(t=s.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};O.T!==null?a(!0):f.isTransition=!1,o(f),a=s.pending,a===null?(f.next=s.pending=f,uy(s,f)):(f.next=a.next,s.pending=a.next=f)}}function uy(t,s){var a=s.action,o=s.payload,c=t.state;if(s.isTransition){var f=O.T,g={};O.T=g;try{var y=a(c,o),S=O.S;S!==null&&S(g,y),cy(t,s,y)}catch(A){Zh(t,s,A)}finally{f!==null&&g.types!==null&&(f.types=g.types),O.T=f}}else try{f=a(c,o),cy(t,s,f)}catch(A){Zh(t,s,A)}}function cy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){hy(t,s,o)},function(o){return Zh(t,s,o)}):hy(t,s,a)}function hy(t,s,a){s.status="fulfilled",s.value=a,fy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,uy(t,a)))}function Zh(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,fy(s),s=s.next;while(s!==o)}t.action=null}function fy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function dy(t,s){return s}function my(t,s){if(ve){var a=ze.formState;if(a!==null){e:{var o=oe;if(ve){if(Be){t:{for(var c=Be,f=cn;c.nodeType!==8;){if(!f){c=null;break t}if(c=fn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Be=fn(c.nextSibling),o=c.data==="F!";break e}}di(o)}o=!1}o&&(s=a[0])}}return a=xt(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:s},a.queue=o,a=xy.bind(null,oe,o),o.dispatch=a,o=$h(!1),f=sf.bind(null,oe,!1,o.queue),o=xt(),c={state:s,dispatch:null,action:t,pending:null},o.queue=c,a=nb.bind(null,oe,c,f,a),c.dispatch=a,o.memoizedState=t,[s,a,!1]}function gy(t){var s=Xe();return py(s,Ie,t)}function py(t,s,a){if(s=Qh(t,s,dy)[0],t=Lo(Gn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=Ra(s)}catch(g){throw g===rr?Ao:g}else o=s;s=Xe();var c=s.queue,f=c.dispatch;return a!==s.memoizedState&&(oe.flags|=2048,cr(9,{destroy:void 0},ib.bind(null,c,a),null)),[o,f,t]}function ib(t,s){t.action=s}function yy(t){var s=Xe(),a=Ie;if(a!==null)return py(s,a,t);Xe(),s=s.memoizedState,a=Xe();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function cr(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=oe.updateQueue,s===null&&(s=xo(),oe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function vy(){return Xe().memoizedState}function zo(t,s,a,o){var c=xt();oe.flags|=t,c.memoizedState=cr(1|s,{destroy:void 0},a,o===void 0?null:o)}function ko(t,s,a,o){var c=Xe();o=o===void 0?null:o;var f=c.memoizedState.inst;Ie!==null&&o!==null&&Hh(o,Ie.memoizedState.deps)?c.memoizedState=cr(s,f,a,o):(oe.flags|=t,c.memoizedState=cr(1|s,f,a,o))}function Ey(t,s){zo(8390656,8,t,s)}function Jh(t,s){ko(2048,8,t,s)}function sb(t){oe.flags|=4;var s=oe.updateQueue;if(s===null)s=xo(),oe.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Sy(t){var s=Xe().memoizedState;return sb({ref:s,nextImpl:t}),function(){if((Ae&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function _y(t,s){return ko(4,2,t,s)}function Ty(t,s){return ko(4,4,t,s)}function wy(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function by(t,s,a){a=a!=null?a.concat([t]):null,ko(4,4,wy.bind(null,s,t),a)}function Wh(){}function Ay(t,s){var a=Xe();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&Hh(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function Cy(t,s){var a=Xe();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&Hh(s,o[1]))return o[0];if(o=t(),Ss){oi(!0);try{t()}finally{oi(!1)}}return a.memoizedState=[o,s],o}function ef(t,s,a){return a===void 0||(Hn&1073741824)!==0&&(pe&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Nv(),oe.lanes|=t,Ti|=t,a)}function Ny(t,s,a,o){return Pt(a,s)?a:lr.current!==null?(t=ef(t,a,o),Pt(t,s)||(et=!0),t):(Hn&42)===0||(Hn&1073741824)!==0&&(pe&261930)===0?(et=!0,t.memoizedState=a):(t=Nv(),oe.lanes|=t,Ti|=t,s)}function Dy(t,s,a,o,c){var f=q.p;q.p=f!==0&&8>f?f:8;var g=O.T,y={};O.T=y,sf(t,!1,s,a);try{var S=c(),A=O.S;if(A!==null&&A(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var R=Ww(S,o);Oa(t,s,R,Wt(t))}else Oa(t,s,o,Wt(t))}catch(I){Oa(t,s,{then:function(){},status:"rejected",reason:I},Wt())}finally{q.p=f,g!==null&&y.types!==null&&(g.types=y.types),O.T=g}}function rb(){}function tf(t,s,a,o){if(t.tag!==5)throw Error(r(476));var c=Ry(t).queue;Dy(t,c,s,te,a===null?rb:function(){return Oy(t),a(o)})}function Ry(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:te},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Oy(t){var s=Ry(t);s.next===null&&(s=t.alternate.memoizedState),Oa(t,s.next.queue,{},Wt())}function nf(){return yt(Pa)}function My(){return Xe().memoizedState}function Iy(){return Xe().memoizedState}function ab(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Wt();t=pi(a);var o=yi(s,t,a);o!==null&&(Gt(o,s,a),Aa(o,s,a)),s={cache:Mh()},t.payload=s;return}s=s.return}}function lb(t,s,a){var o=Wt();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Bo(t)?Uy(s,a):(a=Sh(t,s,a,o),a!==null&&(Gt(a,t,o),Ly(a,s,o)))}function xy(t,s,a){var o=Wt();Oa(t,s,a,o)}function Oa(t,s,a,o){var c={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bo(t))Uy(s,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var g=s.lastRenderedState,y=f(g,a);if(c.hasEagerState=!0,c.eagerState=y,Pt(y,g))return vo(t,s,c,0),ze===null&&yo(),!1}catch{}finally{}if(a=Sh(t,s,c,o),a!==null)return Gt(a,t,o),Ly(a,s,o),!0}return!1}function sf(t,s,a,o){if(o={lane:2,revertLane:zf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bo(t)){if(s)throw Error(r(479))}else s=Sh(t,a,o,2),s!==null&&Gt(s,t,2)}function Bo(t){var s=t.alternate;return t===oe||s!==null&&s===oe}function Uy(t,s){or=Mo=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Ly(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Vg(t,a)}}var Ma={readContext:yt,use:Uo,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Ma.useEffectEvent=Fe;var zy={readContext:yt,use:Uo,useCallback:function(t,s){return xt().memoizedState=[t,s===void 0?null:s],t},useContext:yt,useEffect:Ey,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,zo(4194308,4,wy.bind(null,s,t),a)},useLayoutEffect:function(t,s){return zo(4194308,4,t,s)},useInsertionEffect:function(t,s){zo(4,2,t,s)},useMemo:function(t,s){var a=xt();s=s===void 0?null:s;var o=t();if(Ss){oi(!0);try{t()}finally{oi(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=xt();if(a!==void 0){var c=a(s);if(Ss){oi(!0);try{a(s)}finally{oi(!1)}}}else c=s;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=lb.bind(null,oe,t),[o.memoizedState,t]},useRef:function(t){var s=xt();return t={current:t},s.memoizedState=t},useState:function(t){t=$h(t);var s=t.queue,a=xy.bind(null,oe,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Wh,useDeferredValue:function(t,s){var a=xt();return ef(a,t,s)},useTransition:function(){var t=$h(!1);return t=Dy.bind(null,oe,t.queue,!0,!1),xt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=oe,c=xt();if(ve){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ze===null)throw Error(r(349));(pe&127)!==0||iy(o,s,a)}c.memoizedState=a;var f={value:a,getSnapshot:s};return c.queue=f,Ey(ry.bind(null,o,f,t),[t]),o.flags|=2048,cr(9,{destroy:void 0},sy.bind(null,o,f,a,s),null),a},useId:function(){var t=xt(),s=ze.identifierPrefix;if(ve){var a=bn,o=wn;a=(o&~(1<<32-Yt(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Io++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=eb++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:nf,useFormState:my,useActionState:my,useOptimistic:function(t){var s=xt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=sf.bind(null,oe,!0,a),a.dispatch=s,[t,s]},useMemoCache:Ph,useCacheRefresh:function(){return xt().memoizedState=ab.bind(null,oe)},useEffectEvent:function(t){var s=xt(),a={impl:t};return s.memoizedState=a,function(){if((Ae&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},rf={readContext:yt,use:Uo,useCallback:Ay,useContext:yt,useEffect:Jh,useImperativeHandle:by,useInsertionEffect:_y,useLayoutEffect:Ty,useMemo:Cy,useReducer:Lo,useRef:vy,useState:function(){return Lo(Gn)},useDebugValue:Wh,useDeferredValue:function(t,s){var a=Xe();return Ny(a,Ie.memoizedState,t,s)},useTransition:function(){var t=Lo(Gn)[0],s=Xe().memoizedState;return[typeof t=="boolean"?t:Ra(t),s]},useSyncExternalStore:ny,useId:My,useHostTransitionStatus:nf,useFormState:gy,useActionState:gy,useOptimistic:function(t,s){var a=Xe();return oy(a,Ie,t,s)},useMemoCache:Ph,useCacheRefresh:Iy};rf.useEffectEvent=Sy;var ky={readContext:yt,use:Uo,useCallback:Ay,useContext:yt,useEffect:Jh,useImperativeHandle:by,useInsertionEffect:_y,useLayoutEffect:Ty,useMemo:Cy,useReducer:Xh,useRef:vy,useState:function(){return Xh(Gn)},useDebugValue:Wh,useDeferredValue:function(t,s){var a=Xe();return Ie===null?ef(a,t,s):Ny(a,Ie.memoizedState,t,s)},useTransition:function(){var t=Xh(Gn)[0],s=Xe().memoizedState;return[typeof t=="boolean"?t:Ra(t),s]},useSyncExternalStore:ny,useId:My,useHostTransitionStatus:nf,useFormState:yy,useActionState:yy,useOptimistic:function(t,s){var a=Xe();return Ie!==null?oy(a,Ie,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ph,useCacheRefresh:Iy};ky.useEffectEvent=Sy;function af(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var lf={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=Wt(),c=pi(o);c.payload=s,a!=null&&(c.callback=a),s=yi(t,c,o),s!==null&&(Gt(s,t,o),Aa(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=Wt(),c=pi(o);c.tag=1,c.payload=s,a!=null&&(c.callback=a),s=yi(t,c,o),s!==null&&(Gt(s,t,o),Aa(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Wt(),o=pi(a);o.tag=2,s!=null&&(o.callback=s),s=yi(t,o,a),s!==null&&(Gt(s,t,a),Aa(s,t,a))}};function By(t,s,a,o,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):s.prototype&&s.prototype.isPureReactComponent?!ya(a,o)||!ya(c,f):!0}function jy(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&lf.enqueueReplaceState(s,s.state,null)}function _s(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Vy(t){po(t)}function qy(t){console.error(t)}function Hy(t){po(t)}function jo(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function Gy(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function of(t,s,a){return a=pi(a),a.tag=3,a.payload={element:null},a.callback=function(){jo(t,s)},a}function Fy(t){return t=pi(t),t.tag=3,t}function Ky(t,s,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;t.payload=function(){return c(f)},t.callback=function(){Gy(s,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Gy(s,a,o),typeof c!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var y=o.stack;this.componentDidCatch(o.value,{componentStack:y!==null?y:""})})}function ob(t,s,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&nr(s,a,c,!0),a=Xt.current,a!==null){switch(a.tag){case 31:case 13:return hn===null?Zo():a.alternate===null&&Ke===0&&(Ke=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===Co?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),xf(t,o,c)),!1;case 22:return a.flags|=65536,o===Co?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),xf(t,o,c)),!1}throw Error(r(435,a.tag))}return xf(t,o,c),Zo(),!1}if(ve)return s=Xt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=c,o!==Ch&&(t=Error(r(422),{cause:o}),Sa(ln(t,a)))):(o!==Ch&&(s=Error(r(423),{cause:o}),Sa(ln(s,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=ln(o,a),c=of(t.stateNode,o,c),kh(t,c),Ke!==4&&(Ke=2)),!1;var f=Error(r(520),{cause:o});if(f=ln(f,a),ja===null?ja=[f]:ja.push(f),Ke!==4&&(Ke=2),s===null)return!0;o=ln(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=of(a.stateNode,o,t),kh(a,t),!1;case 1:if(s=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wi===null||!wi.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Fy(c),Ky(c,t,a,o),kh(a,c),!1}a=a.return}while(a!==null);return!1}var uf=Error(r(461)),et=!1;function vt(t,s,a,o){s.child=t===null?Xp(s,null,a,o):Es(s,t.child,a,o)}function Yy(t,s,a,o,c){a=a.render;var f=s.ref;if("ref"in o){var g={};for(var y in o)y!=="ref"&&(g[y]=o[y])}else g=o;return gs(s),o=Gh(t,s,a,g,f,c),y=Fh(),t!==null&&!et?(Kh(t,s,c),Fn(t,s,c)):(ve&&y&&bh(s),s.flags|=1,vt(t,s,o,c),s.child)}function Py(t,s,a,o,c){if(t===null){var f=a.type;return typeof f=="function"&&!_h(f)&&f.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=f,Qy(t,s,f,o,c)):(t=So(a.type,null,o,s,s.mode,c),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!yf(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ya,a(g,o)&&t.ref===s.ref)return Fn(t,s,c)}return s.flags|=1,t=Bn(f,o),t.ref=s.ref,t.return=s,s.child=t}function Qy(t,s,a,o,c){if(t!==null){var f=t.memoizedProps;if(ya(f,o)&&t.ref===s.ref)if(et=!1,s.pendingProps=o=f,yf(t,c))(t.flags&131072)!==0&&(et=!0);else return s.lanes=t.lanes,Fn(t,s,c)}return cf(t,s,a,o,c)}function Xy(t,s,a,o){var c=o.children,f=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=s.child=t.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,s.child=null;return $y(t,s,f,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&bo(s,f!==null?f.cachePool:null),f!==null?Jp(s,f):jh(),Wp(s);else return o=s.lanes=536870912,$y(t,s,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(bo(s,f.cachePool),Jp(s,f),Ei(),s.memoizedState=null):(t!==null&&bo(s,null),jh(),Ei());return vt(t,s,c,a),s.child}function Ia(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function $y(t,s,a,o,c){var f=xh();return f=f===null?null:{parent:Je._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},t!==null&&bo(s,null),jh(),Wp(s),t!==null&&nr(t,s,o,!0),s.childLanes=c,null}function Vo(t,s){return s=Ho({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Zy(t,s,a){return Es(s,t.child,null,a),t=Vo(s,s.pendingProps),t.flags|=2,$t(s),s.memoizedState=null,t}function ub(t,s,a){var o=s.pendingProps,c=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(ve){if(o.mode==="hidden")return t=Vo(s,o),s.lanes=536870912,Ia(null,t);if(qh(s),(t=Be)?(t=u0(t,cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:hi!==null?{id:wn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},a=Up(t),a.return=s,s.child=a,pt=s,Be=null)):t=null,t===null)throw di(s);return s.lanes=536870912,null}return Vo(s,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(qh(s),c)if(s.flags&256)s.flags&=-257,s=Zy(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(et||nr(t,s,a,!1),c=(a&t.childLanes)!==0,et||c){if(o=ze,o!==null&&(g=qg(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,hs(t,g),Gt(o,t,g),uf;Zo(),s=Zy(t,s,a)}else t=f.treeContext,Be=fn(g.nextSibling),pt=s,ve=!0,fi=null,cn=!1,t!==null&&kp(s,t),s=Vo(s,o),s.flags|=4096;return s}return t=Bn(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function qo(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function cf(t,s,a,o,c){return gs(s),a=Gh(t,s,a,o,void 0,c),o=Fh(),t!==null&&!et?(Kh(t,s,c),Fn(t,s,c)):(ve&&o&&bh(s),s.flags|=1,vt(t,s,a,c),s.child)}function Jy(t,s,a,o,c,f){return gs(s),s.updateQueue=null,a=ty(s,o,a,c),ey(t),o=Fh(),t!==null&&!et?(Kh(t,s,f),Fn(t,s,f)):(ve&&o&&bh(s),s.flags|=1,vt(t,s,a,f),s.child)}function Wy(t,s,a,o,c){if(gs(s),s.stateNode===null){var f=Js,g=a.contextType;typeof g=="object"&&g!==null&&(f=yt(g)),f=new a(o,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=lf,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=o,f.state=s.memoizedState,f.refs={},Lh(s),g=a.contextType,f.context=typeof g=="object"&&g!==null?yt(g):Js,f.state=s.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(af(s,a,g,o),f.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&lf.enqueueReplaceState(f,f.state,null),Na(s,o,f,c),Ca(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){f=s.stateNode;var y=s.memoizedProps,S=_s(a,y);f.props=S;var A=f.context,R=a.contextType;g=Js,typeof R=="object"&&R!==null&&(g=yt(R));var I=a.getDerivedStateFromProps;R=typeof I=="function"||typeof f.getSnapshotBeforeUpdate=="function",y=s.pendingProps!==y,R||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y||A!==g)&&jy(s,f,o,g),gi=!1;var C=s.memoizedState;f.state=C,Na(s,o,f,c),Ca(),A=s.memoizedState,y||C!==A||gi?(typeof I=="function"&&(af(s,a,I,o),A=s.memoizedState),(S=gi||By(s,a,S,o,C,A,g))?(R||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=A),f.props=o,f.state=A,f.context=g,o=S):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{f=s.stateNode,zh(t,s),g=s.memoizedProps,R=_s(a,g),f.props=R,I=s.pendingProps,C=f.context,A=a.contextType,S=Js,typeof A=="object"&&A!==null&&(S=yt(A)),y=a.getDerivedStateFromProps,(A=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==I||C!==S)&&jy(s,f,o,S),gi=!1,C=s.memoizedState,f.state=C,Na(s,o,f,c),Ca();var N=s.memoizedState;g!==I||C!==N||gi||t!==null&&t.dependencies!==null&&To(t.dependencies)?(typeof y=="function"&&(af(s,a,y,o),N=s.memoizedState),(R=gi||By(s,a,R,o,C,N,S)||t!==null&&t.dependencies!==null&&To(t.dependencies))?(A||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,N,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,N,S)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&C===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&C===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=N),f.props=o,f.state=N,f.context=S,o=R):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&C===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&C===t.memoizedState||(s.flags|=1024),o=!1)}return f=o,qo(t,s),o=(s.flags&128)!==0,f||o?(f=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&o?(s.child=Es(s,t.child,null,c),s.child=Es(s,null,a,c)):vt(t,s,a,c),s.memoizedState=f.state,t=s.child):t=Fn(t,s,c),t}function ev(t,s,a,o){return ds(),s.flags|=256,vt(t,s,a,o),s.child}var hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ff(t){return{baseLanes:t,cachePool:Gp()}}function df(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Jt),t}function tv(t,s,a){var o=s.pendingProps,c=!1,f=(s.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Qe.current&2)!==0),g&&(c=!0,s.flags&=-129),g=(s.flags&32)!==0,s.flags&=-33,t===null){if(ve){if(c?vi(s):Ei(),(t=Be)?(t=u0(t,cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:hi!==null?{id:wn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},a=Up(t),a.return=s,s.child=a,pt=s,Be=null)):t=null,t===null)throw di(s);return Xf(t)?s.lanes=32:s.lanes=536870912,null}var y=o.children;return o=o.fallback,c?(Ei(),c=s.mode,y=Ho({mode:"hidden",children:y},c),o=fs(o,c,a,null),y.return=s,o.return=s,y.sibling=o,s.child=y,o=s.child,o.memoizedState=ff(a),o.childLanes=df(t,g,a),s.memoizedState=hf,Ia(null,o)):(vi(s),mf(s,y))}var S=t.memoizedState;if(S!==null&&(y=S.dehydrated,y!==null)){if(f)s.flags&256?(vi(s),s.flags&=-257,s=gf(t,s,a)):s.memoizedState!==null?(Ei(),s.child=t.child,s.flags|=128,s=null):(Ei(),y=o.fallback,c=s.mode,o=Ho({mode:"visible",children:o.children},c),y=fs(y,c,a,null),y.flags|=2,o.return=s,y.return=s,o.sibling=y,s.child=o,Es(s,t.child,null,a),o=s.child,o.memoizedState=ff(a),o.childLanes=df(t,g,a),s.memoizedState=hf,s=Ia(null,o));else if(vi(s),Xf(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var A=g.dgst;g=A,o=Error(r(419)),o.stack="",o.digest=g,Sa({value:o,source:null,stack:null}),s=gf(t,s,a)}else if(et||nr(t,s,a,!1),g=(a&t.childLanes)!==0,et||g){if(g=ze,g!==null&&(o=qg(g,a),o!==0&&o!==S.retryLane))throw S.retryLane=o,hs(t,o),Gt(g,t,o),uf;Qf(y)||Zo(),s=gf(t,s,a)}else Qf(y)?(s.flags|=192,s.child=t.child,s=null):(t=S.treeContext,Be=fn(y.nextSibling),pt=s,ve=!0,fi=null,cn=!1,t!==null&&kp(s,t),s=mf(s,o.children),s.flags|=4096);return s}return c?(Ei(),y=o.fallback,c=s.mode,S=t.child,A=S.sibling,o=Bn(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&65011712,A!==null?y=Bn(A,y):(y=fs(y,c,a,null),y.flags|=2),y.return=s,o.return=s,o.sibling=y,s.child=o,Ia(null,o),o=s.child,y=t.child.memoizedState,y===null?y=ff(a):(c=y.cachePool,c!==null?(S=Je._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=Gp(),y={baseLanes:y.baseLanes|a,cachePool:c}),o.memoizedState=y,o.childLanes=df(t,g,a),s.memoizedState=hf,Ia(t.child,o)):(vi(s),a=t.child,t=a.sibling,a=Bn(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(g=s.deletions,g===null?(s.deletions=[t],s.flags|=16):g.push(t)),s.child=a,s.memoizedState=null,a)}function mf(t,s){return s=Ho({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Ho(t,s){return t=Qt(22,t,null,s),t.lanes=0,t}function gf(t,s,a){return Es(s,t.child,null,a),t=mf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function nv(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Rh(t.return,s,a)}function pf(t,s,a,o,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function iv(t,s,a){var o=s.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=Qe.current,y=(g&2)!==0;if(y?(g=g&1|2,s.flags|=128):g&=1,G(Qe,g),vt(t,s,o,a),o=ve?Ea:0,!y&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nv(t,a,s);else if(t.tag===19)nv(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=s.child,c=null;a!==null;)t=a.alternate,t!==null&&Oo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=s.child,s.child=null):(c=a.sibling,a.sibling=null),pf(s,!1,c,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=s.child,s.child=null;c!==null;){if(t=c.alternate,t!==null&&Oo(t)===null){s.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}pf(s,!0,a,null,f,o);break;case"together":pf(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function Fn(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ti|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(nr(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Bn(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Bn(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function yf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&To(t)))}function cb(t,s,a){switch(s.tag){case 3:It(s,s.stateNode.containerInfo),mi(s,Je,t.memoizedState.cache),ds();break;case 27:case 5:sa(s);break;case 4:It(s,s.stateNode.containerInfo);break;case 10:mi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,qh(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(vi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?tv(t,s,a):(vi(s),t=Fn(t,s,a),t!==null?t.sibling:null);vi(s);break;case 19:var c=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(nr(t,s,a,!1),o=(a&s.childLanes)!==0),c){if(o)return iv(t,s,a);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(Qe,Qe.current),o)break;return null;case 22:return s.lanes=0,Xy(t,s,a,s.pendingProps);case 24:mi(s,Je,t.memoizedState.cache)}return Fn(t,s,a)}function sv(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)et=!0;else{if(!yf(t,a)&&(s.flags&128)===0)return et=!1,cb(t,s,a);et=(t.flags&131072)!==0}else et=!1,ve&&(s.flags&1048576)!==0&&zp(s,Ea,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=ys(s.elementType),s.type=t,typeof t=="function")_h(t)?(o=_s(t,o),s.tag=1,s=Wy(null,s,t,o,a)):(s.tag=0,s=cf(null,s,t,o,a));else{if(t!=null){var c=t.$$typeof;if(c===ge){s.tag=11,s=Yy(null,s,t,o,a);break e}else if(c===ce){s.tag=14,s=Py(null,s,t,o,a);break e}}throw s=Un(t)||t,Error(r(306,s,""))}}return s;case 0:return cf(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,c=_s(o,s.pendingProps),Wy(t,s,o,c,a);case 3:e:{if(It(s,s.stateNode.containerInfo),t===null)throw Error(r(387));o=s.pendingProps;var f=s.memoizedState;c=f.element,zh(t,s),Na(s,o,null,a);var g=s.memoizedState;if(o=g.cache,mi(s,Je,o),o!==f.cache&&Oh(s,[Je],a,!0),Ca(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=ev(t,s,o,a);break e}else if(o!==c){c=ln(Error(r(424)),s),Sa(c),s=ev(t,s,o,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Be=fn(t.firstChild),pt=s,ve=!0,fi=null,cn=!0,a=Xp(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ds(),o===c){s=Fn(t,s,a);break e}vt(t,s,o,a)}s=s.child}return s;case 26:return qo(t,s),t===null?(a=g0(s.type,null,s.pendingProps,null))?s.memoizedState=a:ve||(a=s.type,t=s.pendingProps,o=su(fe.current).createElement(a),o[gt]=s,o[kt]=t,Et(o,a,t),ot(o),s.stateNode=o):s.memoizedState=g0(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return sa(s),t===null&&ve&&(o=s.stateNode=f0(s.type,s.pendingProps,fe.current),pt=s,cn=!0,c=Be,Ni(s.type)?($f=c,Be=fn(o.firstChild)):Be=c),vt(t,s,s.pendingProps.children,a),qo(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ve&&((c=o=Be)&&(o=Vb(o,s.type,s.pendingProps,cn),o!==null?(s.stateNode=o,pt=s,Be=fn(o.firstChild),cn=!1,c=!0):c=!1),c||di(s)),sa(s),c=s.type,f=s.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Kf(c,f)?o=null:g!==null&&Kf(c,g)&&(s.flags|=32),s.memoizedState!==null&&(c=Gh(t,s,tb,null,null,a),Pa._currentValue=c),qo(t,s),vt(t,s,o,a),s.child;case 6:return t===null&&ve&&((t=a=Be)&&(a=qb(a,s.pendingProps,cn),a!==null?(s.stateNode=a,pt=s,Be=null,t=!0):t=!1),t||di(s)),null;case 13:return tv(t,s,a);case 4:return It(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=Es(s,null,o,a):vt(t,s,o,a),s.child;case 11:return Yy(t,s,s.type,s.pendingProps,a);case 7:return vt(t,s,s.pendingProps,a),s.child;case 8:return vt(t,s,s.pendingProps.children,a),s.child;case 12:return vt(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,mi(s,s.type,o.value),vt(t,s,o.children,a),s.child;case 9:return c=s.type._context,o=s.pendingProps.children,gs(s),c=yt(c),o=o(c),s.flags|=1,vt(t,s,o,a),s.child;case 14:return Py(t,s,s.type,s.pendingProps,a);case 15:return Qy(t,s,s.type,s.pendingProps,a);case 19:return iv(t,s,a);case 31:return ub(t,s,a);case 22:return Xy(t,s,a,s.pendingProps);case 24:return gs(s),o=yt(Je),t===null?(c=xh(),c===null&&(c=ze,f=Mh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),s.memoizedState={parent:o,cache:c},Lh(s),mi(s,Je,c)):((t.lanes&a)!==0&&(zh(t,s),Na(s,null,null,a),Ca()),c=t.memoizedState,f=s.memoizedState,c.parent!==o?(c={parent:o,cache:o},s.memoizedState=c,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=c),mi(s,Je,o)):(o=f.cache,mi(s,Je,o),o!==c.cache&&Oh(s,[Je],a,!0))),vt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Kn(t){t.flags|=4}function vf(t,s,a,o,c){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Mv())t.flags|=8192;else throw vs=Co,Uh}else t.flags&=-16777217}function rv(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!S0(s))if(Mv())t.flags|=8192;else throw vs=Co,Uh}function Go(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Bg():536870912,t.lanes|=s,mr|=s)}function xa(t,s){if(!ve)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function je(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function hb(t,s,a){var o=s.pendingProps;switch(Ah(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(s),null;case 1:return je(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),qn(Je),Pe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tr(s)?Kn(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Nh())),je(s),null;case 26:var c=s.type,f=s.memoizedState;return t===null?(Kn(s),f!==null?(je(s),rv(s,f)):(je(s),vf(s,c,null,o,a))):f?f!==t.memoizedState?(Kn(s),je(s),rv(s,f)):(je(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&Kn(s),je(s),vf(s,c,t,o,a)),null;case 27:if(Wl(s),a=fe.current,c=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Kn(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return je(s),null}t=P.current,tr(s)?Bp(s):(t=f0(c,o,a),s.stateNode=t,Kn(s))}return je(s),null;case 5:if(Wl(s),c=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Kn(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return je(s),null}if(f=P.current,tr(s))Bp(s);else{var g=su(fe.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[gt]=s,f[kt]=o;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=f;e:switch(Et(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Kn(s)}}return je(s),vf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&Kn(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(r(166));if(t=fe.current,tr(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,c=pt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[gt]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||t0(t.nodeValue,a)),t||di(s,!0)}else t=su(t).createTextNode(o),t[gt]=s,s.stateNode=t}return je(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=tr(s),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[gt]=s}else ds(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;je(s),t=!1}else a=Nh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?($t(s),s):($t(s),null);if((s.flags&128)!==0)throw Error(r(558))}return je(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tr(s),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[gt]=s}else ds(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;je(s),c=!1}else c=Nh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return s.flags&256?($t(s),s):($t(s),null)}return $t(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Go(s,s.updateQueue),je(s),null);case 4:return Pe(),t===null&&Vf(s.stateNode.containerInfo),je(s),null;case 10:return qn(s.type),je(s),null;case 19:if(x(Qe),o=s.memoizedState,o===null)return je(s),null;if(c=(s.flags&128)!==0,f=o.rendering,f===null)if(c)xa(o,!1);else{if(Ke!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=Oo(t),f!==null){for(s.flags|=128,xa(o,!1),t=f.updateQueue,s.updateQueue=t,Go(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)xp(a,t),a=a.sibling;return G(Qe,Qe.current&1|2),ve&&jn(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&Ft()>Qo&&(s.flags|=128,c=!0,xa(o,!1),s.lanes=4194304)}else{if(!c)if(t=Oo(f),t!==null){if(s.flags|=128,c=!0,t=t.updateQueue,s.updateQueue=t,Go(s,t),xa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ve)return je(s),null}else 2*Ft()-o.renderingStartTime>Qo&&a!==536870912&&(s.flags|=128,c=!0,xa(o,!1),s.lanes=4194304);o.isBackwards?(f.sibling=s.child,s.child=f):(t=o.last,t!==null?t.sibling=f:s.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ft(),t.sibling=null,a=Qe.current,G(Qe,c?a&1|2:a&1),ve&&jn(s,o.treeForkCount),t):(je(s),null);case 22:case 23:return $t(s),Vh(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(je(s),s.subtreeFlags&6&&(s.flags|=8192)):je(s),a=s.updateQueue,a!==null&&Go(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&x(ps),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),qn(Je),je(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function fb(t,s){switch(Ah(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return qn(Je),Pe(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Wl(s),null;case 31:if(s.memoizedState!==null){if($t(s),s.alternate===null)throw Error(r(340));ds()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if($t(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ds()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return x(Qe),null;case 4:return Pe(),null;case 10:return qn(s.type),null;case 22:case 23:return $t(s),Vh(),t!==null&&x(ps),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return qn(Je),null;case 25:return null;default:return null}}function av(t,s){switch(Ah(s),s.tag){case 3:qn(Je),Pe();break;case 26:case 27:case 5:Wl(s);break;case 4:Pe();break;case 31:s.memoizedState!==null&&$t(s);break;case 13:$t(s);break;case 19:x(Qe);break;case 10:qn(s.type);break;case 22:case 23:$t(s),Vh(),t!==null&&x(ps);break;case 24:qn(Je)}}function Ua(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==c)}}catch(y){Re(s,s.return,y)}}function Si(t,s,a){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&t)===t){var g=o.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,c=s;var S=a,A=y;try{A()}catch(R){Re(c,S,R)}}}o=o.next}while(o!==f)}}catch(R){Re(s,s.return,R)}}function lv(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Zp(s,a)}catch(o){Re(t,t.return,o)}}}function ov(t,s,a){a.props=_s(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Re(t,s,o)}}function La(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(c){Re(t,s,c)}}function An(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){Re(t,s,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Re(t,s,c)}else a.current=null}function uv(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){Re(t,t.return,c)}}function Ef(t,s,a){try{var o=t.stateNode;Ub(o,t.type,a,s),o[kt]=s}catch(c){Re(t,t.return,c)}}function cv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ni(t.type)||t.tag===4}function Sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ni(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _f(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=zn));else if(o!==4&&(o===27&&Ni(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(_f(t,s,a),t=t.sibling;t!==null;)_f(t,s,a),t=t.sibling}function Fo(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&Ni(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Fo(t,s,a),t=t.sibling;t!==null;)Fo(t,s,a),t=t.sibling}function hv(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Et(s,o,a),s[gt]=t,s[kt]=a}catch(f){Re(t,t.return,f)}}var Yn=!1,tt=!1,Tf=!1,fv=typeof WeakSet=="function"?WeakSet:Set,ut=null;function db(t,s){if(t=t.containerInfo,Gf=hu,t=bp(t),mh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,y=-1,S=-1,A=0,R=0,I=t,C=null;t:for(;;){for(var N;I!==a||c!==0&&I.nodeType!==3||(y=g+c),I!==f||o!==0&&I.nodeType!==3||(S=g+o),I.nodeType===3&&(g+=I.nodeValue.length),(N=I.firstChild)!==null;)C=I,I=N;for(;;){if(I===t)break t;if(C===a&&++A===c&&(y=g),C===f&&++R===o&&(S=g),(N=I.nextSibling)!==null)break;I=C,C=I.parentNode}I=N}a=y===-1||S===-1?null:{start:y,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ff={focusedElem:t,selectionRange:a},hu=!1,ut=s;ut!==null;)if(s=ut,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ut=t;else for(;ut!==null;){switch(s=ut,f=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=s,c=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var Y=_s(a.type,c);t=o.getSnapshotBeforeUpdate(Y,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(W){Re(a,a.return,W)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Pf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,ut=t;break}ut=s.return}}function dv(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qn(t,a),o&4&&Ua(5,a);break;case 1:if(Qn(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(g){Re(a,a.return,g)}else{var c=_s(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(c,s,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Re(a,a.return,g)}}o&64&&lv(a),o&512&&La(a,a.return);break;case 3:if(Qn(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Zp(t,s)}catch(g){Re(a,a.return,g)}}break;case 27:s===null&&o&4&&hv(a);case 26:case 5:Qn(t,a),s===null&&o&4&&uv(a),o&512&&La(a,a.return);break;case 12:Qn(t,a);break;case 31:Qn(t,a),o&4&&pv(t,a);break;case 13:Qn(t,a),o&4&&yv(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Tb.bind(null,a),Hb(t,a))));break;case 22:if(o=a.memoizedState!==null||Yn,!o){s=s!==null&&s.memoizedState!==null||tt,c=Yn;var f=tt;Yn=o,(tt=s)&&!f?Xn(t,a,(a.subtreeFlags&8772)!==0):Qn(t,a),Yn=c,tt=f}break;case 30:break;default:Qn(t,a)}}function mv(t){var s=t.alternate;s!==null&&(t.alternate=null,mv(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Zc(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var He=null,jt=!1;function Pn(t,s,a){for(a=a.child;a!==null;)gv(t,s,a),a=a.sibling}function gv(t,s,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ra,a)}catch{}switch(a.tag){case 26:tt||An(a,s),Pn(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tt||An(a,s);var o=He,c=jt;Ni(a.type)&&(He=a.stateNode,jt=!1),Pn(t,s,a),Fa(a.stateNode),He=o,jt=c;break;case 5:tt||An(a,s);case 6:if(o=He,c=jt,He=null,Pn(t,s,a),He=o,jt=c,He!==null)if(jt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(f){Re(a,s,f)}else try{He.removeChild(a.stateNode)}catch(f){Re(a,s,f)}break;case 18:He!==null&&(jt?(t=He,l0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Tr(t)):l0(He,a.stateNode));break;case 4:o=He,c=jt,He=a.stateNode.containerInfo,jt=!0,Pn(t,s,a),He=o,jt=c;break;case 0:case 11:case 14:case 15:Si(2,a,s),tt||Si(4,a,s),Pn(t,s,a);break;case 1:tt||(An(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ov(a,s,o)),Pn(t,s,a);break;case 21:Pn(t,s,a);break;case 22:tt=(o=tt)||a.memoizedState!==null,Pn(t,s,a),tt=o;break;default:Pn(t,s,a)}}function pv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tr(t)}catch(a){Re(s,s.return,a)}}}function yv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tr(t)}catch(a){Re(s,s.return,a)}}function mb(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new fv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new fv),s;default:throw Error(r(435,t.tag))}}function Ko(t,s){var a=mb(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var c=wb.bind(null,t,o);o.then(c,c)}})}function Vt(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],f=t,g=s,y=g;e:for(;y!==null;){switch(y.tag){case 27:if(Ni(y.type)){He=y.stateNode,jt=!1;break e}break;case 5:He=y.stateNode,jt=!1;break e;case 3:case 4:He=y.stateNode.containerInfo,jt=!0;break e}y=y.return}if(He===null)throw Error(r(160));gv(f,g,c),He=null,jt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)vv(s,t),s=s.sibling}var yn=null;function vv(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vt(s,t),qt(t),o&4&&(Si(3,t,t.return),Ua(3,t),Si(5,t,t.return));break;case 1:Vt(s,t),qt(t),o&512&&(tt||a===null||An(a,a.return)),o&64&&Yn&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=yn;if(Vt(s,t),qt(t),o&512&&(tt||a===null||An(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[oa]||f[gt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Et(f,o,a),f[gt]=t,ot(f),o=f;break e;case"link":var g=v0("link","href",c).get(o+(a.href||""));if(g){for(var y=0;y<g.length;y++)if(f=g[y],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(y,1);break t}}f=c.createElement(o),Et(f,o,a),c.head.appendChild(f);break;case"meta":if(g=v0("meta","content",c).get(o+(a.content||""))){for(y=0;y<g.length;y++)if(f=g[y],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(y,1);break t}}f=c.createElement(o),Et(f,o,a),c.head.appendChild(f);break;default:throw Error(r(468,o))}f[gt]=t,ot(f),o=f}t.stateNode=o}else E0(c,t.type,t.stateNode);else t.stateNode=y0(c,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?E0(c,t.type,t.stateNode):y0(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ef(t,t.memoizedProps,a.memoizedProps)}break;case 27:Vt(s,t),qt(t),o&512&&(tt||a===null||An(a,a.return)),a!==null&&o&4&&Ef(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Vt(s,t),qt(t),o&512&&(tt||a===null||An(a,a.return)),t.flags&32){c=t.stateNode;try{Ks(c,"")}catch(Y){Re(t,t.return,Y)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,Ef(t,c,a!==null?a.memoizedProps:c)),o&1024&&(Tf=!0);break;case 6:if(Vt(s,t),qt(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(Y){Re(t,t.return,Y)}}break;case 3:if(lu=null,c=yn,yn=ru(s.containerInfo),Vt(s,t),yn=c,qt(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Tr(s.containerInfo)}catch(Y){Re(t,t.return,Y)}Tf&&(Tf=!1,Ev(t));break;case 4:o=yn,yn=ru(t.stateNode.containerInfo),Vt(s,t),qt(t),yn=o;break;case 12:Vt(s,t),qt(t);break;case 31:Vt(s,t),qt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ko(t,o)));break;case 13:Vt(s,t),qt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Po=Ft()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ko(t,o)));break;case 22:c=t.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,A=Yn,R=tt;if(Yn=A||c,tt=R||S,Vt(s,t),tt=R,Yn=A,qt(t),o&8192)e:for(s=t.stateNode,s._visibility=c?s._visibility&-2:s._visibility|1,c&&(a===null||S||Yn||tt||Ts(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){S=a=s;try{if(f=S.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=S.stateNode;var I=S.memoizedProps.style,C=I!=null&&I.hasOwnProperty("display")?I.display:null;y.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(Y){Re(S,S.return,Y)}}}else if(s.tag===6){if(a===null){S=s;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(Y){Re(S,S.return,Y)}}}else if(s.tag===18){if(a===null){S=s;try{var N=S.stateNode;c?o0(N,!0):o0(S.stateNode,!1)}catch(Y){Re(S,S.return,Y)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Ko(t,a))));break;case 19:Vt(s,t),qt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ko(t,o)));break;case 30:break;case 21:break;default:Vt(s,t),qt(t)}}function qt(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(cv(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Sf(t);Fo(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(Ks(g,""),a.flags&=-33);var y=Sf(t);Fo(t,y,g);break;case 3:case 4:var S=a.stateNode.containerInfo,A=Sf(t);_f(t,A,S);break;default:throw Error(r(161))}}catch(R){Re(t,t.return,R)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Ev(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Qn(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)dv(t,s.alternate,s),s=s.sibling}function Ts(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Si(4,s,s.return),Ts(s);break;case 1:An(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&ov(s,s.return,a),Ts(s);break;case 27:Fa(s.stateNode);case 26:case 5:An(s,s.return),Ts(s);break;case 22:s.memoizedState===null&&Ts(s);break;case 30:Ts(s);break;default:Ts(s)}t=t.sibling}}function Xn(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,c=t,f=s,g=f.flags;switch(f.tag){case 0:case 11:case 15:Xn(c,f,a),Ua(4,f);break;case 1:if(Xn(c,f,a),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(A){Re(o,o.return,A)}if(o=f,c=o.updateQueue,c!==null){var y=o.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)$p(S[c],y)}catch(A){Re(o,o.return,A)}}a&&g&64&&lv(f),La(f,f.return);break;case 27:hv(f);case 26:case 5:Xn(c,f,a),a&&o===null&&g&4&&uv(f),La(f,f.return);break;case 12:Xn(c,f,a);break;case 31:Xn(c,f,a),a&&g&4&&pv(c,f);break;case 13:Xn(c,f,a),a&&g&4&&yv(c,f);break;case 22:f.memoizedState===null&&Xn(c,f,a),La(f,f.return);break;case 30:break;default:Xn(c,f,a)}s=s.sibling}}function wf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_a(a))}function bf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&_a(t))}function vn(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sv(t,s,a,o),s=s.sibling}function Sv(t,s,a,o){var c=s.flags;switch(s.tag){case 0:case 11:case 15:vn(t,s,a,o),c&2048&&Ua(9,s);break;case 1:vn(t,s,a,o);break;case 3:vn(t,s,a,o),c&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&_a(t)));break;case 12:if(c&2048){vn(t,s,a,o),t=s.stateNode;try{var f=s.memoizedProps,g=f.id,y=f.onPostCommit;typeof y=="function"&&y(g,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Re(s,s.return,S)}}else vn(t,s,a,o);break;case 31:vn(t,s,a,o);break;case 13:vn(t,s,a,o);break;case 23:break;case 22:f=s.stateNode,g=s.alternate,s.memoizedState!==null?f._visibility&2?vn(t,s,a,o):za(t,s):f._visibility&2?vn(t,s,a,o):(f._visibility|=2,hr(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),c&2048&&wf(g,s);break;case 24:vn(t,s,a,o),c&2048&&bf(s.alternate,s);break;default:vn(t,s,a,o)}}function hr(t,s,a,o,c){for(c=c&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var f=t,g=s,y=a,S=o,A=g.flags;switch(g.tag){case 0:case 11:case 15:hr(f,g,y,S,c),Ua(8,g);break;case 23:break;case 22:var R=g.stateNode;g.memoizedState!==null?R._visibility&2?hr(f,g,y,S,c):za(f,g):(R._visibility|=2,hr(f,g,y,S,c)),c&&A&2048&&wf(g.alternate,g);break;case 24:hr(f,g,y,S,c),c&&A&2048&&bf(g.alternate,g);break;default:hr(f,g,y,S,c)}s=s.sibling}}function za(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,c=o.flags;switch(o.tag){case 22:za(a,o),c&2048&&wf(o.alternate,o);break;case 24:za(a,o),c&2048&&bf(o.alternate,o);break;default:za(a,o)}s=s.sibling}}var ka=8192;function fr(t,s,a){if(t.subtreeFlags&ka)for(t=t.child;t!==null;)_v(t,s,a),t=t.sibling}function _v(t,s,a){switch(t.tag){case 26:fr(t,s,a),t.flags&ka&&t.memoizedState!==null&&eA(a,yn,t.memoizedState,t.memoizedProps);break;case 5:fr(t,s,a);break;case 3:case 4:var o=yn;yn=ru(t.stateNode.containerInfo),fr(t,s,a),yn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ka,ka=16777216,fr(t,s,a),ka=o):fr(t,s,a));break;default:fr(t,s,a)}}function Tv(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Ba(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];ut=o,bv(o,t)}Tv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wv(t),t=t.sibling}function wv(t){switch(t.tag){case 0:case 11:case 15:Ba(t),t.flags&2048&&Si(9,t,t.return);break;case 3:Ba(t);break;case 12:Ba(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Yo(t)):Ba(t);break;default:Ba(t)}}function Yo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];ut=o,bv(o,t)}Tv(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Si(8,s,s.return),Yo(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Yo(s));break;default:Yo(s)}t=t.sibling}}function bv(t,s){for(;ut!==null;){var a=ut;switch(a.tag){case 0:case 11:case 15:Si(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:_a(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ut=o;else e:for(a=t;ut!==null;){o=ut;var c=o.sibling,f=o.return;if(mv(o),o===a){ut=null;break e}if(c!==null){c.return=f,ut=c;break e}ut=f}}}var gb={getCacheForType:function(t){var s=yt(Je),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return yt(Je).controller.signal}},pb=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ze=null,de=null,pe=0,De=0,Zt=null,_i=!1,dr=!1,Af=!1,$n=0,Ke=0,Ti=0,ws=0,Cf=0,Jt=0,mr=0,ja=null,Ht=null,Nf=!1,Po=0,Av=0,Qo=1/0,Xo=null,wi=null,rt=0,bi=null,gr=null,Zn=0,Df=0,Rf=null,Cv=null,Va=0,Of=null;function Wt(){return(Ae&2)!==0&&pe!==0?pe&-pe:O.T!==null?zf():Hg()}function Nv(){if(Jt===0)if((pe&536870912)===0||ve){var t=no;no<<=1,(no&3932160)===0&&(no=262144),Jt=t}else Jt=536870912;return t=Xt.current,t!==null&&(t.flags|=32),Jt}function Gt(t,s,a){(t===ze&&(De===2||De===9)||t.cancelPendingCommit!==null)&&(pr(t,0),Ai(t,pe,Jt,!1)),la(t,a),((Ae&2)===0||t!==ze)&&(t===ze&&((Ae&2)===0&&(ws|=a),Ke===4&&Ai(t,pe,Jt,!1)),Cn(t))}function Dv(t,s,a){if((Ae&6)!==0)throw Error(r(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||aa(t,s),c=o?Eb(t,s):If(t,s,!0),f=o;do{if(c===0){dr&&!o&&Ai(t,s,0,!1);break}else{if(a=t.current.alternate,f&&!yb(a)){c=If(t,s,!1),f=!1;continue}if(c===2){if(f=s,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){s=g;e:{var y=t;c=ja;var S=y.current.memoizedState.isDehydrated;if(S&&(pr(y,g).flags|=256),g=If(y,g,!1),g!==2){if(Af&&!S){y.errorRecoveryDisabledLanes|=f,ws|=f,c=4;break e}f=Ht,Ht=c,f!==null&&(Ht===null?Ht=f:Ht.push.apply(Ht,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){pr(t,0),Ai(t,s,0,!0);break}e:{switch(o=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ai(o,s,Jt,!_i);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(c=Po+300-Ft(),10<c)){if(Ai(o,s,Jt,!_i),so(o,0,!0)!==0)break e;Zn=s,o.timeoutHandle=r0(Rv.bind(null,o,a,Ht,Xo,Nf,s,Jt,ws,mr,_i,f,"Throttled",-0,0),c);break e}Rv(o,a,Ht,Xo,Nf,s,Jt,ws,mr,_i,f,null,-0,0)}}break}while(!0);Cn(t)}function Rv(t,s,a,o,c,f,g,y,S,A,R,I,C,N){if(t.timeoutHandle=-1,I=s.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},_v(s,f,I);var Y=(f&62914560)===f?Po-Ft():(f&4194048)===f?Av-Ft():0;if(Y=tA(I,Y),Y!==null){Zn=f,t.cancelPendingCommit=Y(kv.bind(null,t,s,f,a,o,c,g,y,S,R,I,null,C,N)),Ai(t,f,g,!A);return}}kv(t,s,f,a,o,c,g,y,S)}function yb(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],f=c.getSnapshot;c=c.value;try{if(!Pt(f(),c))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ai(t,s,a,o){s&=~Cf,s&=~ws,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var c=s;0<c;){var f=31-Yt(c),g=1<<f;o[f]=-1,c&=~g}a!==0&&jg(t,a,s)}function $o(){return(Ae&6)===0?(qa(0),!1):!0}function Mf(){if(de!==null){if(De===0)var t=de.return;else t=de,Vn=ms=null,Yh(t),ar=null,wa=0,t=de;for(;t!==null;)av(t.alternate,t),t=t.return;de=null}}function pr(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,kb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zn=0,Mf(),ze=t,de=a=Bn(t.current,null),pe=s,De=0,Zt=null,_i=!1,dr=aa(t,s),Af=!1,mr=Jt=Cf=ws=Ti=Ke=0,Ht=ja=null,Nf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var c=31-Yt(o),f=1<<c;s|=t[c],o&=~f}return $n=s,yo(),a}function Ov(t,s){oe=null,O.H=Ma,s===rr||s===Ao?(s=Yp(),De=3):s===Uh?(s=Yp(),De=4):De=s===uf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Zt=s,de===null&&(Ke=1,jo(t,ln(s,t.current)))}function Mv(){var t=Xt.current;return t===null?!0:(pe&4194048)===pe?hn===null:(pe&62914560)===pe||(pe&536870912)!==0?t===hn:!1}function Iv(){var t=O.H;return O.H=Ma,t===null?Ma:t}function xv(){var t=O.A;return O.A=gb,t}function Zo(){Ke=4,_i||(pe&4194048)!==pe&&Xt.current!==null||(dr=!0),(Ti&134217727)===0&&(ws&134217727)===0||ze===null||Ai(ze,pe,Jt,!1)}function If(t,s,a){var o=Ae;Ae|=2;var c=Iv(),f=xv();(ze!==t||pe!==s)&&(Xo=null,pr(t,s)),s=!1;var g=Ke;e:do try{if(De!==0&&de!==null){var y=de,S=Zt;switch(De){case 8:Mf(),g=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(s=!0);var A=De;if(De=0,Zt=null,yr(t,y,S,A),a&&dr){g=0;break e}break;default:A=De,De=0,Zt=null,yr(t,y,S,A)}}vb(),g=Ke;break}catch(R){Ov(t,R)}while(!0);return s&&t.shellSuspendCounter++,Vn=ms=null,Ae=o,O.H=c,O.A=f,de===null&&(ze=null,pe=0,yo()),g}function vb(){for(;de!==null;)Uv(de)}function Eb(t,s){var a=Ae;Ae|=2;var o=Iv(),c=xv();ze!==t||pe!==s?(Xo=null,Qo=Ft()+500,pr(t,s)):dr=aa(t,s);e:do try{if(De!==0&&de!==null){s=de;var f=Zt;t:switch(De){case 1:De=0,Zt=null,yr(t,s,f,1);break;case 2:case 9:if(Fp(f)){De=0,Zt=null,Lv(s);break}s=function(){De!==2&&De!==9||ze!==t||(De=7),Cn(t)},f.then(s,s);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Fp(f)?(De=0,Zt=null,Lv(s)):(De=0,Zt=null,yr(t,s,f,7));break;case 5:var g=null;switch(de.tag){case 26:g=de.memoizedState;case 5:case 27:var y=de;if(g?S0(g):y.stateNode.complete){De=0,Zt=null;var S=y.sibling;if(S!==null)de=S;else{var A=y.return;A!==null?(de=A,Jo(A)):de=null}break t}}De=0,Zt=null,yr(t,s,f,5);break;case 6:De=0,Zt=null,yr(t,s,f,6);break;case 8:Mf(),Ke=6;break e;default:throw Error(r(462))}}Sb();break}catch(R){Ov(t,R)}while(!0);return Vn=ms=null,O.H=o,O.A=c,Ae=a,de!==null?0:(ze=null,pe=0,yo(),Ke)}function Sb(){for(;de!==null&&!G1();)Uv(de)}function Uv(t){var s=sv(t.alternate,t,$n);t.memoizedProps=t.pendingProps,s===null?Jo(t):de=s}function Lv(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Jy(a,s,s.pendingProps,s.type,void 0,pe);break;case 11:s=Jy(a,s,s.pendingProps,s.type.render,s.ref,pe);break;case 5:Yh(s);default:av(a,s),s=de=xp(s,$n),s=sv(a,s,$n)}t.memoizedProps=t.pendingProps,s===null?Jo(t):de=s}function yr(t,s,a,o){Vn=ms=null,Yh(s),ar=null,wa=0;var c=s.return;try{if(ob(t,c,s,a,pe)){Ke=1,jo(t,ln(a,t.current)),de=null;return}}catch(f){if(c!==null)throw de=c,f;Ke=1,jo(t,ln(a,t.current)),de=null;return}s.flags&32768?(ve||o===1?t=!0:dr||(pe&536870912)!==0?t=!1:(_i=t=!0,(o===2||o===9||o===3||o===6)&&(o=Xt.current,o!==null&&o.tag===13&&(o.flags|=16384))),zv(s,t)):Jo(s)}function Jo(t){var s=t;do{if((s.flags&32768)!==0){zv(s,_i);return}t=s.return;var a=hb(s.alternate,s,$n);if(a!==null){de=a;return}if(s=s.sibling,s!==null){de=s;return}de=s=t}while(s!==null);Ke===0&&(Ke=5)}function zv(t,s){do{var a=fb(t.alternate,t);if(a!==null){a.flags&=32767,de=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){de=t;return}de=t=a}while(t!==null);Ke=6,de=null}function kv(t,s,a,o,c,f,g,y,S){t.cancelPendingCommit=null;do Wo();while(rt!==0);if((Ae&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(f=s.lanes|s.childLanes,f|=Eh,W1(t,a,f,g,y,S),t===ze&&(de=ze=null,pe=0),gr=s,bi=t,Zn=a,Df=f,Rf=c,Cv=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bb(eo,function(){return Hv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=O.T,O.T=null,c=q.p,q.p=2,g=Ae,Ae|=4;try{db(t,s,a)}finally{Ae=g,q.p=c,O.T=o}}rt=1,Bv(),jv(),Vv()}}function Bv(){if(rt===1){rt=0;var t=bi,s=gr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var o=q.p;q.p=2;var c=Ae;Ae|=4;try{vv(s,t);var f=Ff,g=bp(t.containerInfo),y=f.focusedElem,S=f.selectionRange;if(g!==y&&y&&y.ownerDocument&&wp(y.ownerDocument.documentElement,y)){if(S!==null&&mh(y)){var A=S.start,R=S.end;if(R===void 0&&(R=A),"selectionStart"in y)y.selectionStart=A,y.selectionEnd=Math.min(R,y.value.length);else{var I=y.ownerDocument||document,C=I&&I.defaultView||window;if(C.getSelection){var N=C.getSelection(),Y=y.textContent.length,W=Math.min(S.start,Y),Ue=S.end===void 0?W:Math.min(S.end,Y);!N.extend&&W>Ue&&(g=Ue,Ue=W,W=g);var w=Tp(y,W),_=Tp(y,Ue);if(w&&_&&(N.rangeCount!==1||N.anchorNode!==w.node||N.anchorOffset!==w.offset||N.focusNode!==_.node||N.focusOffset!==_.offset)){var b=I.createRange();b.setStart(w.node,w.offset),N.removeAllRanges(),W>Ue?(N.addRange(b),N.extend(_.node,_.offset)):(b.setEnd(_.node,_.offset),N.addRange(b))}}}}for(I=[],N=y;N=N.parentNode;)N.nodeType===1&&I.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<I.length;y++){var M=I[y];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}hu=!!Gf,Ff=Gf=null}finally{Ae=c,q.p=o,O.T=a}}t.current=s,rt=2}}function jv(){if(rt===2){rt=0;var t=bi,s=gr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var o=q.p;q.p=2;var c=Ae;Ae|=4;try{dv(t,s.alternate,s)}finally{Ae=c,q.p=o,O.T=a}}rt=3}}function Vv(){if(rt===4||rt===3){rt=0,F1();var t=bi,s=gr,a=Zn,o=Cv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?rt=5:(rt=0,gr=bi=null,qv(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(wi=null),Xc(a),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ra,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=O.T,c=q.p,q.p=2,O.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var y=o[g];f(y.value,{componentStack:y.stack})}}finally{O.T=s,q.p=c}}(Zn&3)!==0&&Wo(),Cn(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Of?Va++:(Va=0,Of=t):Va=0,qa(0)}}function qv(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,_a(s)))}function Wo(){return Bv(),jv(),Vv(),Hv()}function Hv(){if(rt!==5)return!1;var t=bi,s=Df;Df=0;var a=Xc(Zn),o=O.T,c=q.p;try{q.p=32>a?32:a,O.T=null,a=Rf,Rf=null;var f=bi,g=Zn;if(rt=0,gr=bi=null,Zn=0,(Ae&6)!==0)throw Error(r(331));var y=Ae;if(Ae|=4,wv(f.current),Sv(f,f.current,g,a),Ae=y,qa(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ra,f)}catch{}return!0}finally{q.p=c,O.T=o,qv(t,s)}}function Gv(t,s,a){s=ln(a,s),s=of(t.stateNode,s,2),t=yi(t,s,2),t!==null&&(la(t,2),Cn(t))}function Re(t,s,a){if(t.tag===3)Gv(t,t,a);else for(;s!==null;){if(s.tag===3){Gv(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wi===null||!wi.has(o))){t=ln(a,t),a=Fy(2),o=yi(s,a,2),o!==null&&(Ky(a,o,s,t),la(o,2),Cn(o));break}}s=s.return}}function xf(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new pb;var c=new Set;o.set(s,c)}else c=o.get(s),c===void 0&&(c=new Set,o.set(s,c));c.has(a)||(Af=!0,c.add(a),t=_b.bind(null,t,s,a),s.then(t,t))}function _b(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ze===t&&(pe&a)===a&&(Ke===4||Ke===3&&(pe&62914560)===pe&&300>Ft()-Po?(Ae&2)===0&&pr(t,0):Cf|=a,mr===pe&&(mr=0)),Cn(t)}function Fv(t,s){s===0&&(s=Bg()),t=hs(t,s),t!==null&&(la(t,s),Cn(t))}function Tb(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),Fv(t,a)}function wb(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(s),Fv(t,a)}function bb(t,s){return Kc(t,s)}var eu=null,vr=null,Uf=!1,tu=!1,Lf=!1,Ci=0;function Cn(t){t!==vr&&t.next===null&&(vr===null?eu=vr=t:vr=vr.next=t),tu=!0,Uf||(Uf=!0,Cb())}function qa(t,s){if(!Lf&&tu){Lf=!0;do for(var a=!1,o=eu;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,y=o.pingedLanes;f=(1<<31-Yt(42|t)+1)-1,f&=c&~(g&~y),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Qv(o,f))}else f=pe,f=so(o,o===ze?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||aa(o,f)||(a=!0,Qv(o,f));o=o.next}while(a);Lf=!1}}function Ab(){Kv()}function Kv(){tu=Uf=!1;var t=0;Ci!==0&&zb()&&(t=Ci);for(var s=Ft(),a=null,o=eu;o!==null;){var c=o.next,f=Yv(o,s);f===0?(o.next=null,a===null?eu=c:a.next=c,c===null&&(vr=a)):(a=o,(t!==0||(f&3)!==0)&&(tu=!0)),o=c}rt!==0&&rt!==5||qa(t),Ci!==0&&(Ci=0)}function Yv(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Yt(f),y=1<<g,S=c[g];S===-1?((y&a)===0||(y&o)!==0)&&(c[g]=J1(y,s)):S<=s&&(t.expiredLanes|=y),f&=~y}if(s=ze,a=pe,a=so(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&(De===2||De===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Yc(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||aa(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&Yc(o),Xc(a)){case 2:case 8:a=zg;break;case 32:a=eo;break;case 268435456:a=kg;break;default:a=eo}return o=Pv.bind(null,t),a=Kc(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&Yc(o),t.callbackPriority=2,t.callbackNode=null,2}function Pv(t,s){if(rt!==0&&rt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Wo()&&t.callbackNode!==a)return null;var o=pe;return o=so(t,t===ze?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Dv(t,o,s),Yv(t,Ft()),t.callbackNode!=null&&t.callbackNode===a?Pv.bind(null,t):null)}function Qv(t,s){if(Wo())return null;Dv(t,s,!0)}function Cb(){Bb(function(){(Ae&6)!==0?Kc(Lg,Ab):Kv()})}function zf(){if(Ci===0){var t=ir;t===0&&(t=to,to<<=1,(to&261888)===0&&(to=256)),Ci=t}return Ci}function Xv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:oo(""+t)}function $v(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Nb(t,s,a,o,c){if(s==="submit"&&a&&a.stateNode===c){var f=Xv((c[kt]||null).action),g=o.submitter;g&&(s=(s=g[kt]||null)?Xv(s.formAction):g.getAttribute("formAction"),s!==null&&(f=s,g=null));var y=new fo("action","action",null,o,c);t.push({event:y,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ci!==0){var S=g?$v(c,g):new FormData(c);tf(a,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(y.preventDefault(),S=g?$v(c,g):new FormData(c),tf(a,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var kf=0;kf<vh.length;kf++){var Bf=vh[kf],Db=Bf.toLowerCase(),Rb=Bf[0].toUpperCase()+Bf.slice(1);pn(Db,"on"+Rb)}pn(Np,"onAnimationEnd"),pn(Dp,"onAnimationIteration"),pn(Rp,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(Kw,"onTransitionRun"),pn(Yw,"onTransitionStart"),pn(Pw,"onTransitionCancel"),pn(Op,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ha));function Zv(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],c=o.event;o=o.listeners;e:{var f=void 0;if(s)for(var g=o.length-1;0<=g;g--){var y=o[g],S=y.instance,A=y.currentTarget;if(y=y.listener,S!==f&&c.isPropagationStopped())break e;f=y,c.currentTarget=A;try{f(c)}catch(R){po(R)}c.currentTarget=null,f=S}else for(g=0;g<o.length;g++){if(y=o[g],S=y.instance,A=y.currentTarget,y=y.listener,S!==f&&c.isPropagationStopped())break e;f=y,c.currentTarget=A;try{f(c)}catch(R){po(R)}c.currentTarget=null,f=S}}}}function me(t,s){var a=s[$c];a===void 0&&(a=s[$c]=new Set);var o=t+"__bubble";a.has(o)||(Jv(s,t,2,!1),a.add(o))}function jf(t,s,a){var o=0;s&&(o|=4),Jv(a,t,o,s)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Vf(t){if(!t[nu]){t[nu]=!0,Kg.forEach(function(a){a!=="selectionchange"&&(Ob.has(a)||jf(a,!1,t),jf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[nu]||(s[nu]=!0,jf("selectionchange",!1,s))}}function Jv(t,s,a,o){switch(N0(s)){case 2:var c=sA;break;case 8:c=rA;break;default:c=td}a=c.bind(null,s,a,t),c=void 0,!rh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(s,a,{capture:!0,passive:c}):t.addEventListener(s,a,!0):c!==void 0?t.addEventListener(s,a,{passive:c}):t.addEventListener(s,a,!1)}function qf(t,s,a,o,c){var f=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var y=o.stateNode.containerInfo;if(y===c)break;if(g===4)for(g=o.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;y!==null;){if(g=Vs(y),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){o=f=g;continue e}y=y.parentNode}}o=o.return}ip(function(){var A=f,R=ih(a),I=[];e:{var C=Mp.get(t);if(C!==void 0){var N=fo,Y=t;switch(t){case"keypress":if(co(a)===0)break e;case"keydown":case"keyup":N=ww;break;case"focusin":Y="focus",N=uh;break;case"focusout":Y="blur",N=uh;break;case"beforeblur":case"afterblur":N=uh;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=ap;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=hw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Cw;break;case Np:case Dp:case Rp:N=mw;break;case Op:N=Dw;break;case"scroll":case"scrollend":N=uw;break;case"wheel":N=Ow;break;case"copy":case"cut":case"paste":N=pw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=op;break;case"toggle":case"beforetoggle":N=Iw}var W=(s&4)!==0,Ue=!W&&(t==="scroll"||t==="scrollend"),w=W?C!==null?C+"Capture":null:C;W=[];for(var _=A,b;_!==null;){var M=_;if(b=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||b===null||w===null||(M=ca(_,w),M!=null&&W.push(Ga(_,M,b))),Ue)break;_=_.return}0<W.length&&(C=new N(C,Y,null,a,R),I.push({event:C,listeners:W}))}}if((s&7)===0){e:{if(C=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",C&&a!==nh&&(Y=a.relatedTarget||a.fromElement)&&(Vs(Y)||Y[js]))break e;if((N||C)&&(C=R.window===R?R:(C=R.ownerDocument)?C.defaultView||C.parentWindow:window,N?(Y=a.relatedTarget||a.toElement,N=A,Y=Y?Vs(Y):null,Y!==null&&(Ue=u(Y),W=Y.tag,Y!==Ue||W!==5&&W!==27&&W!==6)&&(Y=null)):(N=null,Y=A),N!==Y)){if(W=ap,M="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(W=op,M="onPointerLeave",w="onPointerEnter",_="pointer"),Ue=N==null?C:ua(N),b=Y==null?C:ua(Y),C=new W(M,_+"leave",N,a,R),C.target=Ue,C.relatedTarget=b,M=null,Vs(R)===A&&(W=new W(w,_+"enter",Y,a,R),W.target=b,W.relatedTarget=Ue,M=W),Ue=M,N&&Y)t:{for(W=Mb,w=N,_=Y,b=0,M=w;M;M=W(M))b++;M=0;for(var $=_;$;$=W($))M++;for(;0<b-M;)w=W(w),b--;for(;0<M-b;)_=W(_),M--;for(;b--;){if(w===_||_!==null&&w===_.alternate){W=w;break t}w=W(w),_=W(_)}W=null}else W=null;N!==null&&Wv(I,C,N,W,!1),Y!==null&&Ue!==null&&Wv(I,Ue,Y,W,!0)}}e:{if(C=A?ua(A):window,N=C.nodeName&&C.nodeName.toLowerCase(),N==="select"||N==="input"&&C.type==="file")var _e=pp;else if(mp(C))if(yp)_e=Hw;else{_e=Vw;var Q=jw}else N=C.nodeName,!N||N.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?A&&th(A.elementType)&&(_e=pp):_e=qw;if(_e&&(_e=_e(t,A))){gp(I,_e,a,R);break e}Q&&Q(t,C,A),t==="focusout"&&A&&C.type==="number"&&A.memoizedProps.value!=null&&eh(C,"number",C.value)}switch(Q=A?ua(A):window,t){case"focusin":(mp(Q)||Q.contentEditable==="true")&&(Xs=Q,gh=A,va=null);break;case"focusout":va=gh=Xs=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,Ap(I,a,R);break;case"selectionchange":if(Fw)break;case"keydown":case"keyup":Ap(I,a,R)}var he;if(hh)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Qs?fp(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(up&&a.locale!=="ko"&&(Qs||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Qs&&(he=sp()):(ci=R,ah="value"in ci?ci.value:ci.textContent,Qs=!0)),Q=iu(A,ye),0<Q.length&&(ye=new lp(ye,t,null,a,R),I.push({event:ye,listeners:Q}),he?ye.data=he:(he=dp(a),he!==null&&(ye.data=he)))),(he=Uw?Lw(t,a):zw(t,a))&&(ye=iu(A,"onBeforeInput"),0<ye.length&&(Q=new lp("onBeforeInput","beforeinput",null,a,R),I.push({event:Q,listeners:ye}),Q.data=he)),Nb(I,t,A,a,R)}Zv(I,s)})}function Ga(t,s,a){return{instance:t,listener:s,currentTarget:a}}function iu(t,s){for(var a=s+"Capture",o=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ca(t,a),c!=null&&o.unshift(Ga(t,c,f)),c=ca(t,s),c!=null&&o.push(Ga(t,c,f))),t.tag===3)return o;t=t.return}return[]}function Mb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wv(t,s,a,o,c){for(var f=s._reactName,g=[];a!==null&&a!==o;){var y=a,S=y.alternate,A=y.stateNode;if(y=y.tag,S!==null&&S===o)break;y!==5&&y!==26&&y!==27||A===null||(S=A,c?(A=ca(a,f),A!=null&&g.unshift(Ga(a,A,S))):c||(A=ca(a,f),A!=null&&g.push(Ga(a,A,S)))),a=a.return}g.length!==0&&t.push({event:s,listeners:g})}var Ib=/\r\n?/g,xb=/\u0000|\uFFFD/g;function e0(t){return(typeof t=="string"?t:""+t).replace(Ib,`
`).replace(xb,"")}function t0(t,s){return s=e0(s),e0(t)===s}function xe(t,s,a,o,c,f){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||Ks(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&Ks(t,""+o);break;case"className":ao(t,"class",o);break;case"tabIndex":ao(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ao(t,a,o);break;case"style":tp(t,o,f);break;case"data":if(s!=="object"){ao(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=oo(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(s!=="input"&&xe(t,s,"name",c.name,c,null),xe(t,s,"formEncType",c.formEncType,c,null),xe(t,s,"formMethod",c.formMethod,c,null),xe(t,s,"formTarget",c.formTarget,c,null)):(xe(t,s,"encType",c.encType,c,null),xe(t,s,"method",c.method,c,null),xe(t,s,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=oo(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=zn);break;case"onScroll":o!=null&&me("scroll",t);break;case"onScrollEnd":o!=null&&me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=oo(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":me("beforetoggle",t),me("toggle",t),ro(t,"popover",o);break;case"xlinkActuate":Ln(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ln(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ln(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ln(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ln(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ln(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ro(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lw.get(a)||a,ro(t,a,o))}}function Hf(t,s,a,o,c,f){switch(a){case"style":tp(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Ks(t,o):(typeof o=="number"||typeof o=="bigint")&&Ks(t,""+o);break;case"onScroll":o!=null&&me("scroll",t);break;case"onScrollEnd":o!=null&&me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),s=a.slice(2,c?a.length-7:void 0),f=t[kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(s,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,c);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ro(t,a,o)}}}function Et(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",t),me("load",t);var o=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:xe(t,s,f,g,a,null)}}c&&xe(t,s,"srcSet",a.srcSet,a,null),o&&xe(t,s,"src",a.src,a,null);return;case"input":me("invalid",t);var y=f=g=c=null,S=null,A=null;for(o in a)if(a.hasOwnProperty(o)){var R=a[o];if(R!=null)switch(o){case"name":c=R;break;case"type":g=R;break;case"checked":S=R;break;case"defaultChecked":A=R;break;case"value":f=R;break;case"defaultValue":y=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,s));break;default:xe(t,s,o,R,a,null)}}Zg(t,f,y,S,A,g,c,!1);return;case"select":me("invalid",t),o=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(y=a[c],y!=null))switch(c){case"value":f=y;break;case"defaultValue":g=y;break;case"multiple":o=y;default:xe(t,s,c,y,a,null)}s=f,a=g,t.multiple=!!o,s!=null?Fs(t,!!o,s,!1):a!=null&&Fs(t,!!o,a,!0);return;case"textarea":me("invalid",t),f=c=o=null;for(g in a)if(a.hasOwnProperty(g)&&(y=a[g],y!=null))switch(g){case"value":o=y;break;case"defaultValue":c=y;break;case"children":f=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:xe(t,s,g,y,a,null)}Wg(t,o,c,f);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(o=a[S],o!=null))switch(S){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:xe(t,s,S,o,a,null)}return;case"dialog":me("beforetoggle",t),me("toggle",t),me("cancel",t),me("close",t);break;case"iframe":case"object":me("load",t);break;case"video":case"audio":for(o=0;o<Ha.length;o++)me(Ha[o],t);break;case"image":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"embed":case"source":case"link":me("error",t),me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(o=a[A],o!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:xe(t,s,A,o,a,null)}return;default:if(th(s)){for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!==void 0&&Hf(t,s,R,o,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(o=a[y],o!=null&&xe(t,s,y,o,a,null))}function Ub(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,y=null,S=null,A=null,R=null;for(N in a){var I=a[N];if(a.hasOwnProperty(N)&&I!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":S=I;default:o.hasOwnProperty(N)||xe(t,s,N,null,o,I)}}for(var C in o){var N=o[C];if(I=a[C],o.hasOwnProperty(C)&&(N!=null||I!=null))switch(C){case"type":f=N;break;case"name":c=N;break;case"checked":A=N;break;case"defaultChecked":R=N;break;case"value":g=N;break;case"defaultValue":y=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,s));break;default:N!==I&&xe(t,s,C,N,o,I)}}Wc(t,g,y,S,A,R,f,c);return;case"select":N=g=y=C=null;for(f in a)if(S=a[f],a.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":N=S;default:o.hasOwnProperty(f)||xe(t,s,f,null,o,S)}for(c in o)if(f=o[c],S=a[c],o.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":C=f;break;case"defaultValue":y=f;break;case"multiple":g=f;default:f!==S&&xe(t,s,c,f,o,S)}s=y,a=g,o=N,C!=null?Fs(t,!!a,C,!1):!!o!=!!a&&(s!=null?Fs(t,!!a,s,!0):Fs(t,!!a,a?[]:"",!1));return;case"textarea":N=C=null;for(y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!o.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:xe(t,s,y,null,o,c)}for(g in o)if(c=o[g],f=a[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":C=c;break;case"defaultValue":N=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&xe(t,s,g,c,o,f)}Jg(t,C,N);return;case"option":for(var Y in a)if(C=a[Y],a.hasOwnProperty(Y)&&C!=null&&!o.hasOwnProperty(Y))switch(Y){case"selected":t.selected=!1;break;default:xe(t,s,Y,null,o,C)}for(S in o)if(C=o[S],N=a[S],o.hasOwnProperty(S)&&C!==N&&(C!=null||N!=null))switch(S){case"selected":t.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:xe(t,s,S,C,o,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in a)C=a[W],a.hasOwnProperty(W)&&C!=null&&!o.hasOwnProperty(W)&&xe(t,s,W,null,o,C);for(A in o)if(C=o[A],N=a[A],o.hasOwnProperty(A)&&C!==N&&(C!=null||N!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,s));break;default:xe(t,s,A,C,o,N)}return;default:if(th(s)){for(var Ue in a)C=a[Ue],a.hasOwnProperty(Ue)&&C!==void 0&&!o.hasOwnProperty(Ue)&&Hf(t,s,Ue,void 0,o,C);for(R in o)C=o[R],N=a[R],!o.hasOwnProperty(R)||C===N||C===void 0&&N===void 0||Hf(t,s,R,C,o,N);return}}for(var w in a)C=a[w],a.hasOwnProperty(w)&&C!=null&&!o.hasOwnProperty(w)&&xe(t,s,w,null,o,C);for(I in o)C=o[I],N=a[I],!o.hasOwnProperty(I)||C===N||C==null&&N==null||xe(t,s,I,C,o,N)}function n0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var c=a[o],f=c.transferSize,g=c.initiatorType,y=c.duration;if(f&&y&&n0(g)){for(g=0,y=c.responseEnd,o+=1;o<a.length;o++){var S=a[o],A=S.startTime;if(A>y)break;var R=S.transferSize,I=S.initiatorType;R&&n0(I)&&(S=S.responseEnd,g+=R*(S<y?1:(y-A)/(S-A)))}if(--o,s+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gf=null,Ff=null;function su(t){return t.nodeType===9?t:t.ownerDocument}function i0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s0(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Kf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yf=null;function zb(){var t=window.event;return t&&t.type==="popstate"?t===Yf?!1:(Yf=t,!0):(Yf=null,!1)}var r0=typeof setTimeout=="function"?setTimeout:void 0,kb=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,Bb=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(t){return a0.resolve(null).then(t).catch(jb)}:r0;function jb(t){setTimeout(function(){throw t})}function Ni(t){return t==="head"}function l0(t,s){var a=s,o=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(c),Tr(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Fa(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Fa(a);for(var f=a.firstChild;f;){var g=f.nextSibling,y=f.nodeName;f[oa]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Fa(t.ownerDocument.body);a=c}while(a);Tr(s)}function o0(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Pf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pf(a),Zc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Vb(t,s,a,o){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[oa])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=fn(t.nextSibling),t===null)break}return null}function qb(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=fn(t.nextSibling),t===null))return null;return t}function u0(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=fn(t.nextSibling),t===null))return null;return t}function Qf(t){return t.data==="$?"||t.data==="$~"}function Xf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Hb(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function fn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var $f=null;function c0(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return fn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function h0(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function f0(t,s,a){switch(s=su(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Fa(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Zc(t)}var dn=new Map,d0=new Set;function ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Jn=q.d;q.d={f:Gb,r:Fb,D:Kb,C:Yb,L:Pb,m:Qb,X:$b,S:Xb,M:Zb};function Gb(){var t=Jn.f(),s=$o();return t||s}function Fb(t){var s=qs(t);s!==null&&s.tag===5&&s.type==="form"?Oy(s):Jn.r(t)}var Er=typeof document>"u"?null:document;function m0(t,s,a){var o=Er;if(o&&typeof s=="string"&&s){var c=rn(s);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),d0.has(c)||(d0.add(c),t={rel:t,crossOrigin:a,href:s},o.querySelector(c)===null&&(s=o.createElement("link"),Et(s,"link",t),ot(s),o.head.appendChild(s)))}}function Kb(t){Jn.D(t),m0("dns-prefetch",t,null)}function Yb(t,s){Jn.C(t,s),m0("preconnect",t,s)}function Pb(t,s,a){Jn.L(t,s,a);var o=Er;if(o&&t&&s){var c='link[rel="preload"][as="'+rn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+rn(a.imageSizes)+'"]')):c+='[href="'+rn(t)+'"]';var f=c;switch(s){case"style":f=Sr(t);break;case"script":f=_r(t)}dn.has(f)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),dn.set(f,t),o.querySelector(c)!==null||s==="style"&&o.querySelector(Ka(f))||s==="script"&&o.querySelector(Ya(f))||(s=o.createElement("link"),Et(s,"link",t),ot(s),o.head.appendChild(s)))}}function Qb(t,s){Jn.m(t,s);var a=Er;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",c='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_r(t)}if(!dn.has(f)&&(t=E({rel:"modulepreload",href:t},s),dn.set(f,t),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ya(f)))return}o=a.createElement("link"),Et(o,"link",t),ot(o),a.head.appendChild(o)}}}function Xb(t,s,a){Jn.S(t,s,a);var o=Er;if(o&&t){var c=Hs(o).hoistableStyles,f=Sr(t);s=s||"default";var g=c.get(f);if(!g){var y={loading:0,preload:null};if(g=o.querySelector(Ka(f)))y.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=dn.get(f))&&Zf(t,a);var S=g=o.createElement("link");ot(S),Et(S,"link",t),S._p=new Promise(function(A,R){S.onload=A,S.onerror=R}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,au(g,s,o)}g={type:"stylesheet",instance:g,count:1,state:y},c.set(f,g)}}}function $b(t,s){Jn.X(t,s);var a=Er;if(a&&t){var o=Hs(a).hoistableScripts,c=_r(t),f=o.get(c);f||(f=a.querySelector(Ya(c)),f||(t=E({src:t,async:!0},s),(s=dn.get(c))&&Jf(t,s),f=a.createElement("script"),ot(f),Et(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Zb(t,s){Jn.M(t,s);var a=Er;if(a&&t){var o=Hs(a).hoistableScripts,c=_r(t),f=o.get(c);f||(f=a.querySelector(Ya(c)),f||(t=E({src:t,async:!0,type:"module"},s),(s=dn.get(c))&&Jf(t,s),f=a.createElement("script"),ot(f),Et(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function g0(t,s,a,o){var c=(c=fe.current)?ru(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Sr(a.href),a=Hs(c).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Sr(a.href);var f=Hs(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Ka(t)))&&!f._p&&(g.instance=f,g.state.loading=5),dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},dn.set(t,a),f||Jb(c,t,a,g.state))),s&&o===null)throw Error(r(528,""));return g}if(s&&o!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_r(a),a=Hs(c).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Sr(t){return'href="'+rn(t)+'"'}function Ka(t){return'link[rel="stylesheet"]['+t+"]"}function p0(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Jb(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Et(s,"link",a),ot(s),t.head.appendChild(s))}function _r(t){return'[src="'+rn(t)+'"]'}function Ya(t){return"script[async]"+t}function y0(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return s.instance=o,ot(o),o;var c=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),ot(o),Et(o,"style",c),au(o,a.precedence,t),s.instance=o;case"stylesheet":c=Sr(a.href);var f=t.querySelector(Ka(c));if(f)return s.state.loading|=4,s.instance=f,ot(f),f;o=p0(a),(c=dn.get(c))&&Zf(o,c),f=(t.ownerDocument||t).createElement("link"),ot(f);var g=f;return g._p=new Promise(function(y,S){g.onload=y,g.onerror=S}),Et(f,"link",o),s.state.loading|=4,au(f,a.precedence,t),s.instance=f;case"script":return f=_r(a.src),(c=t.querySelector(Ya(f)))?(s.instance=c,ot(c),c):(o=a,(c=dn.get(f))&&(o=E({},a),Jf(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),ot(c),Et(c,"link",o),t.head.appendChild(c),s.instance=c);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,au(o,a.precedence,t));return s.instance}function au(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var y=o[g];if(y.dataset.precedence===s)f=y;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Zf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Jf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var lu=null;function v0(t,s,a){if(lu===null){var o=new Map,c=lu=new Map;c.set(a,o)}else c=lu,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[oa]||f[gt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(s)||"";g=t+g;var y=o.get(g);y?y.push(f):o.set(g,[f])}}return o}function E0(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function Wb(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function S0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function eA(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Sr(o.href),f=s.querySelector(Ka(c));if(f){s=f._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ou.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=f,ot(f);return}f=s.ownerDocument||s,o=p0(o),(c=dn.get(c))&&Zf(o,c),f=f.createElement("link"),ot(f);var g=f;g._p=new Promise(function(y,S){g.onload=y,g.onerror=S}),Et(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ou.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Wf=0;function tA(t,s){return t.stylesheets&&t.count===0&&cu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&cu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+s);0<t.imgBytes&&Wf===0&&(Wf=62500*Lb());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&cu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Wf?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function ou(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uu=null;function cu(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uu=new Map,s.forEach(nA,t),uu=null,ou.call(t))}function nA(t,s){if(!(s.state.loading&4)){var a=uu.get(t);if(a)var o=a.get(null);else{a=new Map,uu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}c=s.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,c),a.set(g,c),this.count++,o=ou.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),s.state.loading|=4}}var Pa={$$typeof:Z,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function iA(t,s,a,o,c,f,g,y,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.hiddenUpdates=Pc(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function _0(t,s,a,o,c,f,g,y,S,A,R,I){return t=new iA(t,s,a,g,S,A,R,I,y),s=1,f===!0&&(s|=24),f=Qt(3,null,null,s),t.current=f,f.stateNode=t,s=Mh(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:s},Lh(f),t}function T0(t){return t?(t=Js,t):Js}function w0(t,s,a,o,c,f){c=T0(c),o.context===null?o.context=c:o.pendingContext=c,o=pi(s),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=yi(t,o,s),a!==null&&(Gt(a,t,s),Aa(a,t,s))}function b0(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function ed(t,s){b0(t,s),(t=t.alternate)&&b0(t,s)}function A0(t){if(t.tag===13||t.tag===31){var s=hs(t,67108864);s!==null&&Gt(s,t,67108864),ed(t,67108864)}}function C0(t){if(t.tag===13||t.tag===31){var s=Wt();s=Qc(s);var a=hs(t,s);a!==null&&Gt(a,t,s),ed(t,s)}}var hu=!0;function sA(t,s,a,o){var c=O.T;O.T=null;var f=q.p;try{q.p=2,td(t,s,a,o)}finally{q.p=f,O.T=c}}function rA(t,s,a,o){var c=O.T;O.T=null;var f=q.p;try{q.p=8,td(t,s,a,o)}finally{q.p=f,O.T=c}}function td(t,s,a,o){if(hu){var c=nd(o);if(c===null)qf(t,s,o,fu,a),D0(t,o);else if(lA(c,t,s,a,o))o.stopPropagation();else if(D0(t,o),s&4&&-1<aA.indexOf(t)){for(;c!==null;){var f=qs(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=as(f.pendingLanes);if(g!==0){var y=f;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var S=1<<31-Yt(g);y.entanglements[1]|=S,g&=~S}Cn(f),(Ae&6)===0&&(Qo=Ft()+500,qa(0))}}break;case 31:case 13:y=hs(f,2),y!==null&&Gt(y,f,2),$o(),ed(f,2)}if(f=nd(o),f===null&&qf(t,s,o,fu,a),f===c)break;c=f}c!==null&&o.stopPropagation()}else qf(t,s,o,null,a)}}function nd(t){return t=ih(t),id(t)}var fu=null;function id(t){if(fu=null,t=Vs(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=d(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return fu=t,null}function N0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(K1()){case Lg:return 2;case zg:return 8;case eo:case Y1:return 32;case kg:return 268435456;default:return 32}default:return 32}}var sd=!1,Di=null,Ri=null,Oi=null,Qa=new Map,Xa=new Map,Mi=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D0(t,s){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Qa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(s.pointerId)}}function $a(t,s,a,o,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},s!==null&&(s=qs(s),s!==null&&A0(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),t)}function lA(t,s,a,o,c){switch(s){case"focusin":return Di=$a(Di,t,s,a,o,c),!0;case"dragenter":return Ri=$a(Ri,t,s,a,o,c),!0;case"mouseover":return Oi=$a(Oi,t,s,a,o,c),!0;case"pointerover":var f=c.pointerId;return Qa.set(f,$a(Qa.get(f)||null,t,s,a,o,c)),!0;case"gotpointercapture":return f=c.pointerId,Xa.set(f,$a(Xa.get(f)||null,t,s,a,o,c)),!0}return!1}function R0(t){var s=Vs(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,Gg(t.priority,function(){C0(a)});return}}else if(s===31){if(s=d(a),s!==null){t.blockedOn=s,Gg(t.priority,function(){C0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function du(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=nd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);nh=o,a.target.dispatchEvent(o),nh=null}else return s=qs(a),s!==null&&A0(s),t.blockedOn=a,!1;s.shift()}return!0}function O0(t,s,a){du(t)&&a.delete(s)}function oA(){sd=!1,Di!==null&&du(Di)&&(Di=null),Ri!==null&&du(Ri)&&(Ri=null),Oi!==null&&du(Oi)&&(Oi=null),Qa.forEach(O0),Xa.forEach(O0)}function mu(t,s){t.blockedOn===s&&(t.blockedOn=null,sd||(sd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oA)))}var gu=null;function M0(t){gu!==t&&(gu=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gu===t&&(gu=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],c=t[s+2];if(typeof o!="function"){if(id(o||a)===null)continue;break}var f=qs(a);f!==null&&(t.splice(s,3),s-=3,tf(f,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function Tr(t){function s(S){return mu(S,t)}Di!==null&&mu(Di,t),Ri!==null&&mu(Ri,t),Oi!==null&&mu(Oi,t),Qa.forEach(s),Xa.forEach(s);for(var a=0;a<Mi.length;a++){var o=Mi[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Mi.length&&(a=Mi[0],a.blockedOn===null);)R0(a),a.blockedOn===null&&Mi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],f=a[o+1],g=c[kt]||null;if(typeof f=="function")g||M0(a);else if(g){var y=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[kt]||null)y=g.formAction;else if(id(c)!==null)continue}else y=g.action;typeof y=="function"?a[o+1]=y:(a.splice(o,3),o-=3),M0(a)}}}function I0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function s(){c!==null&&(c(),c=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),c!==null&&(c(),c=null)}}}function rd(t){this._internalRoot=t}pu.prototype.render=rd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,o=Wt();w0(a,o,t,s,null,null)},pu.prototype.unmount=rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;w0(t.current,2,null,t,null,null),$o(),s[js]=null}};function pu(t){this._internalRoot=t}pu.prototype.unstable_scheduleHydration=function(t){if(t){var s=Hg();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Mi.length&&s!==0&&s<Mi[a].priority;a++);Mi.splice(a,0,t),a===0&&R0(t)}};var x0=e.version;if(x0!=="19.2.0")throw Error(r(527,x0,"19.2.0"));q.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(s),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var uA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{ra=yu.inject(uA),Kt=yu}catch{}}return Ja.createRoot=function(t,s){if(!l(t))throw Error(r(299));var a=!1,o="",c=Vy,f=qy,g=Hy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=_0(t,1,!1,null,null,a,o,null,c,f,g,I0),t[js]=s.current,Vf(t),new rd(s)},Ja.hydrateRoot=function(t,s,a){if(!l(t))throw Error(r(299));var o=!1,c="",f=Vy,g=qy,y=Hy,S=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),s=_0(t,1,!0,s,a??null,o,c,S,f,g,y,I0),s.context=T0(null),a=s.current,o=Wt(),o=Qc(o),c=pi(o),c.callback=null,yi(a,c,o),a=o,s.current.lanes=a,la(s,a),Cn(s),t[js]=s.current,Vf(t),new pu(s)},Ja.version="19.2.0",Ja}var G0;function SA(){if(G0)return od.exports;G0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),od.exports=EA(),od.exports}var _A=SA();const TA=wS(_A);AS();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},dl.apply(this,arguments)}var Bi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Bi||(Bi={}));const F0="popstate";function wA(n){n===void 0&&(n={});function e(r,l){let{pathname:u,search:h,hash:d}=r.location;return xd("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(r,l){return typeof l=="string"?l:zu(l)}return AA(e,i,null,n)}function $e(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function CS(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bA(){return Math.random().toString(36).substr(2,8)}function K0(n,e){return{usr:n.state,key:n.key,idx:e}}function xd(n,e,i,r){return i===void 0&&(i=null),dl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Yr(e):e,{state:i,key:e&&e.key||r||bA()})}function zu(n){let{pathname:e="/",search:i="",hash:r=""}=n;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yr(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substr(i),n=n.substr(0,i));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function AA(n,e,i,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:u=!1}=r,h=l.history,d=Bi.Pop,m=null,p=v();p==null&&(p=0,h.replaceState(dl({},h.state,{idx:p}),""));function v(){return(h.state||{idx:null}).idx}function E(){d=Bi.Pop;let B=v(),ee=B==null?null:B-p;p=B,m&&m({action:d,location:F.location,delta:ee})}function D(B,ee){d=Bi.Push;let ae=xd(F.location,B,ee);p=v()+1;let Z=K0(ae,p),ge=F.createHref(ae);try{h.pushState(Z,"",ge)}catch(ke){if(ke instanceof DOMException&&ke.name==="DataCloneError")throw ke;l.location.assign(ge)}u&&m&&m({action:d,location:F.location,delta:1})}function U(B,ee){d=Bi.Replace;let ae=xd(F.location,B,ee);p=v();let Z=K0(ae,p),ge=F.createHref(ae);h.replaceState(Z,"",ge),u&&m&&m({action:d,location:F.location,delta:0})}function H(B){let ee=l.location.origin!=="null"?l.location.origin:l.location.href,ae=typeof B=="string"?B:zu(B);return ae=ae.replace(/ $/,"%20"),$e(ee,"No window.location.(origin|href) available to create URL for href: "+ae),new URL(ae,ee)}let F={get action(){return d},get location(){return n(l,h)},listen(B){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(F0,E),m=B,()=>{l.removeEventListener(F0,E),m=null}},createHref(B){return e(l,B)},createURL:H,encodeLocation(B){let ee=H(B);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:D,replace:U,go(B){return h.go(B)}};return F}var Y0;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Y0||(Y0={}));function CA(n,e,i){return i===void 0&&(i="/"),NA(n,e,i)}function NA(n,e,i,r){let l=typeof e=="string"?Yr(e):e,u=pm(l.pathname||"/",i);if(u==null)return null;let h=NS(n);DA(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let p=VA(u);d=kA(h[m],p)}return d}function NS(n,e,i,r){e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r="");let l=(u,h,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&($e(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let p=qi([r,m.relativePath]),v=i.concat(m);u.children&&u.children.length>0&&($e(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),NS(u.children,e,v,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:LA(p,u.index),routesMeta:v})};return n.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))l(u,h);else for(let m of DS(u.path))l(u,h,m)}),e}function DS(n){let e=n.split("/");if(e.length===0)return[];let[i,...r]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let h=DS(r.join("/")),d=[];return d.push(...h.map(m=>m===""?u:[u,m].join("/"))),l&&d.push(...h),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function DA(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:zA(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const RA=/^:[\w-]+$/,OA=3,MA=2,IA=1,xA=10,UA=-2,P0=n=>n==="*";function LA(n,e){let i=n.split("/"),r=i.length;return i.some(P0)&&(r+=UA),e&&(r+=MA),i.filter(l=>!P0(l)).reduce((l,u)=>l+(RA.test(u)?OA:u===""?IA:xA),r)}function zA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,l)=>r===e[l])?n[n.length-1]-e[e.length-1]:0}function kA(n,e,i){let{routesMeta:r}=n,l={},u="/",h=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,v=u==="/"?e:e.slice(u.length)||"/",E=BA({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),D=m.route;if(!E)return null;Object.assign(l,E.params),h.push({params:l,pathname:qi([u,E.pathname]),pathnameBase:FA(qi([u,E.pathnameBase])),route:D}),E.pathnameBase!=="/"&&(u=qi([u,E.pathnameBase]))}return h}function BA(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,r]=jA(n.path,n.caseSensitive,n.end),l=e.match(i);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:r.reduce((p,v,E)=>{let{paramName:D,isOptional:U}=v;if(D==="*"){let F=d[E]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const H=d[E];return U&&!H?p[D]=void 0:p[D]=(H||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:n}}function jA(n,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),CS(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function VA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return CS(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function pm(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=n.charAt(i);return r&&r!=="/"?null:n.slice(i)||"/"}function qA(n,e){e===void 0&&(e="/");let{pathname:i,search:r="",hash:l=""}=typeof n=="string"?Yr(n):n;return{pathname:i?i.startsWith("/")?i:HA(i,e):e,search:KA(r),hash:YA(l)}}function HA(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function fd(n,e,i,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GA(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function ym(n,e){let i=GA(n);return e?i.map((r,l)=>l===i.length-1?r.pathname:r.pathnameBase):i.map(r=>r.pathnameBase)}function vm(n,e,i,r){r===void 0&&(r=!1);let l;typeof n=="string"?l=Yr(n):(l=dl({},n),$e(!l.pathname||!l.pathname.includes("?"),fd("?","pathname","search",l)),$e(!l.pathname||!l.pathname.includes("#"),fd("#","pathname","hash",l)),$e(!l.search||!l.search.includes("#"),fd("#","search","hash",l)));let u=n===""||l.pathname==="",h=u?"/":l.pathname,d;if(h==null)d=i;else{let E=e.length-1;if(!r&&h.startsWith("..")){let D=h.split("/");for(;D[0]==="..";)D.shift(),E-=1;l.pathname=D.join("/")}d=E>=0?e[E]:"/"}let m=qA(l,d),p=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}const qi=n=>n.join("/").replace(/\/\/+/g,"/"),FA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),KA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,YA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function PA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const RS=["post","put","patch","delete"];new Set(RS);const QA=["get",...RS];new Set(QA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},ml.apply(this,arguments)}const Em=j.createContext(null),XA=j.createContext(null),Wi=j.createContext(null),ic=j.createContext(null),es=j.createContext({outlet:null,matches:[],isDataRoute:!1}),OS=j.createContext(null);function $A(n,e){let{relative:i}=e===void 0?{}:e;Pr()||$e(!1);let{basename:r,navigator:l}=j.useContext(Wi),{hash:u,pathname:h,search:d}=IS(n,{relative:i}),m=h;return r!=="/"&&(m=h==="/"?r:qi([r,h])),l.createHref({pathname:m,search:d,hash:u})}function Pr(){return j.useContext(ic)!=null}function Il(){return Pr()||$e(!1),j.useContext(ic).location}function MS(n){j.useContext(Wi).static||j.useLayoutEffect(n)}function Sm(){let{isDataRoute:n}=j.useContext(es);return n?uC():ZA()}function ZA(){Pr()||$e(!1);let n=j.useContext(Em),{basename:e,future:i,navigator:r}=j.useContext(Wi),{matches:l}=j.useContext(es),{pathname:u}=Il(),h=JSON.stringify(ym(l,i.v7_relativeSplatPath)),d=j.useRef(!1);return MS(()=>{d.current=!0}),j.useCallback(function(p,v){if(v===void 0&&(v={}),!d.current)return;if(typeof p=="number"){r.go(p);return}let E=vm(p,JSON.parse(h),u,v.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:qi([e,E.pathname])),(v.replace?r.replace:r.push)(E,v.state,v)},[e,r,h,u,n])}function IS(n,e){let{relative:i}=e===void 0?{}:e,{future:r}=j.useContext(Wi),{matches:l}=j.useContext(es),{pathname:u}=Il(),h=JSON.stringify(ym(l,r.v7_relativeSplatPath));return j.useMemo(()=>vm(n,JSON.parse(h),u,i==="path"),[n,h,u,i])}function JA(n,e){return WA(n,e)}function WA(n,e,i,r){Pr()||$e(!1);let{navigator:l}=j.useContext(Wi),{matches:u}=j.useContext(es),h=u[u.length-1],d=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let p=Il(),v;if(e){var E;let B=typeof e=="string"?Yr(e):e;m==="/"||(E=B.pathname)!=null&&E.startsWith(m)||$e(!1),v=B}else v=p;let D=v.pathname||"/",U=D;if(m!=="/"){let B=m.replace(/^\//,"").split("/");U="/"+D.replace(/^\//,"").split("/").slice(B.length).join("/")}let H=CA(n,{pathname:U}),F=sC(H&&H.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:qi([m,l.encodeLocation?l.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:qi([m,l.encodeLocation?l.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),u,i,r);return e&&F?j.createElement(ic.Provider,{value:{location:ml({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Bi.Pop}},F):F}function eC(){let n=oC(),e=PA(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),i?j.createElement("pre",{style:l},i):null,null)}const tC=j.createElement(eC,null);class nC extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?j.createElement(es.Provider,{value:this.props.routeContext},j.createElement(OS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iC(n){let{routeContext:e,match:i,children:r}=n,l=j.useContext(Em);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),j.createElement(es.Provider,{value:e},r)}function sC(n,e,i,r){var l;if(e===void 0&&(e=[]),i===void 0&&(i=null),r===void 0&&(r=null),n==null){var u;if(!i)return null;if(i.errors)n=i.matches;else if((u=r)!=null&&u.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let h=n,d=(l=i)==null?void 0:l.errors;if(d!=null){let v=h.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);v>=0||$e(!1),h=h.slice(0,Math.min(h.length,v+1))}let m=!1,p=-1;if(i&&r&&r.v7_partialHydration)for(let v=0;v<h.length;v++){let E=h[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=v),E.route.id){let{loaderData:D,errors:U}=i,H=E.route.loader&&D[E.route.id]===void 0&&(!U||U[E.route.id]===void 0);if(E.route.lazy||H){m=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}return h.reduceRight((v,E,D)=>{let U,H=!1,F=null,B=null;i&&(U=d&&E.route.id?d[E.route.id]:void 0,F=E.route.errorElement||tC,m&&(p<0&&D===0?(cC("route-fallback"),H=!0,B=null):p===D&&(H=!0,B=E.route.hydrateFallbackElement||null)));let ee=e.concat(h.slice(0,D+1)),ae=()=>{let Z;return U?Z=F:H?Z=B:E.route.Component?Z=j.createElement(E.route.Component,null):E.route.element?Z=E.route.element:Z=v,j.createElement(iC,{match:E,routeContext:{outlet:v,matches:ee,isDataRoute:i!=null},children:Z})};return i&&(E.route.ErrorBoundary||E.route.errorElement||D===0)?j.createElement(nC,{location:i.location,revalidation:i.revalidation,component:F,error:U,children:ae(),routeContext:{outlet:null,matches:ee,isDataRoute:!0}}):ae()},null)}var xS=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(xS||{}),US=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(US||{});function rC(n){let e=j.useContext(Em);return e||$e(!1),e}function aC(n){let e=j.useContext(XA);return e||$e(!1),e}function lC(n){let e=j.useContext(es);return e||$e(!1),e}function LS(n){let e=lC(),i=e.matches[e.matches.length-1];return i.route.id||$e(!1),i.route.id}function oC(){var n;let e=j.useContext(OS),i=aC(),r=LS();return e!==void 0?e:(n=i.errors)==null?void 0:n[r]}function uC(){let{router:n}=rC(xS.UseNavigateStable),e=LS(US.UseNavigateStable),i=j.useRef(!1);return MS(()=>{i.current=!0}),j.useCallback(function(l,u){u===void 0&&(u={}),i.current&&(typeof l=="number"?n.navigate(l):n.navigate(l,ml({fromRouteId:e},u)))},[n,e])}const Q0={};function cC(n,e,i){Q0[n]||(Q0[n]=!0)}function hC(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function fC(n){let{to:e,replace:i,state:r,relative:l}=n;Pr()||$e(!1);let{future:u,static:h}=j.useContext(Wi),{matches:d}=j.useContext(es),{pathname:m}=Il(),p=Sm(),v=vm(e,ym(d,u.v7_relativeSplatPath),m,l==="path"),E=JSON.stringify(v);return j.useEffect(()=>p(JSON.parse(E),{replace:i,state:r,relative:l}),[p,E,l,i,r]),null}function As(n){$e(!1)}function dC(n){let{basename:e="/",children:i=null,location:r,navigationType:l=Bi.Pop,navigator:u,static:h=!1,future:d}=n;Pr()&&$e(!1);let m=e.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:m,navigator:u,static:h,future:ml({v7_relativeSplatPath:!1},d)}),[m,d,u,h]);typeof r=="string"&&(r=Yr(r));let{pathname:v="/",search:E="",hash:D="",state:U=null,key:H="default"}=r,F=j.useMemo(()=>{let B=pm(v,m);return B==null?null:{location:{pathname:B,search:E,hash:D,state:U,key:H},navigationType:l}},[m,v,E,D,U,H,l]);return F==null?null:j.createElement(Wi.Provider,{value:p},j.createElement(ic.Provider,{children:i,value:F}))}function zS(n){let{children:e,location:i}=n;return JA(Ud(e),i)}new Promise(()=>{});function Ud(n,e){e===void 0&&(e=[]);let i=[];return j.Children.forEach(n,(r,l)=>{if(!j.isValidElement(r))return;let u=[...e,l];if(r.type===j.Fragment){i.push.apply(i,Ud(r.props.children,u));return}r.type!==As&&$e(!1),!r.props.index||!r.props.children||$e(!1);let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Ud(r.props.children,u)),i.push(h)}),i}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ld(){return Ld=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},Ld.apply(this,arguments)}function mC(n,e){if(n==null)return{};var i={},r=Object.keys(n),l,u;for(u=0;u<r.length;u++)l=r[u],!(e.indexOf(l)>=0)&&(i[l]=n[l]);return i}function gC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pC(n,e){return n.button===0&&(!e||e==="_self")&&!gC(n)}const yC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vC="6";try{window.__reactRouterVersion=vC}catch{}const EC="startTransition",X0=gA[EC];function SC(n){let{basename:e,children:i,future:r,window:l}=n,u=j.useRef();u.current==null&&(u.current=wA({window:l,v5Compat:!0}));let h=u.current,[d,m]=j.useState({action:h.action,location:h.location}),{v7_startTransition:p}=r||{},v=j.useCallback(E=>{p&&X0?X0(()=>m(E)):m(E)},[m,p]);return j.useLayoutEffect(()=>h.listen(v),[h,v]),j.useEffect(()=>hC(r),[r]),j.createElement(dC,{basename:e,children:i,location:d.location,navigationType:d.action,navigator:h,future:r})}const _C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vu=j.forwardRef(function(e,i){let{onClick:r,relative:l,reloadDocument:u,replace:h,state:d,target:m,to:p,preventScrollReset:v,viewTransition:E}=e,D=mC(e,yC),{basename:U}=j.useContext(Wi),H,F=!1;if(typeof p=="string"&&TC.test(p)&&(H=p,_C))try{let Z=new URL(window.location.href),ge=p.startsWith("//")?new URL(Z.protocol+p):new URL(p),ke=pm(ge.pathname,U);ge.origin===Z.origin&&ke!=null?p=ke+ge.search+ge.hash:F=!0}catch{}let B=$A(p,{relative:l}),ee=wC(p,{replace:h,state:d,target:m,preventScrollReset:v,relative:l,viewTransition:E});function ae(Z){r&&r(Z),Z.defaultPrevented||ee(Z)}return j.createElement("a",Ld({},D,{href:H||B,onClick:F||u?r:ae,ref:i,target:m}))});var $0;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})($0||($0={}));var Z0;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Z0||(Z0={}));function wC(n,e){let{target:i,replace:r,state:l,preventScrollReset:u,relative:h,viewTransition:d}=e===void 0?{}:e,m=Sm(),p=Il(),v=IS(n,{relative:h});return j.useCallback(E=>{if(pC(E,i)){E.preventDefault();let D=r!==void 0?r:zu(p)===zu(v);m(n,{replace:D,state:l,preventScrollReset:u,relative:h,viewTransition:d})}},[p,m,v,r,l,i,n,u,h,d])}var J0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=function(n){const e=[];let i=0;for(let r=0;r<n.length;r++){let l=n.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},bC=function(n){const e=[];let i=0,r=0;for(;i<n.length;){const l=n[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[i++],h=n[i++],d=n[i++],m=((l&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const u=n[i++],h=n[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return e.join("")},BS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<n.length;l+=3){const u=n[l],h=l+1<n.length,d=h?n[l+1]:0,m=l+2<n.length,p=m?n[l+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let D=(d&15)<<2|p>>6,U=p&63;m||(U=64,h||(D=64)),r.push(i[v],i[E],i[D],i[U])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<n.length;){const u=i[n.charAt(l++)],d=l<n.length?i[n.charAt(l)]:0;++l;const p=l<n.length?i[n.charAt(l)]:64;++l;const E=l<n.length?i[n.charAt(l)]:64;if(++l,u==null||d==null||p==null||E==null)throw new AC;const D=u<<2|d>>4;if(r.push(D),p!==64){const U=d<<4&240|p>>2;if(r.push(U),E!==64){const H=p<<6&192|E;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class AC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CC=function(n){const e=kS(n);return BS.encodeByteArray(e,!0)},ku=function(n){return CC(n).replace(/\./g,"")},jS=function(n){try{return BS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=()=>NC().__FIREBASE_DEFAULTS__,RC=()=>{if(typeof process>"u"||typeof J0>"u")return;const n=J0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jS(n[1]);return e&&JSON.parse(e)},_m=()=>{try{return DC()||RC()||OC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},VS=n=>{var e,i;return(i=(e=_m())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[n]},MC=n=>{const e=VS(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},qS=()=>{var n;return(n=_m())===null||n===void 0?void 0:n.config},HS=n=>{var e;return(e=_m())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ku(JSON.stringify(i)),ku(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function LC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kC(){const n=Ot();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function BC(){try{return typeof indexedDB=="object"}catch{return!1}}function jC(){return new Promise((n,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="FirebaseError";class ai extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=VC,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],h=u?qC(u,r):"Error",d=`${this.serviceName}: ${h} (${l}).`;return new ai(l,d,r)}}function qC(n,e){return n.replace(HC,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const HC=/\{\$([^}]+)}/g;function GC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Bu(n,e){if(n===e)return!0;const i=Object.keys(n),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=n[l],h=e[l];if(W0(u)&&W0(h)){if(!Bu(u,h))return!1}else if(u!==h)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function W0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(n){const e=[];for(const[i,r]of Object.entries(n))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function nl(n){const e=n.indexOf("?");if(!e)return"";const i=n.indexOf("#",e);return n.substring(e,i>0?i:void 0)}function FC(n,e){const i=new KC(n,e);return i.subscribe.bind(i)}class KC{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");YC(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=dd),l.error===void 0&&(l.error=dd),l.complete===void 0&&(l.complete=dd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YC(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n){return n&&n._delegate?n._delegate:n}class Is{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new IC;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e?.identifier),l=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XC(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&h.resolve(l)}return l}onInit(e,i){var r;const l=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&e(h,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QC(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QC(n){return n===bs?void 0:n}function XC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new PC(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(we||(we={}));const ZC={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},JC=we.INFO,WC={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},eN=(n,e,...i)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),l=WC[e];if(l)console[l](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=JC,this._logHandler=eN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const tN=(n,e)=>e.some(i=>n instanceof i);let eE,tE;function nN(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iN(){return tE||(tE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GS=new WeakMap,zd=new WeakMap,FS=new WeakMap,md=new WeakMap,wm=new WeakMap;function sN(n){const e=new Promise((i,r)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{i(Hi(n.result)),l()},h=()=>{r(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&GS.set(i,n)}).catch(()=>{}),wm.set(e,n),e}function rN(n){if(zd.has(n))return;const e=new Promise((i,r)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{i(),l()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});zd.set(n,e)}let kd={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return zd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||FS.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hi(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aN(n){kd=n(kd)}function lN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=n.call(gd(this),e,...i);return FS.set(r,e.sort?e.sort():[e]),Hi(r)}:iN().includes(n)?function(...e){return n.apply(gd(this),e),Hi(GS.get(this))}:function(...e){return Hi(n.apply(gd(this),e))}}function oN(n){return typeof n=="function"?lN(n):(n instanceof IDBTransaction&&rN(n),tN(n,nN())?new Proxy(n,kd):n)}function Hi(n){if(n instanceof IDBRequest)return sN(n);if(md.has(n))return md.get(n);const e=oN(n);return e!==n&&(md.set(n,e),wm.set(e,n)),e}const gd=n=>wm.get(n);function uN(n,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const h=indexedDB.open(n,e),d=Hi(h);return r&&h.addEventListener("upgradeneeded",m=>{r(Hi(h.result),m.oldVersion,m.newVersion,Hi(h.transaction),m)}),i&&h.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),l&&m.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const cN=["get","getKey","getAll","getAllKeys","count"],hN=["put","add","delete","clear"],pd=new Map;function nE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=hN.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||cN.includes(i)))return;const u=async function(h,...d){const m=this.transaction(h,l?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[i](...d),l&&m.done]))[0]};return pd.set(e,u),u}aN(n=>({...n,get:(e,i,r)=>nE(e,i)||n.get(e,i,r),has:(e,i)=>!!nE(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(dN(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function dN(n){const e=n.getComponent();return e?.type==="VERSION"}const Bd="@firebase/app",iE="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Tm("@firebase/app"),mN="@firebase/app-compat",gN="@firebase/analytics-compat",pN="@firebase/analytics",yN="@firebase/app-check-compat",vN="@firebase/app-check",EN="@firebase/auth",SN="@firebase/auth-compat",_N="@firebase/database",TN="@firebase/database-compat",wN="@firebase/functions",bN="@firebase/functions-compat",AN="@firebase/installations",CN="@firebase/installations-compat",NN="@firebase/messaging",DN="@firebase/messaging-compat",RN="@firebase/performance",ON="@firebase/performance-compat",MN="@firebase/remote-config",IN="@firebase/remote-config-compat",xN="@firebase/storage",UN="@firebase/storage-compat",LN="@firebase/firestore",zN="@firebase/firestore-compat",kN="firebase",BN="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",jN={[Bd]:"fire-core",[mN]:"fire-core-compat",[pN]:"fire-analytics",[gN]:"fire-analytics-compat",[vN]:"fire-app-check",[yN]:"fire-app-check-compat",[EN]:"fire-auth",[SN]:"fire-auth-compat",[_N]:"fire-rtdb",[TN]:"fire-rtdb-compat",[wN]:"fire-fn",[bN]:"fire-fn-compat",[AN]:"fire-iid",[CN]:"fire-iid-compat",[NN]:"fire-fcm",[DN]:"fire-fcm-compat",[RN]:"fire-perf",[ON]:"fire-perf-compat",[MN]:"fire-rc",[IN]:"fire-rc-compat",[xN]:"fire-gcs",[UN]:"fire-gcs-compat",[LN]:"fire-fst",[zN]:"fire-fst-compat","fire-js":"fire-js",[kN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Map,Vd=new Map;function VN(n,e){try{n.container.addComponent(e)}catch(i){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function zr(n){const e=n.name;if(Vd.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;Vd.set(e,n);for(const i of ju.values())VN(i,n);return!0}function bm(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gi=new xl("app","Firebase",qN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=BN;function KS(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jd,automaticDataCollectionEnabled:!1},e),l=r.name;if(typeof l!="string"||!l)throw Gi.create("bad-app-name",{appName:String(l)});if(i||(i=qS()),!i)throw Gi.create("no-options");const u=ju.get(l);if(u){if(Bu(i,u.options)&&Bu(r,u.config))return u;throw Gi.create("duplicate-app",{appName:l})}const h=new $C(l);for(const m of Vd.values())h.addComponent(m);const d=new HN(i,r,h);return ju.set(l,d),d}function YS(n=jd){const e=ju.get(n);if(!e&&n===jd&&qS())return KS();if(!e)throw Gi.create("no-app",{appName:n});return e}function Fi(n,e,i){var r;let l=(r=jN[n])!==null&&r!==void 0?r:n;i&&(l+=`-${i}`);const u=l.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${l}" with version "${e}":`];u&&d.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(d.join(" "));return}zr(new Is(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="firebase-heartbeat-database",FN=1,gl="firebase-heartbeat-store";let yd=null;function PS(){return yd||(yd=uN(GN,FN,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(gl)}}}).catch(n=>{throw Gi.create("idb-open",{originalErrorMessage:n.message})})),yd}async function KN(n){try{return await(await PS()).transaction(gl).objectStore(gl).get(QS(n))}catch(e){if(e instanceof ai)xs.warn(e.message);else{const i=Gi.create("idb-get",{originalErrorMessage:e?.message});xs.warn(i.message)}}}async function sE(n,e){try{const r=(await PS()).transaction(gl,"readwrite");await r.objectStore(gl).put(e,QS(n)),await r.done}catch(i){if(i instanceof ai)xs.warn(i.message);else{const r=Gi.create("idb-set",{originalErrorMessage:i?.message});xs.warn(r.message)}}}function QS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=1024,PN=720*60*60*1e3;class QN{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $N(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=PN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rE(),{heartbeatsToSend:i,unsentEntries:r}=XN(this._heartbeatsCache.heartbeats),l=ku(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}}function rE(){return new Date().toISOString().substring(0,10)}function XN(n,e=YN){const i=[];let r=n.slice();for(const l of n){const u=i.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),aE(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),aE(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class $N{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BC()?jC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await KN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return sE(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return sE(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function aE(n){return ku(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n){zr(new Is("platform-logger",e=>new fN(e),"PRIVATE")),zr(new Is("heartbeat",e=>new QN(e),"PRIVATE")),Fi(Bd,iE,n),Fi(Bd,iE,"esm2017"),Fi("fire-js","")}ZN("");function Am(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(n);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(n,r[l])&&(i[r[l]]=n[r[l]]);return i}function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JN=XS,$S=new xl("auth","Firebase",XS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new Tm("@firebase/auth");function WN(n,...e){Vu.logLevel<=we.WARN&&Vu.warn(`Auth (${Qr}): ${n}`,...e)}function Ru(n,...e){Vu.logLevel<=we.ERROR&&Vu.error(`Auth (${Qr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(n,...e){throw Cm(n,...e)}function Mn(n,...e){return Cm(n,...e)}function eD(n,e,i){const r=Object.assign(Object.assign({},JN()),{[e]:i});return new xl("auth","Firebase",r).create(e,{appName:n.name})}function Cm(n,...e){if(typeof n!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(i,...r)}return $S.create(n,...e)}function ne(n,e,...i){if(!n)throw Cm(e,...i)}function Wn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ru(e),new Error(e)}function ni(n,e){n||Wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function tD(){return lE()==="http:"||lE()==="https:"}function lE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tD()||LC()||"connection"in navigator)?navigator.onLine:!0}function iD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,i){this.shortDelay=e,this.longDelay=i,ni(i>e,"Short delay should be less than long delay!"),this.isMobile=UC()||zC()}get(){return nD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(n,e){ni(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new Ll(3e4,6e4);function zl(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Xr(n,e,i,r,l={}){return JS(n,l,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const d=Ul(Object.assign({key:n.config.apiKey},h)).slice(1),m=await n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),ZS.fetch()(WS(n,n.config.apiHost,i,d),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))})}async function JS(n,e,i){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},sD),e);try{const l=new aD(n),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Eu(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eu(n,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Eu(n,"email-already-in-use",h);if(m==="USER_DISABLED")throw Eu(n,"user-disabled",h);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw eD(n,v,p);En(n,v)}}catch(l){if(l instanceof ai)throw l;En(n,"network-request-failed",{message:String(l)})}}async function sc(n,e,i,r,l={}){const u=await Xr(n,e,i,r,l);return"mfaPendingCredential"in u&&En(n,"multi-factor-auth-required",{_serverResponse:u}),u}function WS(n,e,i,r){const l=`${e}${i}?${r}`;return n.config.emulator?Nm(n.config,l):`${n.config.apiScheme}://${l}`}class aD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),rD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Eu(n,e,i){const r={appName:n.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Mn(n,e,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(n,e){return Xr(n,"POST","/v1/accounts:delete",e)}async function oD(n,e){return Xr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uD(n,e=!1){const i=tn(n),r=await i.getIdToken(e),l=Dm(r);ne(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,h=u?.sign_in_provider;return{claims:l,token:r,authTime:ol(vd(l.auth_time)),issuedAtTime:ol(vd(l.iat)),expirationTime:ol(vd(l.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function vd(n){return Number(n)*1e3}function Dm(n){const[e,i,r]=n.split(".");if(e===void 0||i===void 0||r===void 0)return Ru("JWT malformed, contained fewer than 3 sections"),null;try{const l=jS(i);return l?JSON.parse(l):(Ru("Failed to decode base64 JWT payload"),null)}catch(l){return Ru("Caught error parsing JWT payload as JSON",l?.toString()),null}}function cD(n){const e=Dm(n);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof ai&&hD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function hD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ol(this.lastLoginAt),this.creationTime=ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(n){var e;const i=n.auth,r=await n.getIdToken(),l=await pl(n,oD(i,{idToken:r}));ne(l?.users.length,i,"internal-error");const u=l.users[0];n._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?gD(u.providerUserInfo):[],d=mD(n.providerData,h),m=n.isAnonymous,p=!(n.email&&u.passwordHash)&&!d?.length,v=m?p:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new e_(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function dD(n){const e=tn(n);await qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mD(n,e){return[...n.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function gD(n){return n.map(e=>{var{providerId:i}=e,r=Am(e,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(n,e){const i=await JS(n,{},async()=>{const r=Ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=n.config,h=WS(n,l,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",ZS.fetch()(h,{method:"POST",headers:d,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}async getToken(e,i=!1){return ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!i&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await pD(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,h=new yl;return r&&(ne(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),l&&(ne(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),u&&(ne(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(n,e){ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Rs{constructor(e){var{uid:i,auth:r,stsTokenManager:l}=e,u=Am(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new e_(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await pl(this,this.stsTokenManager.getToken(this.auth,e));return ne(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return uD(this,e)}reload(){return dD(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await qu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await pl(this,lD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var r,l,u,h,d,m,p,v;const E=(r=i.displayName)!==null&&r!==void 0?r:void 0,D=(l=i.email)!==null&&l!==void 0?l:void 0,U=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,H=(h=i.photoURL)!==null&&h!==void 0?h:void 0,F=(d=i.tenantId)!==null&&d!==void 0?d:void 0,B=(m=i._redirectEventId)!==null&&m!==void 0?m:void 0,ee=(p=i.createdAt)!==null&&p!==void 0?p:void 0,ae=(v=i.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Z,emailVerified:ge,isAnonymous:ke,providerData:Ge,stsTokenManager:ce}=i;ne(Z&&ce,e,"internal-error");const lt=yl.fromJSON(this.name,ce);ne(typeof Z=="string",e,"internal-error"),xi(E,e.name),xi(D,e.name),ne(typeof ge=="boolean",e,"internal-error"),ne(typeof ke=="boolean",e,"internal-error"),xi(U,e.name),xi(H,e.name),xi(F,e.name),xi(B,e.name),xi(ee,e.name),xi(ae,e.name);const mt=new Rs({uid:Z,auth:e,email:D,emailVerified:ge,displayName:E,isAnonymous:ke,photoURL:H,phoneNumber:U,tenantId:F,stsTokenManager:lt,createdAt:ee,lastLoginAt:ae});return Ge&&Array.isArray(Ge)&&(mt.providerData=Ge.map(li=>Object.assign({},li))),B&&(mt._redirectEventId=B),mt}static async _fromIdTokenResponse(e,i,r=!1){const l=new yl;l.updateFromServerResponse(i);const u=new Rs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await qu(u),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;function ei(n){ni(n instanceof Function,"Expected a class definition");let e=oE.get(n);return e?(ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,oE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}t_.type="NONE";const uE=t_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(n,e,i){return`firebase:${n}:${e}:${i}`}class Dr{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Ou(this.userKey,l.apiKey,u),this.fullPersistenceKey=Ou("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Dr(ei(uE),e,r);const l=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||ei(uE);const h=Ou(r,e.config.apiKey,e.name);let d=null;for(const p of i)try{const v=await p._get(h);if(v){const E=Rs._fromJSON(e,v);p!==u&&(d=E),u=p;break}}catch{}const m=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Dr(u,e,r):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new Dr(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a_(e))return"Blackberry";if(l_(e))return"Webos";if(Rm(e))return"Safari";if((e.includes("chrome/")||i_(e))&&!e.includes("edge/"))return"Chrome";if(r_(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(i);if(r?.length===2)return r[1]}return"Other"}function n_(n=Ot()){return/firefox\//i.test(n)}function Rm(n=Ot()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i_(n=Ot()){return/crios\//i.test(n)}function s_(n=Ot()){return/iemobile/i.test(n)}function r_(n=Ot()){return/android/i.test(n)}function a_(n=Ot()){return/blackberry/i.test(n)}function l_(n=Ot()){return/webos/i.test(n)}function rc(n=Ot()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yD(n=Ot()){var e;return rc(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vD(){return kC()&&document.documentMode===10}function o_(n=Ot()){return rc(n)||r_(n)||l_(n)||a_(n)||/windows phone/i.test(n)||s_(n)}function ED(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(n,e=[]){let i;switch(n){case"Browser":i=cE(Ot());break;case"Worker":i=`${cE(Ot())}-${n}`;break;default:i=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Qr}/${r}`}async function c_(n,e){return Xr(n,"GET","/v2/recaptchaConfig",zl(n,e))}function hE(n){return n!==void 0&&n.enterprise!==void 0}class h_{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(i=>i.provider==="EMAIL_PASSWORD_PROVIDER"&&i.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}function f_(n){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=l=>{const u=Mn("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",SD().appendChild(r)})}function _D(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const TD="https://www.google.com/recaptcha/enterprise.js?render=",wD="recaptcha-enterprise",bD="NO_RECAPTCHA";class d_{constructor(e){this.type=wD,this.auth=kl(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{c_(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new h_(m);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(m=>{d(m)})})}function l(u,h,d){const m=window.grecaptcha;hE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(bD)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,h)=>{r(this.auth).then(d=>{if(!i&&hE(window.grecaptcha))l(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}f_(TD+d).then(()=>{l(d,u,h)}).catch(m=>{h(m)})}}).catch(d=>{h(d)})})}}async function fE(n,e,i,r=!1){const l=new d_(n);let u;try{u=await l.verify(i)}catch{u=await l.verify(i,!0)}const h=Object.assign({},e);return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((h,d)=>{try{const m=e(u);h(m)}catch(m){d(m)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dE(this),this.idTokenSubscription=new dE(this),this.beforeStateQueue=new AD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ei(i)),this._initializationPromise=this.queue(async()=>{var r,l;if(!this._deleted&&(this.persistenceManager=await Dr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var i;const r=await this.assertedPersistence.getCurrentUser();let l=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,d=l?._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===d)&&m?.user&&(l=m.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await qu(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const i=e?tn(e):null;return i&&ne(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}async initializeRecaptchaConfig(){const e=await c_(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new h_(e);this.tenantId==null?this._agentRecaptchaConfig=i:this._tenantRecaptchaConfigs[this.tenantId]=i,i.emailPasswordEnabled&&new d_(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ei(e)||this._popupRedirectResolver;ne(i,this,"argument-error"),this.redirectPersistenceManager=await Dr.create(this,[ei(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i),h=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(h,this,"internal-error"),h.then(()=>u(this.currentUser)),typeof i=="function"?e.addObserver(i,r,l):e.addObserver(i)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i?.error&&WN(`Error while retrieving App Check token: ${i.error}`),i?.token}}function kl(n){return tn(n)}class dE{constructor(e){this.auth=e,this.observer=null,this.addObserver=FC(i=>this.observer=i)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(n,e){const i=bm(n,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Bu(u,e??{}))return l;En(l,"already-initialized")}return i.initialize({options:e})}function DD(n,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ei);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function RD(n,e,i){const r=kl(n);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=m_(e),{host:h,port:d}=OD(e),m=d===null?"":`:${d}`;r.config.emulator={url:`${u}//${h}${m}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})}),MD()}function m_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OD(n){const e=m_(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:mE(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:mE(h)}}}function mE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MD(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,i){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function ID(n,e){return Xr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(n,e){return sc(n,"POST","/v1/accounts:signInWithPassword",zl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(n,e){return sc(n,"POST","/v1/accounts:signInWithEmailLink",zl(n,e))}async function UD(n,e){return sc(n,"POST","/v1/accounts:signInWithEmailLink",zl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Om{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new vl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new vl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){var i;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const l=await fE(e,r,"signInWithPassword");return Ed(e,l)}else return Ed(e,r).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const u=await fE(e,r,"signInWithPassword");return Ed(e,u)}else return Promise.reject(l)});case"emailLink":return xD(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":return ID(e,{idToken:i,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return UD(e,{idToken:i,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rr(n,e){return sc(n,"POST","/v1/accounts:signInWithIdp",zl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="http://localhost";class Us extends Om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):En("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l}=i,u=Am(i,["providerId","signInMethod"]);if(!r||!l)return null;const h=new Us(r,l);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const i=this.buildRequest();return Rr(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Rr(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Rr(e,i)}buildRequest(){const e={requestUri:LD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ul(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kD(n){const e=tl(nl(n)).link,i=e?tl(nl(e)).deep_link_id:null,r=tl(nl(n)).deep_link_id;return(r?tl(nl(r)).link:null)||r||i||e||n}class Mm{constructor(e){var i,r,l,u,h,d;const m=tl(nl(e)),p=(i=m.apiKey)!==null&&i!==void 0?i:null,v=(r=m.oobCode)!==null&&r!==void 0?r:null,E=zD((l=m.mode)!==null&&l!==void 0?l:null);ne(p&&v&&E,"argument-error"),this.apiKey=p,this.operation=E,this.code=v,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=m.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const i=kD(e);try{return new Mm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.providerId=$r.PROVIDER_ID}static credential(e,i){return vl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Mm.parseLink(i);return ne(r,"argument-error"),vl._fromEmailAndCode(e,r.code,r.tenantId)}}$r.PROVIDER_ID="password";$r.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$r.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends g_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Bl{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Us._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Li.credential(i,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Bl{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Bl{constructor(){super("twitter.com")}static credential(e,i){return Us._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return ki.credential(i,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await Rs._fromIdTokenResponse(e,r,l),h=gE(r);return new kr({user:u,providerId:h,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=gE(r);return new kr({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function gE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends ai{constructor(e,i,r,l){var u;super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Hu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new Hu(e,i,r,l)}}function p_(n,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hu._fromErrorAndOperation(n,u,e,r):u})}async function BD(n,e,i=!1){const r=await pl(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return kr._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n,e,i=!1){const{auth:r}=n,l="reauthenticate";try{const u=await pl(n,p_(r,l,e,n),i);ne(u.idToken,r,"internal-error");const h=Dm(u.idToken);ne(h,r,"internal-error");const{sub:d}=h;return ne(n.uid===d,r,"user-mismatch"),kr._forOperation(n,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&En(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y_(n,e,i=!1){const r="signIn",l=await p_(n,r,e),u=await kr._fromIdTokenResponse(n,r,l);return i||await n._updateCurrentUser(u.user),u}async function VD(n,e){return y_(kl(n),e)}function qD(n,e,i){return VD(tn(n),$r.credential(e,i))}function HD(n,e,i,r){return tn(n).onIdTokenChanged(e,i,r)}function GD(n,e,i){return tn(n).beforeAuthStateChanged(e,i)}function FD(n,e,i,r){return tn(n).onAuthStateChanged(e,i,r)}const Gu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Gu,"1"),this.storage.removeItem(Gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){const n=Ot();return Rm(n)||rc(n)}const YD=1e3,PD=10;class E_ extends v_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=KD()&&ED(),this.fallbackToPolling=o_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const r=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(r);if(e.newValue!==h)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!i)return}const l=()=>{const h=this.storage.getItem(r);!i&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);vD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,PD):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},YD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}E_.type="LOCAL";const QD=E_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_ extends v_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}S_.type="SESSION";const __=S_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new ac(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,h=this.handlersMap[l];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const d=Array.from(h).map(async p=>p(i.origin,u)),m=await XD(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:m})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(n="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const p=Im("",20);l.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);h={messageChannel:l,onMessage(E){const D=E;if(D.data.eventId===p)switch(D.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(D.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return window}function ZD(n){In().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function JD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WD(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function eR(){return T_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="firebaseLocalStorageDb",tR=1,Fu="firebaseLocalStorage",b_="fbase_key";class jl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function lc(n,e){return n.transaction([Fu],e?"readwrite":"readonly").objectStore(Fu)}function nR(){const n=indexedDB.deleteDatabase(w_);return new jl(n).toPromise()}function Hd(){const n=indexedDB.open(w_,tR);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Fu,{keyPath:b_})}catch(l){i(l)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Fu)?e(r):(r.close(),await nR(),e(await Hd()))})})}async function pE(n,e,i){const r=lc(n,!0).put({[b_]:e,value:i});return new jl(r).toPromise()}async function iR(n,e){const i=lc(n,!1).get(e),r=await new jl(i).toPromise();return r===void 0?null:r.value}function yE(n,e){const i=lc(n,!0).delete(e);return new jl(i).toPromise()}const sR=800,rR=3;class A_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>rR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ac._getInstance(eR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await JD(),!this.activeServiceWorker)return;this.sender=new $D(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hd();return await pE(e,Gu,"1"),await yE(e,Gu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>pE(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>iR(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>yE(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=lc(l,!1).getAll();return new jl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A_.type="LOCAL";const aR=A_;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(n,e){return e?ei(e):(ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends Om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Rr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Rr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function oR(n){return y_(n.auth,new xm(n),n.bypassAuthState)}function uR(n){const{auth:e,user:i}=n;return ne(i,e,"internal-error"),jD(i,new xm(n),n.bypassAuthState)}async function cR(n){const{auth:e,user:i}=n;return ne(i,e,"internal-error"),BD(i,new xm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oR;case"linkViaPopup":case"linkViaRedirect":return cR;case"reauthViaPopup":case"reauthViaRedirect":return uR;default:En(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new Ll(2e3,1e4);class Cr extends C_{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Cr.currentPopupAction&&Cr.currentPopupAction.cancel(),Cr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hR.get())};e()}}Cr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="pendingRedirect",Mu=new Map;class dR extends C_{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Mu.get(this.auth._key());if(!e){try{const r=await mR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Mu.set(this.auth._key(),e)}return this.bypassAuthState||Mu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mR(n,e){const i=yR(e),r=pR(n);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function gR(n,e){Mu.set(n._key(),e)}function pR(n){return ei(n._redirectPersistence)}function yR(n){return Ou(fR,n.config.apiKey,n.name)}async function vR(n,e,i=!1){const r=kl(n),l=lR(r,e),h=await new dR(r,l,i).execute();return h&&!i&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=600*1e3;class SR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_R(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!N_(e)){const l=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(Mn(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ER&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function N_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function _R(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(n,e={}){return Xr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bR=/^https?/;async function AR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await TR(n);for(const i of e)try{if(CR(i))return}catch{}En(n,"unauthorized-domain")}function CR(n){const e=qd(),{protocol:i,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&r===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===r}if(!bR.test(i))return!1;if(wR.test(n))return r===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new Ll(3e4,6e4);function EE(){const n=In().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function DR(n){return new Promise((e,i)=>{var r,l,u;function h(){EE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EE(),i(Mn(n,"network-request-failed"))},timeout:NR.get()})}if(!((l=(r=In().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=In().gapi)===null||u===void 0)&&u.load)h();else{const d=_D("iframefcb");return In()[d]=()=>{gapi.load?h():i(Mn(n,"network-request-failed"))},f_(`https://apis.google.com/js/api.js?onload=${d}`).catch(m=>i(m))}}).catch(e=>{throw Iu=null,e})}let Iu=null;function RR(n){return Iu=Iu||DR(n),Iu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new Ll(5e3,15e3),MR="__/auth/iframe",IR="emulator/auth/iframe",xR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LR(n){const e=n.config;ne(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?Nm(e,IR):`https://${n.config.authDomain}/${MR}`,r={apiKey:e.apiKey,appName:n.name,v:Qr},l=UR.get(n.config.apiHost);l&&(r.eid=l);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${Ul(r).slice(1)}`}async function zR(n){const e=await RR(n),i=In().gapi;return ne(i,n,"internal-error"),e.open({where:document.body,url:LR(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const h=Mn(n,"network-request-failed"),d=In().setTimeout(()=>{u(h)},OR.get());function m(){In().clearTimeout(d),l(r)}r.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BR=500,jR=600,VR="_blank",qR="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HR(n,e,i,r=BR,l=jR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},kR),{width:r.toString(),height:l.toString(),top:u,left:h}),p=Ot().toLowerCase();i&&(d=i_(p)?VR:i),n_(p)&&(e=e||qR,m.scrollbars="yes");const v=Object.entries(m).reduce((D,[U,H])=>`${D}${U}=${H},`,"");if(yD(p)&&d!=="_self")return GR(e||"",d),new SE(null);const E=window.open(e||"",d,v);ne(E,n,"popup-blocked");try{E.focus()}catch{}return new SE(E)}function GR(n,e){const i=document.createElement("a");i.href=n,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="__/auth/handler",KR="emulator/auth/handler",YR=encodeURIComponent("fac");async function _E(n,e,i,r,l,u){ne(n.config.authDomain,n,"auth-domain-config-required"),ne(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:r,v:Qr,eventId:l};if(e instanceof g_){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",GC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))h[v]=E}if(e instanceof Bl){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(h.scopes=v.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),p=m?`#${YR}=${encodeURIComponent(m)}`:"";return`${PR(n)}?${Ul(d).slice(1)}${p}`}function PR({config:n}){return n.emulator?Nm(n,KR):`https://${n.authDomain}/${FR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="webStorageSupport";class QR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=__,this._completeRedirectFn=vR,this._overrideRedirectResult=gR}async _openPopup(e,i,r,l){var u;ni((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await _E(e,i,r,qd(),l);return HR(e,h,Im())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await _E(e,i,r,qd(),l);return ZD(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(ni(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await zR(e),r=new SR(e);return i.register("authEvent",l=>(ne(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Sd,{type:Sd},l=>{var u;const h=(u=l?.[0])===null||u===void 0?void 0:u[Sd];h!==void 0&&i(!!h),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=AR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return o_()||Rm()||rc()}}const XR=QR;var TE="@firebase/auth",wE="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function JR(n){zr(new Is("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=r.options;ne(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u_(n)},p=new CD(r,l,u,m);return DD(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),zr(new Is("auth-internal",e=>{const i=kl(e.getProvider("auth").getImmediate());return(r=>new $R(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(TE,wE,ZR(n)),Fi(TE,wE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=300,eO=HS("authIdTokenMaxAge")||WR;let bE=null;const tO=n=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>eO)return;const l=i?.token;bE!==l&&(bE=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function nO(n=YS()){const e=bm(n,"auth");if(e.isInitialized())return e.getImmediate();const i=ND(n,{popupRedirectResolver:XR,persistence:[aR,QD,__]}),r=HS("authTokenSyncURL");if(r){const u=tO(r);GD(i,u,()=>u(i.currentUser)),HD(i,h=>u(h))}const l=VS("auth");return l&&RD(i,`http://${l}`),i}JR("Browser");var iO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,Um=Um||{},ie=iO||self;function oc(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function uc(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function sO(n,e,i){return n.call.apply(n.bind,arguments)}function rO(n,e,i){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,r),n.apply(e,l)}}return function(){return n.apply(e,arguments)}}function Nt(n,e,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Nt=sO:Nt=rO,Nt.apply(null,arguments)}function Su(n,e){var i=Array.prototype.slice.call(arguments,1);return function(){var r=i.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function dt(n,e){function i(){}i.prototype=e.prototype,n.$=e.prototype,n.prototype=new i,n.prototype.constructor=n,n.ac=function(r,l,u){for(var h=Array(arguments.length-2),d=2;d<arguments.length;d++)h[d-2]=arguments[d];return e.prototype[l].apply(r,h)}}function ts(){this.s=this.s,this.o=this.o}var aO=0;ts.prototype.s=!1;ts.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),aO!=0)};ts.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const D_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(let i=0;i<n.length;i++)if(i in n&&n[i]===e)return i;return-1};function Lm(n){const e=n.length;if(0<e){const i=Array(e);for(let r=0;r<e;r++)i[r]=n[r];return i}return[]}function AE(n,e){for(let i=1;i<arguments.length;i++){const r=arguments[i];if(oc(r)){const l=n.length||0,u=r.length||0;n.length=l+u;for(let h=0;h<u;h++)n[l+h]=r[h]}else n.push(r)}}function Dt(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var lO=(function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return n})();function El(n){return/^[\s\xa0]*$/.test(n)}function cc(){var n=ie.navigator;return n&&(n=n.userAgent)?n:""}function Nn(n){return cc().indexOf(n)!=-1}function zm(n){return zm[" "](n),n}zm[" "]=function(){};function oO(n,e){var i=t2;return Object.prototype.hasOwnProperty.call(i,n)?i[n]:i[n]=e(n)}var uO=Nn("Opera"),Br=Nn("Trident")||Nn("MSIE"),R_=Nn("Edge"),Gd=R_||Br,O_=Nn("Gecko")&&!(cc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),cO=cc().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function M_(){var n=ie.document;return n?n.documentMode:void 0}var Fd;e:{var _d="",Td=(function(){var n=cc();if(O_)return/rv:([^\);]+)(\)|;)/.exec(n);if(R_)return/Edge\/([\d\.]+)/.exec(n);if(Br)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(cO)return/WebKit\/(\S+)/.exec(n);if(uO)return/(?:Version)[ \/]?(\S+)/.exec(n)})();if(Td&&(_d=Td?Td[1]:""),Br){var wd=M_();if(wd!=null&&wd>parseFloat(_d)){Fd=String(wd);break e}}Fd=_d}var Kd;if(ie.document&&Br){var CE=M_();Kd=CE||parseInt(Fd,10)||void 0}else Kd=void 0;var hO=Kd;function Sl(n,e){if(Dt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var i=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(O_){e:{try{zm(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else i=="mouseover"?e=n.fromElement:i=="mouseout"&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:fO[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Sl.$.h.call(this)}}dt(Sl,Dt);var fO={2:"touch",3:"pen",4:"mouse"};Sl.prototype.h=function(){Sl.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hc="closure_listenable_"+(1e6*Math.random()|0),dO=0;function mO(n,e,i,r,l){this.listener=n,this.proxy=null,this.src=e,this.type=i,this.capture=!!r,this.la=l,this.key=++dO,this.fa=this.ia=!1}function fc(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function km(n,e,i){for(const r in n)e.call(i,n[r],r,n)}function gO(n,e){for(const i in n)e.call(void 0,n[i],i,n)}function I_(n){const e={};for(const i in n)e[i]=n[i];return e}const NE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x_(n,e){let i,r;for(let l=1;l<arguments.length;l++){r=arguments[l];for(i in r)n[i]=r[i];for(let u=0;u<NE.length;u++)i=NE[u],Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}}function dc(n){this.src=n,this.g={},this.h=0}dc.prototype.add=function(n,e,i,r,l){var u=n.toString();n=this.g[u],n||(n=this.g[u]=[],this.h++);var h=Pd(n,e,r,l);return-1<h?(e=n[h],i||(e.ia=!1)):(e=new mO(e,this.src,u,!!r,l),e.ia=i,n.push(e)),e};function Yd(n,e){var i=e.type;if(i in n.g){var r=n.g[i],l=D_(r,e),u;(u=0<=l)&&Array.prototype.splice.call(r,l,1),u&&(fc(e),n.g[i].length==0&&(delete n.g[i],n.h--))}}function Pd(n,e,i,r){for(var l=0;l<n.length;++l){var u=n[l];if(!u.fa&&u.listener==e&&u.capture==!!i&&u.la==r)return l}return-1}var Bm="closure_lm_"+(1e6*Math.random()|0),bd={};function U_(n,e,i,r,l){if(Array.isArray(e)){for(var u=0;u<e.length;u++)U_(n,e[u],i,r,l);return null}return i=k_(i),n&&n[hc]?n.O(e,i,uc(r)?!!r.capture:!1,l):pO(n,e,i,!1,r,l)}function pO(n,e,i,r,l,u){if(!e)throw Error("Invalid event type");var h=uc(l)?!!l.capture:!!l,d=Vm(n);if(d||(n[Bm]=d=new dc(n)),i=d.add(e,i,r,h,u),i.proxy)return i;if(r=yO(),i.proxy=r,r.src=n,r.listener=i,n.addEventListener)lO||(l=h),l===void 0&&(l=!1),n.addEventListener(e.toString(),r,l);else if(n.attachEvent)n.attachEvent(z_(e.toString()),r);else if(n.addListener&&n.removeListener)n.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return i}function yO(){function n(i){return e.call(n.src,n.listener,i)}const e=vO;return n}function L_(n,e,i,r,l){if(Array.isArray(e))for(var u=0;u<e.length;u++)L_(n,e[u],i,r,l);else r=uc(r)?!!r.capture:!!r,i=k_(i),n&&n[hc]?(n=n.i,e=String(e).toString(),e in n.g&&(u=n.g[e],i=Pd(u,i,r,l),-1<i&&(fc(u[i]),Array.prototype.splice.call(u,i,1),u.length==0&&(delete n.g[e],n.h--)))):n&&(n=Vm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Pd(e,i,r,l)),(i=-1<n?e[n]:null)&&jm(i))}function jm(n){if(typeof n!="number"&&n&&!n.fa){var e=n.src;if(e&&e[hc])Yd(e.i,n);else{var i=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(i,r,n.capture):e.detachEvent?e.detachEvent(z_(i),r):e.addListener&&e.removeListener&&e.removeListener(r),(i=Vm(e))?(Yd(i,n),i.h==0&&(i.src=null,e[Bm]=null)):fc(n)}}}function z_(n){return n in bd?bd[n]:bd[n]="on"+n}function vO(n,e){if(n.fa)n=!0;else{e=new Sl(e,this);var i=n.listener,r=n.la||n.src;n.ia&&jm(n),n=i.call(r,e)}return n}function Vm(n){return n=n[Bm],n instanceof dc?n:null}var Ad="__closure_events_fn_"+(1e9*Math.random()>>>0);function k_(n){return typeof n=="function"?n:(n[Ad]||(n[Ad]=function(e){return n.handleEvent(e)}),n[Ad])}function ft(){ts.call(this),this.i=new dc(this),this.S=this,this.J=null}dt(ft,ts);ft.prototype[hc]=!0;ft.prototype.removeEventListener=function(n,e,i,r){L_(this,n,e,i,r)};function Tt(n,e){var i,r=n.J;if(r)for(i=[];r;r=r.J)i.push(r);if(n=n.S,r=e.type||e,typeof e=="string")e=new Dt(e,n);else if(e instanceof Dt)e.target=e.target||n;else{var l=e;e=new Dt(r,n),x_(e,l)}if(l=!0,i)for(var u=i.length-1;0<=u;u--){var h=e.g=i[u];l=_u(h,r,!0,e)&&l}if(h=e.g=n,l=_u(h,r,!0,e)&&l,l=_u(h,r,!1,e)&&l,i)for(u=0;u<i.length;u++)h=e.g=i[u],l=_u(h,r,!1,e)&&l}ft.prototype.N=function(){if(ft.$.N.call(this),this.i){var n=this.i,e;for(e in n.g){for(var i=n.g[e],r=0;r<i.length;r++)fc(i[r]);delete n.g[e],n.h--}}this.J=null};ft.prototype.O=function(n,e,i,r){return this.i.add(String(n),e,!1,i,r)};ft.prototype.P=function(n,e,i,r){return this.i.add(String(n),e,!0,i,r)};function _u(n,e,i,r){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var l=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.fa&&h.capture==i){var d=h.listener,m=h.la||h.src;h.ia&&Yd(n.i,h),l=d.call(m,r)!==!1&&l}}return l&&!r.defaultPrevented}var qm=ie.JSON.stringify;class EO{constructor(e,i){this.i=e,this.j=i,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function SO(){var n=Hm;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class _O{constructor(){this.h=this.g=null}add(e,i){const r=B_.get();r.set(e,i),this.h?this.h.next=r:this.g=r,this.h=r}}var B_=new EO(()=>new TO,n=>n.reset());class TO{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function wO(n){var e=1;n=n.split(":");const i=[];for(;0<e&&n.length;)i.push(n.shift()),e--;return n.length&&i.push(n.join(":")),i}function bO(n){ie.setTimeout(()=>{throw n},0)}let _l,Tl=!1,Hm=new _O,j_=()=>{const n=ie.Promise.resolve(void 0);_l=()=>{n.then(AO)}};var AO=()=>{for(var n;n=SO();){try{n.h.call(n.g)}catch(i){bO(i)}var e=B_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Tl=!1};function mc(n,e){ft.call(this),this.h=n||1,this.g=e||ie,this.j=Nt(this.qb,this),this.l=Date.now()}dt(mc,ft);V=mc.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tt(this,"tick"),this.ga&&(Gm(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gm(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}V.N=function(){mc.$.N.call(this),Gm(this),delete this.g};function Fm(n,e,i){if(typeof n=="function")i&&(n=Nt(n,i));else if(n&&typeof n.handleEvent=="function")n=Nt(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ie.setTimeout(n,e||0)}function V_(n){n.g=Fm(()=>{n.g=null,n.i&&(n.i=!1,V_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}class CO extends ts{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:V_(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wl(n){ts.call(this),this.h=n,this.g={}}dt(wl,ts);var DE=[];function q_(n,e,i,r){Array.isArray(i)||(i&&(DE[0]=i.toString()),i=DE);for(var l=0;l<i.length;l++){var u=U_(e,i[l],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function H_(n){km(n.g,function(e,i){this.g.hasOwnProperty(i)&&jm(e)},n),n.g={}}wl.prototype.N=function(){wl.$.N.call(this),H_(this)};wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gc(){this.g=!0}gc.prototype.Ea=function(){this.g=!1};function NO(n,e,i,r,l,u){n.info(function(){if(n.g)if(u)for(var h="",d=u.split("&"),m=0;m<d.length;m++){var p=d[m].split("=");if(1<p.length){var v=p[0];p=p[1];var E=v.split("_");h=2<=E.length&&E[1]=="type"?h+(v+"="+p+"&"):h+(v+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+r+") [attempt "+l+"]: "+e+`
`+i+`
`+h})}function DO(n,e,i,r,l,u,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+l+"]: "+e+`
`+i+`
`+u+" "+h})}function Nr(n,e,i,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+OO(n,i)+(r?" "+r:"")})}function RO(n,e){n.info(function(){return"TIMEOUT: "+e})}gc.prototype.info=function(){};function OO(n,e){if(!n.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i){for(n=0;n<i.length;n++)if(Array.isArray(i[n])){var r=i[n];if(!(2>r.length)){var l=r[1];if(Array.isArray(l)&&!(1>l.length)){var u=l[0];if(u!="noop"&&u!="stop"&&u!="close")for(var h=1;h<l.length;h++)l[h]=""}}}}return qm(i)}catch{return e}}var Bs={},RE=null;function pc(){return RE=RE||new ft}Bs.Ta="serverreachability";function G_(n){Dt.call(this,Bs.Ta,n)}dt(G_,Dt);function bl(n){const e=pc();Tt(e,new G_(e))}Bs.STAT_EVENT="statevent";function F_(n,e){Dt.call(this,Bs.STAT_EVENT,n),this.stat=e}dt(F_,Dt);function Lt(n){const e=pc();Tt(e,new F_(e,n))}Bs.Ua="timingevent";function K_(n,e){Dt.call(this,Bs.Ua,n),this.size=e}dt(K_,Dt);function Vl(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){n()},e)}var yc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Y_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Km(){}Km.prototype.h=null;function OE(n){return n.h||(n.h=n.i())}function P_(){}var ql={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ym(){Dt.call(this,"d")}dt(Ym,Dt);function Pm(){Dt.call(this,"c")}dt(Pm,Dt);var Qd;function vc(){}dt(vc,Km);vc.prototype.g=function(){return new XMLHttpRequest};vc.prototype.i=function(){return{}};Qd=new vc;function Hl(n,e,i,r){this.l=n,this.j=e,this.m=i,this.W=r||1,this.U=new wl(this),this.P=MO,n=Gd?125:void 0,this.V=new mc(n),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Q_}function Q_(){this.i=null,this.g="",this.h=!1}var MO=45e3,Xd={},Ku={};V=Hl.prototype;V.setTimeout=function(n){this.P=n};function $d(n,e,i){n.L=1,n.v=Sc(ii(e)),n.s=i,n.S=!0,X_(n,null)}function X_(n,e){n.G=Date.now(),Gl(n),n.A=ii(n.v);var i=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),iT(i.i,"t",r),n.C=0,i=n.l.J,n.h=new Q_,n.g=bT(n.l,i?e:null,!n.s),0<n.O&&(n.M=new CO(Nt(n.Pa,n,n.g),n.O)),q_(n.U,n.g,"readystatechange",n.nb),e=n.I?I_(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),bl(),NO(n.j,n.u,n.A,n.m,n.W,n.s)}V.nb=function(n){n=n.target;const e=this.M;e&&Rn(n)==3?e.l():this.Pa(n)};V.Pa=function(n){try{if(n==this.g)e:{const v=Rn(this.g);var e=this.g.Ia();const E=this.g.da();if(!(3>v)&&(v!=3||Gd||this.g&&(this.h.h||this.g.ja()||UE(this.g)))){this.J||v!=4||e==7||(e==8||0>=E?bl(3):bl(2)),Ec(this);var i=this.g.da();this.ca=i;t:if($_(this)){var r=UE(this.g);n="";var l=r.length,u=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),ul(this);var h="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==l-1});r.splice(0,l),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ja();if(this.i=i==200,DO(this.j,this.u,this.A,this.m,this.W,v,i),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,m=this.g;if((d=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!El(d)){var p=d;break t}}p=null}if(i=p)Nr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zd(this,i);else{this.i=!1,this.o=3,Lt(12),Cs(this),ul(this);break e}}this.S?(Z_(this,v,h),Gd&&this.i&&v==3&&(q_(this.U,this.V,"tick",this.mb),this.V.start())):(Nr(this.j,this.m,h,null),Zd(this,h)),v==4&&Cs(this),this.i&&!this.J&&(v==4?ST(this.l,this):(this.i=!1,Gl(this)))}else JO(this.g),i==400&&0<h.indexOf("Unknown SID")?(this.o=3,Lt(12)):(this.o=0,Lt(13)),Cs(this),ul(this)}}}catch{}finally{}};function $_(n){return n.g?n.u=="GET"&&n.L!=2&&n.l.Ha:!1}function Z_(n,e,i){let r=!0,l;for(;!n.J&&n.C<i.length;)if(l=IO(n,i),l==Ku){e==4&&(n.o=4,Lt(14),r=!1),Nr(n.j,n.m,null,"[Incomplete Response]");break}else if(l==Xd){n.o=4,Lt(15),Nr(n.j,n.m,i,"[Invalid Chunk]"),r=!1;break}else Nr(n.j,n.m,l,null),Zd(n,l);$_(n)&&l!=Ku&&l!=Xd&&(n.h.g="",n.C=0),e!=4||i.length!=0||n.h.h||(n.o=1,Lt(16),r=!1),n.i=n.i&&r,r?0<i.length&&!n.ba&&(n.ba=!0,e=n.l,e.g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+i.length),Wm(e),e.M=!0,Lt(11))):(Nr(n.j,n.m,i,"[Invalid Chunked Response]"),Cs(n),ul(n))}V.mb=function(){if(this.g){var n=Rn(this.g),e=this.g.ja();this.C<e.length&&(Ec(this),Z_(this,n,e),this.i&&n!=4&&Gl(this))}};function IO(n,e){var i=n.C,r=e.indexOf(`
`,i);return r==-1?Ku:(i=Number(e.substring(i,r)),isNaN(i)?Xd:(r+=1,r+i>e.length?Ku:(e=e.slice(r,r+i),n.C=r+i,e)))}V.cancel=function(){this.J=!0,Cs(this)};function Gl(n){n.Y=Date.now()+n.P,J_(n,n.P)}function J_(n,e){if(n.B!=null)throw Error("WatchDog timer not null");n.B=Vl(Nt(n.lb,n),e)}function Ec(n){n.B&&(ie.clearTimeout(n.B),n.B=null)}V.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(RO(this.j,this.A),this.L!=2&&(bl(),Lt(17)),Cs(this),this.o=2,ul(this)):J_(this,this.Y-n)};function ul(n){n.l.H==0||n.J||ST(n.l,n)}function Cs(n){Ec(n);var e=n.M;e&&typeof e.sa=="function"&&e.sa(),n.M=null,Gm(n.V),H_(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Zd(n,e){try{var i=n.l;if(i.H!=0&&(i.g==n||Jd(i.i,n))){if(!n.K&&Jd(i.i,n)&&i.H==3){try{var r=i.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var l=r;if(l[0]==0){e:if(!i.u){if(i.g)if(i.g.G+3e3<n.G)Qu(i),wc(i);else break e;Jm(i),Lt(18)}}else i.Fa=l[1],0<i.Fa-i.V&&37500>l[2]&&i.G&&i.A==0&&!i.v&&(i.v=Vl(Nt(i.ib,i),6e3));if(1>=aT(i.i)&&i.oa){try{i.oa()}catch{}i.oa=void 0}}else Ns(i,11)}else if((n.K||i.g==n)&&Qu(i),!El(e))for(l=i.Ja.g.parse(e),e=0;e<l.length;e++){let p=l[e];if(i.V=p[0],p=p[1],i.H==2)if(p[0]=="c"){i.K=p[1],i.pa=p[2];const v=p[3];v!=null&&(i.ra=v,i.l.info("VER="+i.ra));const E=p[4];E!=null&&(i.Ga=E,i.l.info("SVER="+i.Ga));const D=p[5];D!=null&&typeof D=="number"&&0<D&&(r=1.5*D,i.L=r,i.l.info("backChannelRequestTimeoutMs_="+r)),r=i;const U=n.g;if(U){const H=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var u=r.i;u.g||H.indexOf("spdy")==-1&&H.indexOf("quic")==-1&&H.indexOf("h2")==-1||(u.j=u.l,u.g=new Set,u.h&&(Qm(u,u.h),u.h=null))}if(r.F){const F=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;F&&(r.Da=F,Ve(r.I,r.F,F))}}i.H=3,i.h&&i.h.Ba(),i.ca&&(i.S=Date.now()-n.G,i.l.info("Handshake RTT: "+i.S+"ms")),r=i;var h=n;if(r.wa=wT(r,r.J?r.pa:null,r.Y),h.K){lT(r.i,h);var d=h,m=r.L;m&&d.setTimeout(m),d.B&&(Ec(d),Gl(d)),r.g=h}else vT(r);0<i.j.length&&bc(i)}else p[0]!="stop"&&p[0]!="close"||Ns(i,7);else i.H==3&&(p[0]=="stop"||p[0]=="close"?p[0]=="stop"?Ns(i,7):Zm(i):p[0]!="noop"&&i.h&&i.h.Aa(p),i.A=0)}}bl(4)}catch{}}function xO(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(oc(n)){for(var e=[],i=n.length,r=0;r<i;r++)e.push(n[r]);return e}e=[],i=0;for(r in n)e[i++]=n[r];return e}function UO(n){if(n.ta&&typeof n.ta=="function")return n.ta();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(oc(n)||typeof n=="string"){var e=[];n=n.length;for(var i=0;i<n;i++)e.push(i);return e}e=[],i=0;for(const r in n)e[i++]=r;return e}}}function W_(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(oc(n)||typeof n=="string")Array.prototype.forEach.call(n,e,void 0);else for(var i=UO(n),r=xO(n),l=r.length,u=0;u<l;u++)e.call(void 0,r[u],i&&i[u],n)}var eT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LO(n,e){if(n){n=n.split("&");for(var i=0;i<n.length;i++){var r=n[i].indexOf("="),l=null;if(0<=r){var u=n[i].substring(0,r);l=n[i].substring(r+1)}else u=n[i];e(u,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}function Os(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Os){this.h=n.h,Yu(this,n.j),this.s=n.s,this.g=n.g,Pu(this,n.m),this.l=n.l;var e=n.i,i=new Al;i.i=e.i,e.g&&(i.g=new Map(e.g),i.h=e.h),ME(this,i),this.o=n.o}else n&&(e=String(n).match(eT))?(this.h=!1,Yu(this,e[1]||"",!0),this.s=il(e[2]||""),this.g=il(e[3]||"",!0),Pu(this,e[4]),this.l=il(e[5]||"",!0),ME(this,e[6]||"",!0),this.o=il(e[7]||"")):(this.h=!1,this.i=new Al(null,this.h))}Os.prototype.toString=function(){var n=[],e=this.j;e&&n.push(sl(e,IE,!0),":");var i=this.g;return(i||e=="file")&&(n.push("//"),(e=this.s)&&n.push(sl(e,IE,!0),"@"),n.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,i!=null&&n.push(":",String(i))),(i=this.l)&&(this.g&&i.charAt(0)!="/"&&n.push("/"),n.push(sl(i,i.charAt(0)=="/"?BO:kO,!0))),(i=this.i.toString())&&n.push("?",i),(i=this.o)&&n.push("#",sl(i,VO)),n.join("")};function ii(n){return new Os(n)}function Yu(n,e,i){n.j=i?il(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Pu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ME(n,e,i){e instanceof Al?(n.i=e,qO(n.i,n.h)):(i||(e=sl(e,jO)),n.i=new Al(e,n.h))}function Ve(n,e,i){n.i.set(e,i)}function Sc(n){return Ve(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function il(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sl(n,e,i){return typeof n=="string"?(n=encodeURI(n).replace(e,zO),i&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zO(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var IE=/[#\/\?@]/g,kO=/[#\?:]/g,BO=/[#\?]/g,jO=/[#\?@]/g,VO=/#/g;function Al(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ns(n){n.g||(n.g=new Map,n.h=0,n.i&&LO(n.i,function(e,i){n.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}V=Al.prototype;V.add=function(n,e){ns(this),this.i=null,n=Zr(this,n);var i=this.g.get(n);return i||this.g.set(n,i=[]),i.push(e),this.h+=1,this};function tT(n,e){ns(n),e=Zr(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function nT(n,e){return ns(n),e=Zr(n,e),n.g.has(e)}V.forEach=function(n,e){ns(this),this.g.forEach(function(i,r){i.forEach(function(l){n.call(e,l,r,this)},this)},this)};V.ta=function(){ns(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),i=[];for(let r=0;r<e.length;r++){const l=n[r];for(let u=0;u<l.length;u++)i.push(e[r])}return i};V.Z=function(n){ns(this);let e=[];if(typeof n=="string")nT(this,n)&&(e=e.concat(this.g.get(Zr(this,n))));else{n=Array.from(this.g.values());for(let i=0;i<n.length;i++)e=e.concat(n[i])}return e};V.set=function(n,e){return ns(this),this.i=null,n=Zr(this,n),nT(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};V.get=function(n,e){return n?(n=this.Z(n),0<n.length?String(n[0]):e):e};function iT(n,e,i){tT(n,e),0<i.length&&(n.i=null,n.g.set(Zr(n,e),Lm(i)),n.h+=i.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var i=0;i<e.length;i++){var r=e[i];const u=encodeURIComponent(String(r)),h=this.Z(r);for(r=0;r<h.length;r++){var l=u;h[r]!==""&&(l+="="+encodeURIComponent(String(h[r]))),n.push(l)}}return this.i=n.join("&")};function Zr(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qO(n,e){e&&!n.j&&(ns(n),n.i=null,n.g.forEach(function(i,r){var l=r.toLowerCase();r!=l&&(tT(this,r),iT(this,l,i))},n)),n.j=e}var HO=class{constructor(n,e){this.g=n,this.map=e}};function sT(n){this.l=n||GO,ie.PerformanceNavigationTiming?(n=ie.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var GO=10;function rT(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function aT(n){return n.h?1:n.g?n.g.size:0}function Jd(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function Qm(n,e){n.g?n.g.add(e):n.h=e}function lT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}sT.prototype.cancel=function(){if(this.i=oT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function oT(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let e=n.i;for(const i of n.g.values())e=e.concat(i.F);return e}return Lm(n.i)}var FO=class{stringify(n){return ie.JSON.stringify(n,void 0)}parse(n){return ie.JSON.parse(n,void 0)}};function KO(){this.g=new FO}function YO(n,e,i){const r=i||"";try{W_(n,function(l,u){let h=l;uc(l)&&(h=qm(l)),e.push(r+u+"="+encodeURIComponent(h))})}catch(l){throw e.push(r+"type="+encodeURIComponent("_badmap")),l}}function PO(n,e){const i=new gc;if(ie.Image){const r=new Image;r.onload=Su(Tu,i,r,"TestLoadImage: loaded",!0,e),r.onerror=Su(Tu,i,r,"TestLoadImage: error",!1,e),r.onabort=Su(Tu,i,r,"TestLoadImage: abort",!1,e),r.ontimeout=Su(Tu,i,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}function Tu(n,e,i,r,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(r)}catch{}}function Fl(n){this.l=n.fc||null,this.j=n.ob||!1}dt(Fl,Km);Fl.prototype.g=function(){return new _c(this.l,this.j)};Fl.prototype.i=(function(n){return function(){return n}})({});function _c(n,e){ft.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Xm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(_c,ft);var Xm=0;V=_c.prototype;V.open=function(n,e){if(this.readyState!=Xm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Cl(this)};V.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kl(this)),this.readyState=Xm};V.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Cl(this)),this.g&&(this.readyState=3,Cl(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uT(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function uT(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}V.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Kl(this):Cl(this),this.readyState==3&&uT(this)}};V.Za=function(n){this.g&&(this.response=this.responseText=n,Kl(this))};V.Ya=function(n){this.g&&(this.response=n,Kl(this))};V.ka=function(){this.g&&Kl(this)};function Kl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Cl(n)}V.setRequestHeader=function(n,e){this.v.append(n,e)};V.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,n.push(i[0]+": "+i[1]),i=e.next();return n.join(`\r
`)};function Cl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(_c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var QO=ie.JSON.parse;function Ye(n){ft.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cT,this.L=this.M=!1}dt(Ye,ft);var cT="",XO=/^https?$/i,$O=["POST","PUT"];V=Ye.prototype;V.Oa=function(n){this.M=n};V.ha=function(n,e,i,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qd.g(),this.C=this.u?OE(this.u):OE(Qd),this.g.onreadystatechange=Nt(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){xE(this,u);return}if(n=i||"",i=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var l in r)i.set(l,r[l]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const u of r.keys())i.set(u,r.get(u));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(i.keys()).find(u=>u.toLowerCase()=="content-type"),l=ie.FormData&&n instanceof ie.FormData,!(0<=D_($O,e))||r||l||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,h]of i)this.g.setRequestHeader(u,h);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dT(this),0<this.B&&((this.L=ZO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.ua,this)):this.A=Fm(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){xE(this,u)}};function ZO(n){return Br&&typeof n.timeout=="number"&&n.ontimeout!==void 0}V.ua=function(){typeof Um<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))};function xE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,hT(n),Tc(n)}function hT(n){n.F||(n.F=!0,Tt(n,"complete"),Tt(n,"error"))}V.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Tt(this,"complete"),Tt(this,"abort"),Tc(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tc(this,!0)),Ye.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?fT(this):this.kb())};V.kb=function(){fT(this)};function fT(n){if(n.h&&typeof Um<"u"&&(!n.C[1]||Rn(n)!=4||n.da()!=2)){if(n.v&&Rn(n)==4)Fm(n.La,0,n);else if(Tt(n,"readystatechange"),Rn(n)==4){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var r;if(r=h===0){var l=String(n.I).match(eT)[1]||null;!l&&ie.self&&ie.self.location&&(l=ie.self.location.protocol.slice(0,-1)),r=!XO.test(l?l.toLowerCase():"")}i=r}if(i)Tt(n,"complete"),Tt(n,"success");else{n.m=6;try{var u=2<Rn(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",hT(n)}}finally{Tc(n)}}}}function Tc(n,e){if(n.g){dT(n);const i=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Tt(n,"ready");try{i.onreadystatechange=r}catch{}}}function dT(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ie.clearTimeout(n.A),n.A=null)}V.isActive=function(){return!!this.g};function Rn(n){return n.g?n.g.readyState:0}V.da=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),QO(e)}};function UE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case cT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function JO(n){const e={};n=(n.g&&2<=Rn(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<n.length;r++){if(El(n[r]))continue;var i=wO(n[r]);const l=i[0];if(i=i[1],typeof i!="string")continue;i=i.trim();const u=e[l]||[];e[l]=u,u.push(i)}gO(e,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mT(n){let e="";return km(n,function(i,r){e+=r,e+=":",e+=i,e+=`\r
`}),e}function $m(n,e,i){e:{for(r in i){var r=!1;break e}r=!0}r||(i=mT(i),typeof n=="string"?i!=null&&encodeURIComponent(String(i)):Ve(n,e,i))}function Wa(n,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[n]||e}function gT(n){this.Ga=0,this.j=[],this.l=new gc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wa("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wa("baseRetryDelayMs",5e3,n),this.hb=Wa("retryDelaySeedMs",1e4,n),this.eb=Wa("forwardChannelMaxRetries",2,n),this.xa=Wa("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new sT(n&&n.concurrentRequestLimit),this.Ja=new KO,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=gT.prototype;V.ra=8;V.H=1;function Zm(n){if(pT(n),n.H==3){var e=n.W++,i=ii(n.I);if(Ve(i,"SID",n.K),Ve(i,"RID",e),Ve(i,"TYPE","terminate"),Yl(n,i),e=new Hl(n,n.l,e),e.L=2,e.v=Sc(ii(i)),i=!1,ie.navigator&&ie.navigator.sendBeacon)try{i=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!i&&ie.Image&&(new Image().src=e.v,i=!0),i||(e.g=bT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Gl(e)}TT(n)}function wc(n){n.g&&(Wm(n),n.g.cancel(),n.g=null)}function pT(n){wc(n),n.u&&(ie.clearTimeout(n.u),n.u=null),Qu(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&ie.clearTimeout(n.m),n.m=null)}function bc(n){if(!rT(n.i)&&!n.m){n.m=!0;var e=n.Na;_l||j_(),Tl||(_l(),Tl=!0),Hm.add(e,n),n.C=0}}function WO(n,e){return aT(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.j=e.F.concat(n.j),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=Vl(Nt(n.Na,n,e),_T(n,n.C)),n.C++,!0)}V.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const l=new Hl(this,this.l,n);let u=this.s;if(this.U&&(u?(u=I_(u),x_(u,this.U)):u=this.U),this.o!==null||this.O||(l.I=u,u=null),this.P)e:{for(var e=0,i=0;i<this.j.length;i++){t:{var r=this.j[i];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=i;break e}if(e===4096||i===this.j.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=yT(this,l,e),i=ii(this.I),Ve(i,"RID",n),Ve(i,"CVER",22),this.F&&Ve(i,"X-HTTP-Session-Id",this.F),Yl(this,i),u&&(this.O?e="headers="+encodeURIComponent(String(mT(u)))+"&"+e:this.o&&$m(i,this.o,u)),Qm(this.i,l),this.bb&&Ve(i,"TYPE","init"),this.P?(Ve(i,"$req",e),Ve(i,"SID","null"),l.aa=!0,$d(l,i,null)):$d(l,i,e),this.H=2}}else this.H==3&&(n?LE(this,n):this.j.length==0||rT(this.i)||LE(this))};function LE(n,e){var i;e?i=e.m:i=n.W++;const r=ii(n.I);Ve(r,"SID",n.K),Ve(r,"RID",i),Ve(r,"AID",n.V),Yl(n,r),n.o&&n.s&&$m(r,n.o,n.s),i=new Hl(n,n.l,i,n.C+1),n.o===null&&(i.I=n.s),e&&(n.j=e.F.concat(n.j)),e=yT(n,i,1e3),i.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Qm(n.i,i),$d(i,r,e)}function Yl(n,e){n.na&&km(n.na,function(i,r){Ve(e,r,i)}),n.h&&W_({},function(i,r){Ve(e,r,i)})}function yT(n,e,i){i=Math.min(n.j.length,i);var r=n.h?Nt(n.h.Va,n.h,n):null;e:{var l=n.j;let u=-1;for(;;){const h=["count="+i];u==-1?0<i?(u=l[0].g,h.push("ofs="+u)):u=0:h.push("ofs="+u);let d=!0;for(let m=0;m<i;m++){let p=l[m].g;const v=l[m].map;if(p-=u,0>p)u=Math.max(0,l[m].g-100),d=!1;else try{YO(v,h,"req"+p+"_")}catch{r&&r(v)}}if(d){r=h.join("&");break e}}}return n=n.j.splice(0,i),e.F=n,r}function vT(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;_l||j_(),Tl||(_l(),Tl=!0),Hm.add(e,n),n.A=0}}function Jm(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=Vl(Nt(n.Ma,n),_T(n,n.A)),n.A++,!0)}V.Ma=function(){if(this.u=null,ET(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Vl(Nt(this.jb,this),n)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Lt(10),wc(this),ET(this))};function Wm(n){n.B!=null&&(ie.clearTimeout(n.B),n.B=null)}function ET(n){n.g=new Hl(n,n.l,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var e=ii(n.wa);Ve(e,"RID","rpc"),Ve(e,"SID",n.K),Ve(e,"AID",n.V),Ve(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ve(e,"TO",n.qa),Ve(e,"TYPE","xmlhttp"),Yl(n,e),n.o&&n.s&&$m(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var i=n.g;n=n.pa,i.L=1,i.v=Sc(ii(e)),i.s=null,i.S=!0,X_(i,n)}V.ib=function(){this.v!=null&&(this.v=null,wc(this),Jm(this),Lt(19))};function Qu(n){n.v!=null&&(ie.clearTimeout(n.v),n.v=null)}function ST(n,e){var i=null;if(n.g==e){Qu(n),Wm(n),n.g=null;var r=2}else if(Jd(n.i,e))i=e.F,lT(n.i,e),r=1;else return;if(n.H!=0){if(e.i)if(r==1){i=e.s?e.s.length:0,e=Date.now()-e.G;var l=n.C;r=pc(),Tt(r,new K_(r,i)),bc(n)}else vT(n);else if(l=e.o,l==3||l==0&&0<e.ca||!(r==1&&WO(n,e)||r==2&&Jm(n)))switch(i&&0<i.length&&(e=n.i,e.i=e.i.concat(i)),l){case 1:Ns(n,5);break;case 4:Ns(n,10);break;case 3:Ns(n,6);break;default:Ns(n,2)}}}function _T(n,e){let i=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(i*=2),i*e}function Ns(n,e){if(n.l.info("Error code "+e),e==2){var i=null;n.h&&(i=null);var r=Nt(n.pb,n);i||(i=new Os("//www.google.com/images/cleardot.gif"),ie.location&&ie.location.protocol=="http"||Yu(i,"https"),Sc(i)),PO(i.toString(),r)}else Lt(2);n.H=0,n.h&&n.h.za(e),TT(n),pT(n)}V.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Lt(2)):(this.l.info("Failed to ping google.com"),Lt(1))};function TT(n){if(n.H=0,n.ma=[],n.h){const e=oT(n.i);(e.length!=0||n.j.length!=0)&&(AE(n.ma,e),AE(n.ma,n.j),n.i.i.length=0,Lm(n.j),n.j.length=0),n.h.ya()}}function wT(n,e,i){var r=i instanceof Os?ii(i):new Os(i);if(r.g!="")e&&(r.g=e+"."+r.g),Pu(r,r.m);else{var l=ie.location;r=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var u=new Os(null);r&&Yu(u,r),e&&(u.g=e),l&&Pu(u,l),i&&(u.l=i),r=u}return i=n.F,e=n.Da,i&&e&&Ve(r,i,e),Ve(r,"VER",n.ra),Yl(n,r),r}function bT(n,e,i){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=i&&n.Ha&&!n.va?new Ye(new Fl({ob:!0})):new Ye(n.va),e.Oa(n.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function AT(){}V=AT.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Xu(){if(Br&&!(10<=Number(hO)))throw Error("Environmental error: no available transport.")}Xu.prototype.g=function(n,e){return new nn(n,e)};function nn(n,e){ft.call(this),this.g=new gT(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!El(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!El(e)&&(this.g.F=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new Jr(this)}dt(nn,ft);nn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,i=this.h||void 0;Lt(0),n.Y=e,n.na=i||{},n.G=n.aa,n.I=wT(n,null,n.Y),bc(n)};nn.prototype.close=function(){Zm(this.g)};nn.prototype.u=function(n){var e=this.g;if(typeof n=="string"){var i={};i.__data__=n,n=i}else this.v&&(i={},i.__data__=qm(n),n=i);e.j.push(new HO(e.fb++,n)),e.H==3&&bc(e)};nn.prototype.N=function(){this.g.h=null,delete this.j,Zm(this.g),delete this.g,nn.$.N.call(this)};function CT(n){Ym.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const i in e){n=i;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}dt(CT,Ym);function NT(){Pm.call(this),this.status=1}dt(NT,Pm);function Jr(n){this.g=n}dt(Jr,AT);Jr.prototype.Ba=function(){Tt(this.g,"a")};Jr.prototype.Aa=function(n){Tt(this.g,new CT(n))};Jr.prototype.za=function(n){Tt(this.g,new NT)};Jr.prototype.ya=function(){Tt(this.g,"b")};function e2(){this.blockSize=-1}function Sn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}dt(Sn,e2);Sn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Cd(n,e,i){i||(i=0);var r=Array(16);if(typeof e=="string")for(var l=0;16>l;++l)r[l]=e.charCodeAt(i++)|e.charCodeAt(i++)<<8|e.charCodeAt(i++)<<16|e.charCodeAt(i++)<<24;else for(l=0;16>l;++l)r[l]=e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24;e=n.g[0],i=n.g[1],l=n.g[2];var u=n.g[3],h=e+(u^i&(l^u))+r[0]+3614090360&4294967295;e=i+(h<<7&4294967295|h>>>25),h=u+(l^e&(i^l))+r[1]+3905402710&4294967295,u=e+(h<<12&4294967295|h>>>20),h=l+(i^u&(e^i))+r[2]+606105819&4294967295,l=u+(h<<17&4294967295|h>>>15),h=i+(e^l&(u^e))+r[3]+3250441966&4294967295,i=l+(h<<22&4294967295|h>>>10),h=e+(u^i&(l^u))+r[4]+4118548399&4294967295,e=i+(h<<7&4294967295|h>>>25),h=u+(l^e&(i^l))+r[5]+1200080426&4294967295,u=e+(h<<12&4294967295|h>>>20),h=l+(i^u&(e^i))+r[6]+2821735955&4294967295,l=u+(h<<17&4294967295|h>>>15),h=i+(e^l&(u^e))+r[7]+4249261313&4294967295,i=l+(h<<22&4294967295|h>>>10),h=e+(u^i&(l^u))+r[8]+1770035416&4294967295,e=i+(h<<7&4294967295|h>>>25),h=u+(l^e&(i^l))+r[9]+2336552879&4294967295,u=e+(h<<12&4294967295|h>>>20),h=l+(i^u&(e^i))+r[10]+4294925233&4294967295,l=u+(h<<17&4294967295|h>>>15),h=i+(e^l&(u^e))+r[11]+2304563134&4294967295,i=l+(h<<22&4294967295|h>>>10),h=e+(u^i&(l^u))+r[12]+1804603682&4294967295,e=i+(h<<7&4294967295|h>>>25),h=u+(l^e&(i^l))+r[13]+4254626195&4294967295,u=e+(h<<12&4294967295|h>>>20),h=l+(i^u&(e^i))+r[14]+2792965006&4294967295,l=u+(h<<17&4294967295|h>>>15),h=i+(e^l&(u^e))+r[15]+1236535329&4294967295,i=l+(h<<22&4294967295|h>>>10),h=e+(l^u&(i^l))+r[1]+4129170786&4294967295,e=i+(h<<5&4294967295|h>>>27),h=u+(i^l&(e^i))+r[6]+3225465664&4294967295,u=e+(h<<9&4294967295|h>>>23),h=l+(e^i&(u^e))+r[11]+643717713&4294967295,l=u+(h<<14&4294967295|h>>>18),h=i+(u^e&(l^u))+r[0]+3921069994&4294967295,i=l+(h<<20&4294967295|h>>>12),h=e+(l^u&(i^l))+r[5]+3593408605&4294967295,e=i+(h<<5&4294967295|h>>>27),h=u+(i^l&(e^i))+r[10]+38016083&4294967295,u=e+(h<<9&4294967295|h>>>23),h=l+(e^i&(u^e))+r[15]+3634488961&4294967295,l=u+(h<<14&4294967295|h>>>18),h=i+(u^e&(l^u))+r[4]+3889429448&4294967295,i=l+(h<<20&4294967295|h>>>12),h=e+(l^u&(i^l))+r[9]+568446438&4294967295,e=i+(h<<5&4294967295|h>>>27),h=u+(i^l&(e^i))+r[14]+3275163606&4294967295,u=e+(h<<9&4294967295|h>>>23),h=l+(e^i&(u^e))+r[3]+4107603335&4294967295,l=u+(h<<14&4294967295|h>>>18),h=i+(u^e&(l^u))+r[8]+1163531501&4294967295,i=l+(h<<20&4294967295|h>>>12),h=e+(l^u&(i^l))+r[13]+2850285829&4294967295,e=i+(h<<5&4294967295|h>>>27),h=u+(i^l&(e^i))+r[2]+4243563512&4294967295,u=e+(h<<9&4294967295|h>>>23),h=l+(e^i&(u^e))+r[7]+1735328473&4294967295,l=u+(h<<14&4294967295|h>>>18),h=i+(u^e&(l^u))+r[12]+2368359562&4294967295,i=l+(h<<20&4294967295|h>>>12),h=e+(i^l^u)+r[5]+4294588738&4294967295,e=i+(h<<4&4294967295|h>>>28),h=u+(e^i^l)+r[8]+2272392833&4294967295,u=e+(h<<11&4294967295|h>>>21),h=l+(u^e^i)+r[11]+1839030562&4294967295,l=u+(h<<16&4294967295|h>>>16),h=i+(l^u^e)+r[14]+4259657740&4294967295,i=l+(h<<23&4294967295|h>>>9),h=e+(i^l^u)+r[1]+2763975236&4294967295,e=i+(h<<4&4294967295|h>>>28),h=u+(e^i^l)+r[4]+1272893353&4294967295,u=e+(h<<11&4294967295|h>>>21),h=l+(u^e^i)+r[7]+4139469664&4294967295,l=u+(h<<16&4294967295|h>>>16),h=i+(l^u^e)+r[10]+3200236656&4294967295,i=l+(h<<23&4294967295|h>>>9),h=e+(i^l^u)+r[13]+681279174&4294967295,e=i+(h<<4&4294967295|h>>>28),h=u+(e^i^l)+r[0]+3936430074&4294967295,u=e+(h<<11&4294967295|h>>>21),h=l+(u^e^i)+r[3]+3572445317&4294967295,l=u+(h<<16&4294967295|h>>>16),h=i+(l^u^e)+r[6]+76029189&4294967295,i=l+(h<<23&4294967295|h>>>9),h=e+(i^l^u)+r[9]+3654602809&4294967295,e=i+(h<<4&4294967295|h>>>28),h=u+(e^i^l)+r[12]+3873151461&4294967295,u=e+(h<<11&4294967295|h>>>21),h=l+(u^e^i)+r[15]+530742520&4294967295,l=u+(h<<16&4294967295|h>>>16),h=i+(l^u^e)+r[2]+3299628645&4294967295,i=l+(h<<23&4294967295|h>>>9),h=e+(l^(i|~u))+r[0]+4096336452&4294967295,e=i+(h<<6&4294967295|h>>>26),h=u+(i^(e|~l))+r[7]+1126891415&4294967295,u=e+(h<<10&4294967295|h>>>22),h=l+(e^(u|~i))+r[14]+2878612391&4294967295,l=u+(h<<15&4294967295|h>>>17),h=i+(u^(l|~e))+r[5]+4237533241&4294967295,i=l+(h<<21&4294967295|h>>>11),h=e+(l^(i|~u))+r[12]+1700485571&4294967295,e=i+(h<<6&4294967295|h>>>26),h=u+(i^(e|~l))+r[3]+2399980690&4294967295,u=e+(h<<10&4294967295|h>>>22),h=l+(e^(u|~i))+r[10]+4293915773&4294967295,l=u+(h<<15&4294967295|h>>>17),h=i+(u^(l|~e))+r[1]+2240044497&4294967295,i=l+(h<<21&4294967295|h>>>11),h=e+(l^(i|~u))+r[8]+1873313359&4294967295,e=i+(h<<6&4294967295|h>>>26),h=u+(i^(e|~l))+r[15]+4264355552&4294967295,u=e+(h<<10&4294967295|h>>>22),h=l+(e^(u|~i))+r[6]+2734768916&4294967295,l=u+(h<<15&4294967295|h>>>17),h=i+(u^(l|~e))+r[13]+1309151649&4294967295,i=l+(h<<21&4294967295|h>>>11),h=e+(l^(i|~u))+r[4]+4149444226&4294967295,e=i+(h<<6&4294967295|h>>>26),h=u+(i^(e|~l))+r[11]+3174756917&4294967295,u=e+(h<<10&4294967295|h>>>22),h=l+(e^(u|~i))+r[2]+718787259&4294967295,l=u+(h<<15&4294967295|h>>>17),h=i+(u^(l|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(l+(h<<21&4294967295|h>>>11))&4294967295,n.g[2]=n.g[2]+l&4294967295,n.g[3]=n.g[3]+u&4294967295}Sn.prototype.j=function(n,e){e===void 0&&(e=n.length);for(var i=e-this.blockSize,r=this.m,l=this.h,u=0;u<e;){if(l==0)for(;u<=i;)Cd(this,n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<e;)if(r[l++]=n.charCodeAt(u++),l==this.blockSize){Cd(this,r),l=0;break}}else for(;u<e;)if(r[l++]=n[u++],l==this.blockSize){Cd(this,r),l=0;break}}this.h=l,this.i+=e};Sn.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var i=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=i&255,i/=256;for(this.j(n),n=Array(16),e=i=0;4>e;++e)for(var r=0;32>r;r+=8)n[i++]=this.g[e]>>>r&255;return n};function Oe(n,e){this.h=e;for(var i=[],r=!0,l=n.length-1;0<=l;l--){var u=n[l]|0;r&&u==e||(i[l]=u,r=!1)}this.g=i}var t2={};function eg(n){return-128<=n&&128>n?oO(n,function(e){return new Oe([e|0],0>e?-1:0)}):new Oe([n|0],0>n?-1:0)}function On(n){if(isNaN(n)||!isFinite(n))return Or;if(0>n)return _t(On(-n));for(var e=[],i=1,r=0;n>=i;r++)e[r]=n/i|0,i*=Wd;return new Oe(e,0)}function DT(n,e){if(n.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(n.charAt(0)=="-")return _t(DT(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=On(Math.pow(e,8)),r=Or,l=0;l<n.length;l+=8){var u=Math.min(8,n.length-l),h=parseInt(n.substring(l,l+u),e);8>u?(u=On(Math.pow(e,u)),r=r.R(u).add(On(h))):(r=r.R(i),r=r.add(On(h)))}return r}var Wd=4294967296,Or=eg(0),em=eg(1),zE=eg(16777216);V=Oe.prototype;V.ea=function(){if(mn(this))return-_t(this).ea();for(var n=0,e=1,i=0;i<this.g.length;i++){var r=this.D(i);n+=(0<=r?r:Wd+r)*e,e*=Wd}return n};V.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(ti(this))return"0";if(mn(this))return"-"+_t(this).toString(n);for(var e=On(Math.pow(n,6)),i=this,r="";;){var l=Zu(i,e).g;i=$u(i,l.R(e));var u=((0<i.g.length?i.g[0]:i.h)>>>0).toString(n);if(i=l,ti(i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}};V.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function ti(n){if(n.h!=0)return!1;for(var e=0;e<n.g.length;e++)if(n.g[e]!=0)return!1;return!0}function mn(n){return n.h==-1}V.X=function(n){return n=$u(this,n),mn(n)?-1:ti(n)?0:1};function _t(n){for(var e=n.g.length,i=[],r=0;r<e;r++)i[r]=~n.g[r];return new Oe(i,~n.h).add(em)}V.abs=function(){return mn(this)?_t(this):this};V.add=function(n){for(var e=Math.max(this.g.length,n.g.length),i=[],r=0,l=0;l<=e;l++){var u=r+(this.D(l)&65535)+(n.D(l)&65535),h=(u>>>16)+(this.D(l)>>>16)+(n.D(l)>>>16);r=h>>>16,u&=65535,h&=65535,i[l]=h<<16|u}return new Oe(i,i[i.length-1]&-2147483648?-1:0)};function $u(n,e){return n.add(_t(e))}V.R=function(n){if(ti(this)||ti(n))return Or;if(mn(this))return mn(n)?_t(this).R(_t(n)):_t(_t(this).R(n));if(mn(n))return _t(this.R(_t(n)));if(0>this.X(zE)&&0>n.X(zE))return On(this.ea()*n.ea());for(var e=this.g.length+n.g.length,i=[],r=0;r<2*e;r++)i[r]=0;for(r=0;r<this.g.length;r++)for(var l=0;l<n.g.length;l++){var u=this.D(r)>>>16,h=this.D(r)&65535,d=n.D(l)>>>16,m=n.D(l)&65535;i[2*r+2*l]+=h*m,wu(i,2*r+2*l),i[2*r+2*l+1]+=u*m,wu(i,2*r+2*l+1),i[2*r+2*l+1]+=h*d,wu(i,2*r+2*l+1),i[2*r+2*l+2]+=u*d,wu(i,2*r+2*l+2)}for(r=0;r<e;r++)i[r]=i[2*r+1]<<16|i[2*r];for(r=e;r<2*e;r++)i[r]=0;return new Oe(i,0)};function wu(n,e){for(;(n[e]&65535)!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function el(n,e){this.g=n,this.h=e}function Zu(n,e){if(ti(e))throw Error("division by zero");if(ti(n))return new el(Or,Or);if(mn(n))return e=Zu(_t(n),e),new el(_t(e.g),_t(e.h));if(mn(e))return e=Zu(n,_t(e)),new el(_t(e.g),e.h);if(30<n.g.length){if(mn(n)||mn(e))throw Error("slowDivide_ only works with positive integers.");for(var i=em,r=e;0>=r.X(n);)i=kE(i),r=kE(r);var l=wr(i,1),u=wr(r,1);for(r=wr(r,2),i=wr(i,2);!ti(r);){var h=u.add(r);0>=h.X(n)&&(l=l.add(i),u=h),r=wr(r,1),i=wr(i,1)}return e=$u(n,l.R(e)),new el(l,e)}for(l=Or;0<=n.X(e);){for(i=Math.max(1,Math.floor(n.ea()/e.ea())),r=Math.ceil(Math.log(i)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),u=On(i),h=u.R(e);mn(h)||0<h.X(n);)i-=r,u=On(i),h=u.R(e);ti(u)&&(u=em),l=l.add(u),n=$u(n,h)}return new el(l,n)}V.gb=function(n){return Zu(this,n).h};V.and=function(n){for(var e=Math.max(this.g.length,n.g.length),i=[],r=0;r<e;r++)i[r]=this.D(r)&n.D(r);return new Oe(i,this.h&n.h)};V.or=function(n){for(var e=Math.max(this.g.length,n.g.length),i=[],r=0;r<e;r++)i[r]=this.D(r)|n.D(r);return new Oe(i,this.h|n.h)};V.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),i=[],r=0;r<e;r++)i[r]=this.D(r)^n.D(r);return new Oe(i,this.h^n.h)};function kE(n){for(var e=n.g.length+1,i=[],r=0;r<e;r++)i[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Oe(i,n.h)}function wr(n,e){var i=e>>5;e%=32;for(var r=n.g.length-i,l=[],u=0;u<r;u++)l[u]=0<e?n.D(u+i)>>>e|n.D(u+i+1)<<32-e:n.D(u+i);return new Oe(l,n.h)}Xu.prototype.createWebChannel=Xu.prototype.g;nn.prototype.send=nn.prototype.u;nn.prototype.open=nn.prototype.m;nn.prototype.close=nn.prototype.close;yc.NO_ERROR=0;yc.TIMEOUT=8;yc.HTTP_ERROR=6;Y_.COMPLETE="complete";P_.EventType=ql;ql.OPEN="a";ql.CLOSE="b";ql.ERROR="c";ql.MESSAGE="d";ft.prototype.listen=ft.prototype.O;Ye.prototype.listenOnce=Ye.prototype.P;Ye.prototype.getLastError=Ye.prototype.Sa;Ye.prototype.getLastErrorCode=Ye.prototype.Ia;Ye.prototype.getStatus=Ye.prototype.da;Ye.prototype.getResponseJson=Ye.prototype.Wa;Ye.prototype.getResponseText=Ye.prototype.ja;Ye.prototype.send=Ye.prototype.ha;Ye.prototype.setWithCredentials=Ye.prototype.Oa;Sn.prototype.digest=Sn.prototype.l;Sn.prototype.reset=Sn.prototype.reset;Sn.prototype.update=Sn.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=On;Oe.fromString=DT;var n2=function(){return new Xu},i2=function(){return pc()},Nd=yc,s2=Y_,r2=Bs,BE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},a2=Fl,bu=P_,l2=Ye,o2=Sn,Mr=Oe;const jE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wr="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Tm("@firebase/firestore");function VE(){return Ls.logLevel}function X(n,...e){if(Ls.logLevel<=we.DEBUG){const i=e.map(tg);Ls.debug(`Firestore (${Wr}): ${n}`,...i)}}function si(n,...e){if(Ls.logLevel<=we.ERROR){const i=e.map(tg);Ls.error(`Firestore (${Wr}): ${n}`,...i)}}function jr(n,...e){if(Ls.logLevel<=we.WARN){const i=e.map(tg);Ls.warn(`Firestore (${Wr}): ${n}`,...i)}}function tg(n){if(typeof n=="string")return n;try{return e=n,JSON.stringify(e)}catch{return n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(n="Unexpected state"){const e=`FIRESTORE (${Wr}) INTERNAL ASSERTION FAILED: `+n;throw si(e),new Error(e)}function at(n,e){n||ue()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends ai{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(At.UNAUTHENTICATED)))}shutdown(){}}class c2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class h2{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){let r=this.i;const l=m=>this.i!==r?(r=this.i,i(m)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await l(this.currentUser)}))},d=m=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}}),0),h()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string"),new RT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new At(e)}}class f2{constructor(e,i,r){this.h=e,this.l=i,this.m=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class d2{constructor(e,i,r){this.h=e,this.l=i,this.m=r}getToken(){return Promise.resolve(new f2(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable((()=>i(At.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g2{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,i){const r=u=>{u.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.T;return this.T=u.token,X("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?l(u):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(at(typeof i.token=="string"),this.T=i.token,new m2(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const l=p2(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%e.length))}return r}}function Ne(n,e){return n<e?-1:n>e?1:0}function Vr(n,e,i){return n.length===e.length&&n.every(((r,l)=>i(r,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new K(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new K(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new K(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*i));return new ht(i,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new ht(0,0))}static max(){return new re(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,i,r){i===void 0?i=0:i>e.length&&ue(),r===void 0?r=e.length-i:r>e.length-i&&ue(),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Nl.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=e.get(l),h=i.get(l);if(u<h)return-1;if(u>h)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class qe extends Nl{construct(e,i,r){return new qe(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new qe(i)}static emptyPath(){return new qe([])}}const y2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Nl{construct(e,i,r){return new Ut(e,i,r)}static isValidIdentifier(e){return y2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new K(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let h=!1;for(;l<e.length;){const d=e[l];if(d==="\\"){if(l+1===e.length)throw new K(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[l+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new K(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,l+=2}else d==="`"?(h=!h,l++):d!=="."||h?(r+=d,l++):(u(),l++)}if(u(),h)throw new K(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(i)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(qe.fromString(e))}static fromName(e){return new J(qe.fromString(e).popFirst(5))}static empty(){return new J(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return qe.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new qe(e.slice()))}}function v2(n,e){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,l=re.fromTimestamp(r===1e9?new ht(i+1,0):new ht(i,r));return new Pi(l,J.empty(),e)}function E2(n){return new Pi(n.readTime,n.key,-1)}class Pi{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Pi(re.min(),J.empty(),-1)}static max(){return new Pi(re.max(),J.empty(),-1)}}function S2(n,e){let i=n.readTime.compareTo(e.readTime);return i!==0?i:(i=J.comparator(n.documentKey,e.documentKey),i!==0?i:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(n){if(n.code!==z.FAILED_PRECONDITION||n.message!==_2)throw n;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new k(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof k?i:k.resolve(i)}catch(i){return k.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):k.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):k.reject(i)}static resolve(e){return new k(((i,r)=>{i(e)}))}static reject(e){return new k(((i,r)=>{r(e)}))}static waitFor(e){return new k(((i,r)=>{let l=0,u=0,h=!1;e.forEach((d=>{++l,d.next((()=>{++u,h&&u===l&&i()}),(m=>r(m)))})),h=!0,u===l&&i()}))}static or(e){let i=k.resolve(!1);for(const r of e)i=i.next((l=>l?k.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new k(((r,l)=>{const u=e.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const p=m;i(e[p]).next((v=>{h[p]=v,++d,d===u&&r(h)}),(v=>l(v)))}}))}static doWhile(e,i){return new k(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function Pl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}ig.ct=-1;function Ac(n){return n==null}function Ju(n){return n===0&&1/n==-1/0}function w2(n){return typeof n=="number"&&Number.isInteger(n)&&!Ju(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(n){let e=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&e++;return e}function Ql(n,e){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&e(i,n[i])}function MT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,i){this.comparator=e,this.root=i||St.EMPTY}insert(e,i){return new Ze(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Au(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Au(this.root,e,this.comparator,!1)}getReverseIterator(){return new Au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Au(this.root,e,this.comparator,!0)}}class Au{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??St.RED,this.left=l??St.EMPTY,this.right=u??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new St(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return St.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(n,e,i,r,l){return this}insert(n,e,i){return new St(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Rt(this.comparator);return i.data=e,i}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new ji([])}unionWith(e){let i=new Rt(Ut.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ji(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Vr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(r){try{return atob(r)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new IT("Invalid base64 string: "+l):l}})(e);return new Mt(i)}static fromUint8Array(e){const i=(function(r){let l="";for(let u=0;u<r.length;++u)l+=String.fromCharCode(r[u]);return l})(e);return new Mt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const b2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(n){if(at(!!n),typeof n=="string"){let e=0;const i=b2.exec(n);if(at(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(n.seconds),nanos:it(n.nanos)}}function it(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zs(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(n){var e,i;return((i=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function rg(n){const e=n.mapValue.fields.__previous_value__;return sg(e)?rg(e):e}function Dl(n){const e=Qi(n.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,i,r,l,u,h,d,m,p){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p}}class Rl{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu={mapValue:{}};function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sg(n)?4:C2(n)?9007199254740991:10:ue()}function xn(n,e){if(n===e)return!0;const i=ks(n);if(i!==ks(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dl(n).isEqual(Dl(e));case 3:return(function(r,l){if(typeof r.timestampValue=="string"&&typeof l.timestampValue=="string"&&r.timestampValue.length===l.timestampValue.length)return r.timestampValue===l.timestampValue;const u=Qi(r.timestampValue),h=Qi(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,l){return zs(r.bytesValue).isEqual(zs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,l){return it(r.geoPointValue.latitude)===it(l.geoPointValue.latitude)&&it(r.geoPointValue.longitude)===it(l.geoPointValue.longitude)})(n,e);case 2:return(function(r,l){if("integerValue"in r&&"integerValue"in l)return it(r.integerValue)===it(l.integerValue);if("doubleValue"in r&&"doubleValue"in l){const u=it(r.doubleValue),h=it(l.doubleValue);return u===h?Ju(u)===Ju(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Vr(n.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:return(function(r,l){const u=r.mapValue.fields||{},h=l.mapValue.fields||{};if(qE(u)!==qE(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!xn(u[d],h[d])))return!1;return!0})(n,e);default:return ue()}}function Ol(n,e){return(n.values||[]).find((i=>xn(i,e)))!==void 0}function qr(n,e){if(n===e)return 0;const i=ks(n),r=ks(e);if(i!==r)return Ne(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=it(l.integerValue||l.doubleValue),d=it(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return GE(n.timestampValue,e.timestampValue);case 4:return GE(Dl(n),Dl(e));case 5:return Ne(n.stringValue,e.stringValue);case 6:return(function(l,u){const h=zs(l),d=zs(u);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const p=Ne(h[m],d[m]);if(p!==0)return p}return Ne(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=Ne(it(l.latitude),it(u.latitude));return h!==0?h:Ne(it(l.longitude),it(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return(function(l,u){const h=l.values||[],d=u.values||[];for(let m=0;m<h.length&&m<d.length;++m){const p=qr(h[m],d[m]);if(p)return p}return Ne(h.length,d.length)})(n.arrayValue,e.arrayValue);case 10:return(function(l,u){if(l===Cu.mapValue&&u===Cu.mapValue)return 0;if(l===Cu.mapValue)return 1;if(u===Cu.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=u.fields||{},p=Object.keys(m);d.sort(),p.sort();for(let v=0;v<d.length&&v<p.length;++v){const E=Ne(d[v],p[v]);if(E!==0)return E;const D=qr(h[d[v]],m[p[v]]);if(D!==0)return D}return Ne(d.length,p.length)})(n.mapValue,e.mapValue);default:throw ue()}}function GE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const i=Qi(n),r=Qi(e),l=Ne(i.seconds,r.seconds);return l!==0?l:Ne(i.nanos,r.nanos)}function Hr(n){return tm(n)}function tm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(r){const l=Qi(r);return`time(${l.seconds},${l.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zs(n.bytesValue).toBase64():"referenceValue"in n?(i=n.referenceValue,J.fromName(i).toString()):"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?(function(r){let l="[",u=!0;for(const h of r.values||[])u?u=!1:l+=",",l+=tm(h);return l+"]"})(n.arrayValue):"mapValue"in n?(function(r){const l=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const d of l)h?h=!1:u+=",",u+=`${d}:${tm(r.fields[d])}`;return u+"}"})(n.mapValue):ue();var e,i}function FE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nm(n){return!!n&&"integerValue"in n}function ag(n){return!!n&&"arrayValue"in n}function KE(n){return!!n&&"nullValue"in n}function YE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dd(n){return!!n&&"mapValue"in n}function cl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ql(n.mapValue.fields,((i,r)=>e.mapValue.fields[i]=cl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=cl(n.arrayValue.values[i]);return e}return Object.assign({},n)}function C2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Dd(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(i)}setAll(e){let i=Ut.emptyPath(),r={},l=[];e.forEach(((h,d)=>{if(!i.isImmediateParentOf(d)){const m=this.getFieldsMap(i);this.applyChanges(m,r,l),r={},l=[],i=d.popLast()}h?r[d.lastSegment()]=cl(h):l.push(d.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());Dd(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Dd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Ql(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Dn(cl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,i,r,l,u,h,d){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Ct(e,0,re.min(),re.min(),re.min(),Dn.empty(),0)}static newFoundDocument(e,i,r,l){return new Ct(e,1,i,re.min(),r,l,0)}static newNoDocument(e,i){return new Ct(e,2,i,re.min(),re.min(),Dn.empty(),0)}static newUnknownDocument(e,i){return new Ct(e,3,i,re.min(),re.min(),Dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i){this.position=e,this.inclusive=i}}function PE(n,e,i){let r=0;for(let l=0;l<n.position.length;l++){const u=e[l],h=n.position[l];if(u.field.isKeyField()?r=J.comparator(J.fromName(h.referenceValue),i.key):r=qr(h,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function QE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!xn(n.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,i="asc"){this.field=e,this.dir=i}}function N2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{}class st extends xT{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new R2(e,i,r):i==="array-contains"?new I2(e,r):i==="in"?new x2(e,r):i==="not-in"?new U2(e,r):i==="array-contains-any"?new L2(e,r):new st(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new O2(e,r):new M2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(qr(i,this.value)):i!==null&&ks(this.value)===ks(i)&&this.matchesComparison(qr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _n extends xT{constructor(e,i){super(),this.filters=e,this.op=i,this.lt=null}static create(e,i){return new _n(e,i)}matches(e){return UT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((i=>i.isInequality()));return e!==null?e.field:null}ft(e){for(const i of this.getFlattenedFilters())if(e(i))return i;return null}}function UT(n){return n.op==="and"}function LT(n){return D2(n)&&UT(n)}function D2(n){for(const e of n.filters)if(e instanceof _n)return!1;return!0}function im(n){if(n instanceof st)return n.field.canonicalString()+n.op.toString()+Hr(n.value);if(LT(n))return n.filters.map((e=>im(e))).join(",");{const e=n.filters.map((i=>im(i))).join(",");return`${n.op}(${e})`}}function zT(n,e){return n instanceof st?(function(i,r){return r instanceof st&&i.op===r.op&&i.field.isEqual(r.field)&&xn(i.value,r.value)})(n,e):n instanceof _n?(function(i,r){return r instanceof _n&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((l,u,h)=>l&&zT(u,r.filters[h])),!0):!1})(n,e):void ue()}function kT(n){return n instanceof st?(function(e){return`${e.field.canonicalString()} ${e.op} ${Hr(e.value)}`})(n):n instanceof _n?(function(e){return e.op.toString()+" {"+e.getFilters().map(kT).join(" ,")+"}"})(n):"Filter"}class R2 extends st{constructor(e,i,r){super(e,i,r),this.key=J.fromName(r.referenceValue)}matches(e){const i=J.comparator(e.key,this.key);return this.matchesComparison(i)}}class O2 extends st{constructor(e,i){super(e,"in",i),this.keys=BT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class M2 extends st{constructor(e,i){super(e,"not-in",i),this.keys=BT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function BT(n,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((r=>J.fromName(r.referenceValue)))}class I2 extends st{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ag(i)&&Ol(i.arrayValue,this.value)}}class x2 extends st{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ol(this.value.arrayValue,i)}}class U2 extends st{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Ol(this.value.arrayValue,i)}}class L2 extends st{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ag(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ol(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,i=null,r=[],l=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=h,this.endAt=d,this.dt=null}}function XE(n,e=null,i=[],r=[],l=null,u=null,h=null){return new z2(n,e,i,r,l,u,h)}function lg(n){const e=be(n);if(e.dt===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>im(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Ac(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Hr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Hr(r))).join(",")),e.dt=i}return e.dt}function og(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!N2(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!zT(n.filters[i],e.filters[i]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QE(n.startAt,e.startAt)&&QE(n.endAt,e.endAt)}function sm(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,i=null,r=[],l=[],u=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.wt=null,this._t=null,this.startAt,this.endAt}}function k2(n,e,i,r,l,u,h,d){return new ea(n,e,i,r,l,u,h,d)}function ug(n){return new ea(n)}function $E(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Cc(n){for(const e of n.filters){const i=e.getFirstInequalityField();if(i!==null)return i}return null}function jT(n){return n.collectionGroup!==null}function xr(n){const e=be(n);if(e.wt===null){e.wt=[];const i=Cc(e),r=cg(e);if(i!==null&&r===null)i.isKeyField()||e.wt.push(new Ir(i)),e.wt.push(new Ir(Ut.keyField(),"asc"));else{let l=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(l=!0);if(!l){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ir(Ut.keyField(),u))}}}return e.wt}function ri(n){const e=be(n);if(!e._t)if(e.limitType==="F")e._t=XE(e.path,e.collectionGroup,xr(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const u of xr(e)){const h=u.dir==="desc"?"asc":"desc";i.push(new Ir(u.field,h))}const r=e.endAt?new Wu(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Wu(e.startAt.position,e.startAt.inclusive):null;e._t=XE(e.path,e.collectionGroup,i,e.filters,e.limit,r,l)}return e._t}function rm(n,e){e.getFirstInequalityField(),Cc(n);const i=n.filters.concat([e]);return new ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function ec(n,e,i){return new ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,i,n.startAt,n.endAt)}function Nc(n,e){return og(ri(n),ri(e))&&n.limitType===e.limitType}function VT(n){return`${lg(ri(n))}|lt:${n.limitType}`}function am(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>kT(r))).join(", ")}]`),Ac(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Hr(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Hr(r))).join(",")),`Target(${i})`})(ri(n))}; limitType=${n.limitType})`}function Dc(n,e){return e.isFoundDocument()&&(function(i,r){const l=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):J.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,r){for(const l of xr(i))if(!l.field.isKeyField()&&r.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const l of i.filters)if(!l.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(l,u,h){const d=PE(l,u,h);return l.inclusive?d<=0:d<0})(i.startAt,xr(i),r)||i.endAt&&!(function(l,u,h){const d=PE(l,u,h);return l.inclusive?d>=0:d>0})(i.endAt,xr(i),r))})(n,e)}function B2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qT(n){return(e,i)=>{let r=!1;for(const l of xr(n)){const u=j2(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function j2(n,e,i){const r=n.field.isKeyField()?J.comparator(e.key,i.key):(function(l,u,h){const d=u.data.field(l),m=h.data.field(l);return d!==null&&m!==null?qr(d,m):ue()})(n.field,e,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ql(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return MT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new Ze(J.comparator);function Xi(){return V2}const HT=new Ze(J.comparator);function rl(...n){let e=HT;for(const i of n)e=e.insert(i.key,i);return e}function q2(n){let e=HT;return n.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ds(){return hl()}function GT(){return hl()}function hl(){return new ta((n=>n.toString()),((n,e)=>n.isEqual(e)))}const H2=new Rt(J.comparator);function Se(...n){let e=H2;for(const i of n)e=e.add(i);return e}const G2=new Rt(Ne);function F2(){return G2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(e)?"-0":e}}function KT(n){return{integerValue:""+n}}function K2(n,e){return w2(e)?KT(e):FT(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this._=void 0}}function Y2(n,e,i){return n instanceof lm?(function(r,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return l&&sg(l)&&(l=rg(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}})(i,e):n instanceof tc?YT(n,e):n instanceof nc?PT(n,e):(function(r,l){const u=Q2(r,l),h=ZE(u)+ZE(r.gt);return nm(u)&&nm(r.gt)?KT(h):FT(r.serializer,h)})(n,e)}function P2(n,e,i){return n instanceof tc?YT(n,e):n instanceof nc?PT(n,e):i}function Q2(n,e){return n instanceof om?nm(i=e)||(function(r){return!!r&&"doubleValue"in r})(i)?e:{integerValue:0}:null;var i}class lm extends Rc{}class tc extends Rc{constructor(e){super(),this.elements=e}}function YT(n,e){const i=QT(e);for(const r of n.elements)i.some((l=>xn(l,r)))||i.push(r);return{arrayValue:{values:i}}}class nc extends Rc{constructor(e){super(),this.elements=e}}function PT(n,e){let i=QT(e);for(const r of n.elements)i=i.filter((l=>!xn(l,r)));return{arrayValue:{values:i}}}class om extends Rc{constructor(e,i){super(),this.serializer=e,this.gt=i}}function ZE(n){return it(n.integerValue||n.doubleValue)}function QT(n){return ag(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function X2(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof tc&&r instanceof tc||i instanceof nc&&r instanceof nc?Vr(i.elements,r.elements,xn):i instanceof om&&r instanceof om?xn(i.gt,r.gt):i instanceof lm&&r instanceof lm})(n.transform,e.transform)}class Ms{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ms}static exists(e){return new Ms(void 0,e)}static updateTime(e){return new Ms(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hg{}function XT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Z2(n.key,Ms.none()):new fg(n.key,n.data,Ms.none());{const i=n.data,r=Dn.empty();let l=new Rt(Ut.comparator);for(let u of e.fields)if(!l.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?r.delete(u):r.set(u,h),l=l.add(u)}return new Oc(n.key,r,new ji(l.toArray()),Ms.none())}}function $2(n,e,i){n instanceof fg?(function(r,l,u){const h=r.value.clone(),d=WE(r.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,i):n instanceof Oc?(function(r,l,u){if(!xu(r.precondition,l))return void l.convertToUnknownDocument(u.version);const h=WE(r.fieldTransforms,l,u.transformResults),d=l.data;d.setAll($T(r)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,i):(function(r,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,i)}function fl(n,e,i,r){return n instanceof fg?(function(l,u,h,d){if(!xu(l.precondition,u))return h;const m=l.value.clone(),p=eS(l.fieldTransforms,d,u);return m.setAll(p),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,i,r):n instanceof Oc?(function(l,u,h,d){if(!xu(l.precondition,u))return h;const m=eS(l.fieldTransforms,d,u),p=u.data;return p.setAll($T(l)),p.setAll(m),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,e,i,r):(function(l,u,h){return xu(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,i)}function JE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Vr(i,r,((l,u)=>X2(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fg extends hg{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Oc extends hg{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $T(n){const e=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);e.set(i,r)}})),e}function WE(n,e,i){const r=new Map;at(n.length===i.length);for(let l=0;l<i.length;l++){const u=n[l],h=u.transform,d=e.data.field(u.field);r.set(u.field,P2(h,d,i[l]))}return r}function eS(n,e,i){const r=new Map;for(const l of n){const u=l.transform,h=i.data.field(l.field);r.set(l.field,Y2(u,h,e))}return r}class Z2 extends hg{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&$2(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=fl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=fl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=GT();return this.mutations.forEach((l=>{const u=e.get(l.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=i.has(l.key)?null:d;const m=XT(h,d);m!==null&&r.set(l.key,m),h.isValidDocument()||h.convertToNoDocument(re.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Se())}isEqual(e){return this.batchId===e.batchId&&Vr(this.mutations,e.mutations,((i,r)=>JE(i,r)))&&Vr(this.baseMutations,e.baseMutations,((i,r)=>JE(i,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt,Ee;function ZT(n){if(n===void 0)return si("GRPC error has no .code"),z.UNKNOWN;switch(n){case nt.OK:return z.OK;case nt.CANCELLED:return z.CANCELLED;case nt.UNKNOWN:return z.UNKNOWN;case nt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case nt.INTERNAL:return z.INTERNAL;case nt.UNAVAILABLE:return z.UNAVAILABLE;case nt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case nt.NOT_FOUND:return z.NOT_FOUND;case nt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case nt.ABORTED:return z.ABORTED;case nt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case nt.DATA_LOSS:return z.DATA_LOSS;default:return ue()}}(Ee=nt||(nt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Nu}static getOrCreateInstance(){return Nu===null&&(Nu=new dg),Nu}onExistenceFilterMismatch(e){const i=Symbol();return this.onExistenceFilterMismatchCallbacks.set(i,e),()=>this.onExistenceFilterMismatchCallbacks.delete(i)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((i=>i(e)))}}let Nu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new Mr([4294967295,4294967295],0);function tS(n){const e=tM().encode(n),i=new o2;return i.update(e),new Uint8Array(i.digest())}function nS(n){const e=new DataView(n.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Mr([i,r],0),new Mr([l,u],0)]}class mg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new al(`Invalid padding: ${i}`);if(r<0)throw new al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new al(`Invalid padding when bitmap length is 0: ${i}`);this.It=8*e.length-i,this.Tt=Mr.fromNumber(this.It)}Et(e,i,r){let l=e.add(i.multiply(Mr.fromNumber(r)));return l.compare(nM)===1&&(l=new Mr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const i=tS(e),[r,l]=nS(i);for(let u=0;u<this.hashCount;u++){const h=this.Et(r,l,u);if(!this.At(h))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new mg(u,l,i);return r.forEach((d=>h.insert(d))),h}insert(e){if(this.It===0)return;const i=tS(e),[r,l]=nS(i);for(let u=0;u<this.hashCount;u++){const h=this.Et(r,l,u);this.Rt(h)}}Rt(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Mc(re.min(),l,new Ze(Ne),Xi(),Se())}}class Xl{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Xl(r,i,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,i,r,l){this.Pt=e,this.removedTargetIds=i,this.key=r,this.bt=l}}class JT{constructor(e,i){this.targetId=e,this.Vt=i}}class WT{constructor(e,i,r=Mt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class iS{constructor(){this.St=0,this.Dt=rS(),this.Ct=Mt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Se(),i=Se(),r=Se();return this.Dt.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:ue()}})),new Xl(this.Ct,this.xt,e,i,r)}Ft(){this.Nt=!1,this.Dt=rS()}Bt(e,i){this.Nt=!0,this.Dt=this.Dt.insert(e,i)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class iM{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Xi(),this.zt=sS(),this.Wt=new Ze(Ne)}Ht(e){for(const i of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(i,e.bt):this.Yt(i,e.key,e.bt);for(const i of e.removedTargetIds)this.Yt(i,e.key,e.bt)}Xt(e){this.forEachTarget(e,(i=>{const r=this.Zt(i);switch(e.state){case 0:this.te(i)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(i);break;case 3:this.te(i)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(i)&&(this.ee(i),r.$t(e.resumeToken));break;default:ue()}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Qt.forEach(((r,l)=>{this.te(l)&&i(l)}))}ne(e){var i;const r=e.targetId,l=e.Vt.count,u=this.se(r);if(u){const h=u.target;if(sm(h))if(l===0){const d=new J(h.path);this.Yt(r,d,Ct.newNoDocument(d,re.min()))}else at(l===1);else{const d=this.ie(r);if(d!==l){const m=this.re(e,d);if(m!==0){this.ee(r);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,p)}(i=dg.instance)===null||i===void 0||i.notifyOnExistenceFilterMismatch((function(p,v,E){var D,U,H,F,B,ee;const ae={localCacheCount:v,existenceFilterCount:E.count},Z=E.unchangedNames;return Z&&(ae.bloomFilter={applied:p===0,hashCount:(D=Z?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(F=(H=(U=Z?.bits)===null||U===void 0?void 0:U.bitmap)===null||H===void 0?void 0:H.length)!==null&&F!==void 0?F:0,padding:(ee=(B=Z?.bits)===null||B===void 0?void 0:B.padding)!==null&&ee!==void 0?ee:0}),ae})(m,d,e.Vt))}}}}re(e,i){const{unchangedNames:r,count:l}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:h=0},hashCount:d=0}=r;let m,p;try{m=zs(u).toUint8Array()}catch(v){if(v instanceof IT)return jr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw v}try{p=new mg(m,h,d)}catch(v){return jr(v instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",v),1}return p.It===0?1:l!==i-this.oe(e.targetId,p)?2:0}oe(e,i){const r=this.Gt.getRemoteKeysForTarget(e);let l=0;return r.forEach((u=>{const h=this.Gt.ue(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;i.vt(d)||(this.Yt(e,u,null),l++)})),l}ce(e){const i=new Map;this.Qt.forEach(((u,h)=>{const d=this.se(h);if(d){if(u.current&&sm(d.target)){const m=new J(d.target.path);this.jt.get(m)!==null||this.ae(h,m)||this.Yt(h,m,Ct.newNoDocument(m,e))}u.Mt&&(i.set(h,u.Ot()),u.Ft())}}));let r=Se();this.zt.forEach(((u,h)=>{let d=!0;h.forEachWhile((m=>{const p=this.se(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(u))})),this.jt.forEach(((u,h)=>h.setReadTime(e)));const l=new Mc(e,i,this.Wt,this.jt,r);return this.jt=Xi(),this.zt=sS(),this.Wt=new Ze(Ne),l}Jt(e,i){if(!this.te(e))return;const r=this.ae(e,i.key)?2:0;this.Zt(e).Bt(i.key,r),this.jt=this.jt.insert(i.key,i),this.zt=this.zt.insert(i.key,this.he(i.key).add(e))}Yt(e,i,r){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,i)?l.Bt(i,1):l.Lt(i),this.zt=this.zt.insert(i,this.he(i).delete(e)),r&&(this.jt=this.jt.insert(i,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const i=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let i=this.Qt.get(e);return i||(i=new iS,this.Qt.set(e,i)),i}he(e){let i=this.zt.get(e);return i||(i=new Rt(Ne),this.zt=this.zt.insert(e,i)),i}te(e){const i=this.se(e)!==null;return i||X("WatchChangeAggregator","Detected inactive target",e),i}se(e){const i=this.Qt.get(e);return i&&i.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new iS),this.Gt.getRemoteKeysForTarget(e).forEach((i=>{this.Yt(e,i,null)}))}ae(e,i){return this.Gt.getRemoteKeysForTarget(e).has(i)}}function sS(){return new Ze(J.comparator)}function rS(){return new Ze(J.comparator)}const sM={asc:"ASCENDING",desc:"DESCENDING"},rM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aM={and:"AND",or:"OR"};class lM{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function um(n,e){return n.useProto3Json||Ac(e)?e:{value:e}}function cm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ur(n){return at(!!n),re.fromTimestamp((function(e){const i=Qi(e);return new ht(i.seconds,i.nanos)})(n))}function t1(n,e){return(function(i){return new qe(["projects",i.projectId,"databases",i.database])})(n).child("documents").child(e).canonicalString()}function n1(n){const e=qe.fromString(n);return at(a1(e)),e}function Rd(n,e){const i=n1(e);if(i.get(1)!==n.databaseId.projectId)throw new K(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new K(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new J(i1(i))}function hm(n,e){return t1(n.databaseId,e)}function oM(n){const e=n1(n);return e.length===4?qe.emptyPath():i1(e)}function aS(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function i1(n){return at(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function uM(n,e){let i;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ue()})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(m,p){return m.useProto3Json?(at(p===void 0||typeof p=="string"),Mt.fromBase64String(p||"")):(at(p===void 0||p instanceof Uint8Array),Mt.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&(function(m){const p=m.code===void 0?z.UNKNOWN:ZT(m.code);return new K(p,m.message||"")})(h);i=new WT(r,l,u,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Rd(n,r.document.name),u=Ur(r.document.updateTime),h=r.document.createTime?Ur(r.document.createTime):re.min(),d=new Dn({mapValue:{fields:r.document.fields}}),m=Ct.newFoundDocument(l,u,h,d),p=r.targetIds||[],v=r.removedTargetIds||[];i=new Uu(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Rd(n,r.document),u=r.readTime?Ur(r.readTime):re.min(),h=Ct.newNoDocument(l,u),d=r.removedTargetIds||[];i=new Uu([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Rd(n,r.document),u=r.removedTargetIds||[];i=new Uu([],u,l,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,h=new eM(l,u),d=r.targetId;i=new JT(d,h)}}return i}function cM(n,e){return{documents:[hm(n,e.path)]}}function hM(n,e){const i={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(i.parent=hm(n,r),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=hm(n,r.popLast()),i.structuredQuery.from=[{collectionId:r.lastSegment()}]);const l=(function(m){if(m.length!==0)return r1(_n.create(m,"and"))})(e.filters);l&&(i.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((p=>(function(v){return{field:br(v.field),direction:mM(v.dir)}})(p)))})(e.orderBy);u&&(i.structuredQuery.orderBy=u);const h=um(n,e.limit);var d;return h!==null&&(i.structuredQuery.limit=h),e.startAt&&(i.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(i.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),i}function fM(n){let e=oM(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){at(r===1);const v=i.from[0];v.allDescendants?l=v.collectionId:e=e.child(v.collectionId)}let u=[];i.where&&(u=(function(v){const E=s1(v);return E instanceof _n&&LT(E)?E.getFilters():[E]})(i.where));let h=[];i.orderBy&&(h=i.orderBy.map((v=>(function(E){return new Ir(Ar(E.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(v))));let d=null;i.limit&&(d=(function(v){let E;return E=typeof v=="object"?v.value:v,Ac(E)?null:E})(i.limit));let m=null;i.startAt&&(m=(function(v){const E=!!v.before,D=v.values||[];return new Wu(D,E)})(i.startAt));let p=null;return i.endAt&&(p=(function(v){const E=!v.before,D=v.values||[];return new Wu(D,E)})(i.endAt)),k2(e,l,h,u,d,"F",m,p)}function dM(n,e){const i=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function s1(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ar(e.unaryFilter.field);return st.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ar(e.unaryFilter.field);return st.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ar(e.unaryFilter.field);return st.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ar(e.unaryFilter.field);return st.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ue()}})(n):n.fieldFilter!==void 0?(function(e){return st.create(Ar(e.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return _n.create(e.compositeFilter.filters.map((i=>s1(i))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}})(e.compositeFilter.op))})(n):ue()}function mM(n){return sM[n]}function gM(n){return rM[n]}function pM(n){return aM[n]}function br(n){return{fieldPath:n.canonicalString()}}function Ar(n){return Ut.fromServerFormat(n.fieldPath)}function r1(n){return n instanceof st?(function(e){if(e.op==="=="){if(YE(e.value))return{unaryFilter:{field:br(e.field),op:"IS_NAN"}};if(KE(e.value))return{unaryFilter:{field:br(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(YE(e.value))return{unaryFilter:{field:br(e.field),op:"IS_NOT_NAN"}};if(KE(e.value))return{unaryFilter:{field:br(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:br(e.field),op:gM(e.op),value:e.value}}})(n):n instanceof _n?(function(e){const i=e.getFilters().map((r=>r1(r)));return i.length===1?i[0]:{compositeFilter:{op:pM(e.op),filters:i}}})(n):ue()}function a1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,i,r,l,u=re.min(),h=re.min(),d=Mt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.fe=e}}function vM(n){const e=fM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ec(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.rn=new SM}addToCollectionParentIndex(e,i){return this.rn.add(i),k.resolve()}getCollectionParents(e,i){return k.resolve(this.rn.getEntries(i))}addFieldIndex(e,i){return k.resolve()}deleteFieldIndex(e,i){return k.resolve()}getDocumentsMatchingTarget(e,i){return k.resolve(null)}getIndexType(e,i){return k.resolve(0)}getFieldIndexes(e,i){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,i){return k.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,i){return k.resolve(Pi.min())}updateCollectionGroup(e,i,r){return k.resolve()}updateIndexEntries(e,i){return k.resolve()}}class SM{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Rt(qe.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Rt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Gr(0)}static Mn(){return new Gr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.changes=new ta((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?k.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&fl(r.mutation,l,ji.empty(),ht.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Se()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Se()){const l=Ds();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let h=rl();return u.forEach(((d,m)=>{h=h.insert(d,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,i){const r=Ds();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Se())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((h,d)=>{i.set(h,d)}))}))}computeViews(e,i,r,l){let u=Xi();const h=hl(),d=hl();return i.forEach(((m,p)=>{const v=r.get(p.key);l.has(p.key)&&(v===void 0||v.mutation instanceof Oc)?u=u.insert(p.key,p):v!==void 0?(h.set(p.key,v.mutation.getFieldMask()),fl(v.mutation,p,v.mutation.getFieldMask(),ht.now())):h.set(p.key,ji.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((p,v)=>h.set(p,v))),i.forEach(((p,v)=>{var E;return d.set(p,new TM(v,(E=h.get(p))!==null&&E!==void 0?E:null))})),d)))}recalculateAndSaveOverlays(e,i){const r=hl();let l=new Ze(((h,d)=>h-d)),u=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((h=>{for(const d of h)d.keys().forEach((m=>{const p=i.get(m);if(p===null)return;let v=r.get(m)||ji.empty();v=d.applyToLocalView(p,v),r.set(m,v);const E=(l.get(d.batchId)||Se()).add(m);l=l.insert(d.batchId,E)}))})).next((()=>{const h=[],d=l.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,E=GT();v.forEach((D=>{if(!u.has(D)){const U=XT(i.get(D),r.get(D));U!==null&&E.set(D,U),u=u.add(D)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,E))}return k.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r){return(function(l){return J.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):jT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r):this.getDocumentsMatchingCollectionQuery(e,i,r)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):k.resolve(Ds());let d=-1,m=u;return h.next((p=>k.forEach(p,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?k.resolve():this.remoteDocumentCache.getEntry(e,v).next((D=>{m=m.insert(v,D)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,m,p,Se()))).next((v=>({batchId:d,changes:q2(v)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new J(i)).next((r=>{let l=rl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r){const l=i.collectionGroup;let u=rl();return this.indexManager.getCollectionParents(e,l).next((h=>k.forEach(h,(d=>{const m=(function(p,v){return new ea(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(i,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r).next((p=>{p.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,i,r){let l;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,l)))).next((u=>{l.forEach(((d,m)=>{const p=m.getKey();u.get(p)===null&&(u=u.insert(p,Ct.newInvalidDocument(p)))}));let h=rl();return u.forEach(((d,m)=>{const p=l.get(d);p!==void 0&&fl(p.mutation,m,ji.empty(),ht.now()),Dc(i,m)&&(h=h.insert(d,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,i){return k.resolve(this.cs.get(i))}saveBundleMetadata(e,i){var r;return this.cs.set(i.id,{id:(r=i).id,version:r.version,createTime:Ur(r.createTime)}),k.resolve()}getNamedQuery(e,i){return k.resolve(this.hs.get(i))}saveNamedQuery(e,i){return this.hs.set(i.name,(function(r){return{name:r.name,query:vM(r.bundledQuery),readTime:Ur(r.readTime)}})(i)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.overlays=new Ze(J.comparator),this.ls=new Map}getOverlay(e,i){return k.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ds();return k.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.we(e,i,u)})),k.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.ls.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.ls.delete(r)),k.resolve()}getOverlaysForCollection(e,i,r){const l=Ds(),u=i.length+1,h=new J(i.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===u&&m.largestBatchId>r&&l.set(m.getKey(),m)}return k.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new Ze(((p,v)=>p-v));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>r){let v=u.get(p.largestBatchId);v===null&&(v=Ds(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=Ds(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=l)););return k.resolve(d)}we(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const h=this.ls.get(l.largestBatchId).delete(r.key);this.ls.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new W2(i,r));let u=this.ls.get(i);u===void 0&&(u=Se(),this.ls.set(i,u)),this.ls.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.fs=new Rt(ct.ds),this.ws=new Rt(ct._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,i){const r=new ct(e,i);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.ys(new ct(e,i))}ps(e,i){e.forEach((r=>this.removeReference(r,i)))}Is(e){const i=new J(new qe([])),r=new ct(i,e),l=new ct(i,e+1),u=[];return this.ws.forEachInRange([r,l],(h=>{this.ys(h),u.push(h.key)})),u}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const i=new J(new qe([])),r=new ct(i,e),l=new ct(i,e+1);let u=Se();return this.ws.forEachInRange([r,l],(h=>{u=u.add(h.key)})),u}containsKey(e){const i=new ct(e,0),r=this.fs.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,i){this.key=e,this.As=i}static ds(e,i){return J.comparator(e.key,i.key)||Ne(e.As,i.As)}static _s(e,i){return Ne(e.As,i.As)||J.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.vs=1,this.Rs=new Rt(ct.ds)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new J2(u,i,r,l);this.mutationQueue.push(h);for(const d of l)this.Rs=this.Rs.add(new ct(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return k.resolve(h)}lookupMutationBatch(e,i){return k.resolve(this.Ps(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.bs(r),u=l<0?0:l;return k.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new ct(i,0),l=new ct(i,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,l],(h=>{const d=this.Ps(h.As);u.push(d)})),k.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Rt(Ne);return i.forEach((l=>{const u=new ct(l,0),h=new ct(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,h],(d=>{r=r.add(d.As)}))})),k.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;J.isDocumentKey(u)||(u=u.child(""));const h=new ct(new J(u),0);let d=new Rt(Ne);return this.Rs.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===l&&(d=d.add(m.As)),!0)}),h),k.resolve(this.Vs(d))}Vs(e){const i=[];return e.forEach((r=>{const l=this.Ps(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){at(this.Ss(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return k.forEach(i.mutations,(l=>{const u=new ct(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Rs=r}))}Cn(e){}containsKey(e,i){const r=new ct(i,0),l=this.Rs.firstAfterOrEqual(r);return k.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Ss(e,i){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const i=this.bs(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.Ds=e,this.docs=new Ze(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,h=this.Ds(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return k.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(i))}getEntries(e,i){let r=Xi();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Ct.newInvalidDocument(l))})),k.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=Xi();const h=i.path,d=new J(h.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||S2(E2(v),r)<=0||(l.has(v.key)||Dc(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return k.resolve(u)}getAllFromCollectionGroup(e,i,r,l){ue()}Cs(e,i){return k.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new DM(this)}getSize(e){return k.resolve(this.size)}}class DM extends _M{constructor(e){super(),this.os=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.os.addEntry(e,l)):this.os.removeEntry(r)})),k.waitFor(i)}getFromCache(e,i){return this.os.getEntry(e,i)}getAllFromCache(e,i){return this.os.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.persistence=e,this.xs=new ta((i=>lg(i)),og),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Ns=0,this.ks=new gg,this.targetCount=0,this.Ms=Gr.kn()}forEachTarget(e,i){return this.xs.forEach(((r,l)=>i(l))),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.Ns&&(this.Ns=i),k.resolve()}Fn(e){this.xs.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ms=new Gr(i),this.highestTargetId=i),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,i){return this.Fn(i),this.targetCount+=1,k.resolve()}updateTargetData(e,i){return this.Fn(i),k.resolve()}removeTargetData(e,i){return this.xs.delete(i.target),this.ks.Is(i.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.xs.forEach(((h,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.xs.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),l++)})),k.waitFor(u).next((()=>l))}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,i){const r=this.xs.get(i)||null;return k.resolve(r)}addMatchingKeys(e,i,r){return this.ks.gs(i,r),k.resolve()}removeMatchingKeys(e,i,r){this.ks.ps(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((h=>{u.push(l.markPotentiallyOrphaned(e,h))})),k.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this.ks.Is(i),k.resolve()}getMatchingKeysForTargetId(e,i){const r=this.ks.Es(i);return k.resolve(r)}containsKey(e,i){return k.resolve(this.ks.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,i){this.$s={},this.overlays={},this.Os=new ig(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new RM(this),this.indexManager=new EM,this.remoteDocumentCache=(function(r){return new NM(r)})((r=>this.referenceDelegate.Ls(r))),this.serializer=new yM(i),this.qs=new bM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new AM,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.$s[e.toKey()];return r||(r=new CM(i,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,i,r){X("MemoryPersistence","Starting transaction:",e);const l=new MM(this.Os.next());return this.referenceDelegate.Us(),r(l).next((u=>this.referenceDelegate.Ks(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Gs(e,i){return k.or(Object.values(this.$s).map((r=>()=>r.containsKey(e,i))))}}class MM extends T2{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Qs=new gg,this.js=null}static zs(e){return new pg(e)}get Ws(){if(this.js)return this.js;throw ue()}addReference(e,i,r){return this.Qs.addReference(r,i),this.Ws.delete(r.toString()),k.resolve()}removeReference(e,i,r){return this.Qs.removeReference(r,i),this.Ws.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,i){return this.Ws.add(i.toString()),k.resolve()}removeTarget(e,i){this.Qs.Is(i.targetId).forEach((l=>this.Ws.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.Ws.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Us(){this.js=new Set}Ks(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Ws,(r=>{const l=J.fromPath(r);return this.Hs(e,l).next((u=>{u||i.removeEntry(l,re.min())}))})).next((()=>(this.js=null,i.apply(e))))}updateLimboDocument(e,i){return this.Hs(e,i).next((r=>{r?this.Ws.delete(i.toString()):this.Ws.add(i.toString())}))}Ls(e){return 0}Hs(e,i){return k.or([()=>k.resolve(this.Qs.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Gs(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Fi=r,this.Bi=l}static Li(e,i){let r=Se(),l=Se();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new yg(e,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.qi=!1}initialize(e,i){this.Ui=e,this.indexManager=i,this.qi=!0}getDocumentsMatchingQuery(e,i,r,l){return this.Ki(e,i).next((u=>u||this.Gi(e,i,l,r))).next((u=>u||this.Qi(e,i)))}Ki(e,i){if($E(i))return k.resolve(null);let r=ri(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ec(i,null,"F"),r=ri(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=Se(...u);return this.Ui.getDocuments(e,h).next((d=>this.indexManager.getMinOffset(e,r).next((m=>{const p=this.ji(i,d);return this.zi(i,p,h,m.readTime)?this.Ki(e,ec(i,null,"F")):this.Wi(e,p,i,m)}))))})))))}Gi(e,i,r,l){return $E(i)||l.isEqual(re.min())?this.Qi(e,i):this.Ui.getDocuments(e,r).next((u=>{const h=this.ji(i,u);return this.zi(i,h,r,l)?this.Qi(e,i):(VE()<=we.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),am(i)),this.Wi(e,h,i,v2(l,-1)))}))}ji(e,i){let r=new Rt(qT(e));return i.forEach(((l,u)=>{Dc(e,u)&&(r=r.add(u))})),r}zi(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Qi(e,i){return VE()<=we.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",am(i)),this.Ui.getDocumentsMatchingQuery(e,i,Pi.min())}Wi(e,i,r,l){return this.Ui.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,i,r,l){this.persistence=e,this.Hi=i,this.serializer=l,this.Ji=new Ze(Ne),this.Yi=new ta((u=>lg(u)),og),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wM(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ji)))}}function UM(n,e,i,r){return new xM(n,e,i,r)}async function l1(n,e){const i=be(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.tr(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],d=[];let m=Se();for(const p of l){h.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of u){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return i.localDocuments.getDocuments(r,m).next((p=>({er:p,removedBatchIds:h,addedBatchIds:d})))}))}))}function o1(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Bs.getLastRemoteSnapshotVersion(i)))}function LM(n,e){const i=be(n),r=e.snapshotVersion;let l=i.Ji;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=i.Zi.newChangeBuffer({trackRemovals:!0});l=i.Ji;const d=[];e.targetChanges.forEach(((v,E)=>{const D=l.get(E);if(!D)return;d.push(i.Bs.removeMatchingKeys(u,v.removedDocuments,E).next((()=>i.Bs.addMatchingKeys(u,v.addedDocuments,E))));let U=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?U=U.withResumeToken(Mt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):v.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(v.resumeToken,r)),l=l.insert(E,U),(function(H,F,B){return H.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(D,U,v)&&d.push(i.Bs.updateTargetData(u,U))}));let m=Xi(),p=Se();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(zM(u,h,e.documentUpdates).next((v=>{m=v.nr,p=v.sr}))),!r.isEqual(re.min())){const v=i.Bs.getLastRemoteSnapshotVersion(u).next((E=>i.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r)));d.push(v)}return k.waitFor(d).next((()=>h.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,m,p))).next((()=>m))})).then((u=>(i.Ji=l,u)))}function zM(n,e,i){let r=Se(),l=Se();return i.forEach((u=>r=r.add(u))),e.getEntries(n,r).next((u=>{let h=Xi();return i.forEach(((d,m)=>{const p=u.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(d)),m.isNoDocument()&&m.version.isEqual(re.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):X("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{nr:h,sr:l}}))}function kM(n,e){const i=be(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Bs.getTargetData(r,e).next((u=>u?(l=u,k.resolve(l)):i.Bs.allocateTargetId(r).next((h=>(l=new Vi(e,h,"TargetPurposeListen",r.currentSequenceNumber),i.Bs.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ji.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ji=i.Ji.insert(r.targetId,r),i.Yi.set(e,r.targetId)),r}))}async function fm(n,e,i){const r=be(n),l=r.Ji.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!Pl(h))throw h;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(l.target)}function lS(n,e,i){const r=be(n);let l=re.min(),u=Se();return r.persistence.runTransaction("Execute query","readonly",(h=>(function(d,m,p){const v=be(d),E=v.Yi.get(p);return E!==void 0?k.resolve(v.Ji.get(E)):v.Bs.getTargetData(m,p)})(r,h,ri(e)).next((d=>{if(d)return l=d.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(h,d.targetId).next((m=>{u=m}))})).next((()=>r.Hi.getDocumentsMatchingQuery(h,e,i?l:re.min(),i?u:Se()))).next((d=>(BM(r,B2(e),d),{documents:d,ir:u})))))}function BM(n,e,i){let r=n.Xi.get(e)||re.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Xi.set(e,r)}class oS{constructor(){this.activeTargetIds=F2()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jM{constructor(){this.Hr=new oS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,i,r){this.Jr[e]=i}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new oS,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du=null;function Od(){return Du===null?Du=268435456+Math.round(2147483648*Math.random()):Du++,"0x"+Du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class GM extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http";this.mo=i+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,i,r,l,u){const h=Od(),d=this.To(e,i);X("RestConnection",`Sending RPC '${e}' ${h}:`,d,r);const m={};return this.Eo(m,l,u),this.Ao(e,d,m,r).then((p=>(X("RestConnection",`Received RPC '${e}' ${h}: `,p),p)),(p=>{throw jr("RestConnection",`RPC '${e}' ${h} failed with error: `,p,"url: ",d,"request:",r),p}))}vo(e,i,r,l,u,h){return this.Io(e,i,r,l,u)}Eo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}To(e,i){const r=qM[e];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,i,r,l){const u=Od();return new Promise(((h,d)=>{const m=new l2;m.setWithCredentials(!0),m.listenOnce(s2.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Nd.NO_ERROR:const v=m.getResponseJson();X(bt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Nd.TIMEOUT:X(bt,`RPC '${e}' ${u} timed out`),d(new K(z.DEADLINE_EXCEEDED,"Request time out"));break;case Nd.HTTP_ERROR:const E=m.getStatus();if(X(bt,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let D=m.getResponseJson();Array.isArray(D)&&(D=D[0]);const U=D?.error;if(U&&U.status&&U.message){const H=(function(F){const B=F.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(B)>=0?B:z.UNKNOWN})(U.status);d(new K(H,U.message))}else d(new K(z.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new K(z.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{X(bt,`RPC '${e}' ${u} completed.`)}}));const p=JSON.stringify(l);X(bt,`RPC '${e}' ${u} sending request:`,l),m.send(i,"POST",p,r,15)}))}Ro(e,i,r){const l=Od(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=n2(),d=i2(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.xmlHttpFactory=new a2({})),this.Eo(m.initMessageHeaders,i,r),m.encodeInitMessageHeaders=!0;const v=u.join("");X(bt,`Creating RPC '${e}' stream ${l}: ${v}`,m);const E=h.createWebChannel(v,m);let D=!1,U=!1;const H=new HM({ro:B=>{U?X(bt,`Not sending because RPC '${e}' stream ${l} is closed:`,B):(D||(X(bt,`Opening RPC '${e}' stream ${l} transport.`),E.open(),D=!0),X(bt,`RPC '${e}' stream ${l} sending:`,B),E.send(B))},oo:()=>E.close()}),F=(B,ee,ae)=>{B.listen(ee,(Z=>{try{ae(Z)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return F(E,bu.EventType.OPEN,(()=>{U||X(bt,`RPC '${e}' stream ${l} transport opened.`)})),F(E,bu.EventType.CLOSE,(()=>{U||(U=!0,X(bt,`RPC '${e}' stream ${l} transport closed`),H.wo())})),F(E,bu.EventType.ERROR,(B=>{U||(U=!0,jr(bt,`RPC '${e}' stream ${l} transport errored:`,B),H.wo(new K(z.UNAVAILABLE,"The operation could not be completed")))})),F(E,bu.EventType.MESSAGE,(B=>{var ee;if(!U){const ae=B.data[0];at(!!ae);const Z=ae,ge=Z.error||((ee=Z[0])===null||ee===void 0?void 0:ee.error);if(ge){X(bt,`RPC '${e}' stream ${l} received error:`,ge);const ke=ge.status;let Ge=(function(lt){const mt=nt[lt];if(mt!==void 0)return ZT(mt)})(ke),ce=ge.message;Ge===void 0&&(Ge=z.INTERNAL,ce="Unknown error status: "+ke+" with message "+ge.message),U=!0,H.wo(new K(Ge,ce)),E.close()}else X(bt,`RPC '${e}' stream ${l} received:`,ae),H._o(ae)}})),F(d,r2.STAT_EVENT,(B=>{B.stat===BE.PROXY?X(bt,`RPC '${e}' stream ${l} detected buffering proxy`):B.stat===BE.NOPROXY&&X(bt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{H.fo()}),0),H}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n){return new lM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,i,r=1e3,l=1.5,u=6e4){this.ii=e,this.timerId=i,this.Po=r,this.bo=l,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const i=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),l=Math.max(0,i-r);l>0&&X("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,i,r,l,u,h,d,m){this.ii=e,this.$o=r,this.Oo=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new u1(e,i)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,i){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():i&&i.code===z.RESOURCE_EXHAUSTED?(si(i.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):i&&i.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(i)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),i=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.Fo===i&&this.Zo(r,l)}),(r=>{e((()=>{const l=new K(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(l)}))}))}Zo(e,i){const r=this.Xo(this.Fo);this.stream=this.eu(e,i),this.stream.uo((()=>{r((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((l=>{r((()=>this.tu(l)))})),this.stream.onMessage((l=>{r((()=>this.onMessage(l)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return i=>{this.ii.enqueueAndForget((()=>this.Fo===e?i():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KM extends FM{constructor(e,i,r,l,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,h),this.serializer=u}eu(e,i){return this.connection.Ro("Listen",e,i)}onMessage(e){this.qo.reset();const i=uM(this.serializer,e),r=(function(l){if(!("targetChange"in l))return re.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?re.min():u.readTime?Ur(u.readTime):re.min()})(e);return this.listener.nu(i,r)}su(e){const i={};i.database=aS(this.serializer),i.addTarget=(function(l,u){let h;const d=u.target;if(h=sm(d)?{documents:cM(l,d)}:{query:hM(l,d)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=e1(l,u.resumeToken);const m=um(l,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(re.min())>0){h.readTime=cm(l,u.snapshotVersion.toTimestamp());const m=um(l,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=dM(this.serializer,e);r&&(i.labels=r),this.Wo(i)}iu(e){const i={};i.database=aS(this.serializer),i.removeTarget=e,this.Wo(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM extends class{}{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new K(z.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Io(e,i,r,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new K(z.UNKNOWN,l.toString())}))}vo(e,i,r,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.vo(e,i,r,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new K(z.UNKNOWN,u.toString())}))}terminate(){this.lu=!0}}class PM{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(si(i),this.mu=!1):X("OnlineStateTracker",i)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr((h=>{r.enqueueAndForget((async()=>{Zl(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await(async function(d){const m=be(d);m.vu.add(4),await $l(m),m.bu.set("Unknown"),m.vu.delete(4),await xc(m)})(this))}))})),this.bu=new PM(r,l)}}async function xc(n){if(Zl(n))for(const e of n.Ru)await e(!0)}async function $l(n){for(const e of n.Ru)await e(!1)}function c1(n,e){const i=be(n);i.Au.has(e.targetId)||(i.Au.set(e.targetId,e),Sg(i)?Eg(i):na(i).Ko()&&vg(i,e))}function h1(n,e){const i=be(n),r=na(i);i.Au.delete(e),r.Ko()&&f1(i,e),i.Au.size===0&&(r.Ko()?r.jo():Zl(i)&&i.bu.set("Unknown"))}function vg(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}na(n).su(e)}function f1(n,e){n.Vu.qt(e),na(n).iu(e)}function Eg(n){n.Vu=new iM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),na(n).start(),n.bu.gu()}function Sg(n){return Zl(n)&&!na(n).Uo()&&n.Au.size>0}function Zl(n){return be(n).vu.size===0}function d1(n){n.Vu=void 0}async function XM(n){n.Au.forEach(((e,i)=>{vg(n,e)}))}async function $M(n,e){d1(n),Sg(n)?(n.bu.Iu(e),Eg(n)):n.bu.set("Unknown")}async function ZM(n,e,i){if(n.bu.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await(async function(r,l){const u=l.cause;for(const h of l.targetIds)r.Au.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r.Au.delete(h),r.Vu.removeTarget(h))})(n,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cS(n,r)}else if(e instanceof Uu?n.Vu.Ht(e):e instanceof JT?n.Vu.ne(e):n.Vu.Xt(e),!i.isEqual(re.min()))try{const r=await o1(n.localStore);i.compareTo(r)>=0&&await(function(l,u){const h=l.Vu.ce(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const p=l.Au.get(m);p&&l.Au.set(m,p.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const p=l.Au.get(d);if(!p)return;l.Au.set(d,p.withResumeToken(Mt.EMPTY_BYTE_STRING,p.snapshotVersion)),f1(l,d);const v=new Vi(p.target,d,m,p.sequenceNumber);vg(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,i)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await cS(n,r)}}async function cS(n,e,i){if(!Pl(e))throw e;n.vu.add(1),await $l(n),n.bu.set("Offline"),i||(i=()=>o1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{X("RemoteStore","Retrying IndexedDB access"),await i(),n.vu.delete(1),await xc(n)}))}async function hS(n,e){const i=be(n);i.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Zl(i);i.vu.add(3),await $l(i),r&&i.bu.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.vu.delete(3),await xc(i)}async function JM(n,e){const i=be(n);e?(i.vu.delete(2),await xc(i)):e||(i.vu.add(2),await $l(i),i.bu.set("Unknown"))}function na(n){return n.Su||(n.Su=(function(e,i,r){const l=be(e);return l.fu(),new KM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,r)})(n.datastore,n.asyncQueue,{uo:XM.bind(null,n),ao:$M.bind(null,n),nu:ZM.bind(null,n)}),n.Ru.push((async e=>{e?(n.Su.Qo(),Sg(n)?Eg(n):n.bu.set("Unknown")):(await n.Su.stop(),d1(n))}))),n.Su}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}static createAndSchedule(e,i,r,l,u){const h=Date.now()+r,d=new _g(e,i,h,l,u);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m1(n,e){if(si("AsyncQueue",`${e}: ${n}`),Pl(n))return new K(z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.comparator=e?(i,r)=>e(i,r)||J.comparator(i.key,r.key):(i,r)=>J.comparator(i.key,r.key),this.keyedMap=rl(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new Lr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Lr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Lr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.Cu=new Ze(J.comparator)}track(e){const i=e.doc.key,r=this.Cu.get(i);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(i,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(i):e.type===1&&r.type===2?this.Cu=this.Cu.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(i,{type:2,doc:e.doc}):ue():this.Cu=this.Cu.insert(i,e)}xu(){const e=[];return this.Cu.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Fr{constructor(e,i,r,l,u,h,d,m,p){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,i,r,l,u){const h=[];return i.forEach((d=>{h.push({type:0,doc:d})})),new Fr(e,i,Lr.emptySet(i),h,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.Nu=void 0,this.listeners=[]}}class eI{constructor(){this.queries=new ta((e=>VT(e)),Nc),this.onlineState="Unknown",this.ku=new Set}}async function g1(n,e){const i=be(n),r=e.query;let l=!1,u=i.queries.get(r);if(u||(l=!0,u=new WM),l)try{u.Nu=await i.onListen(r)}catch(h){const d=m1(h,`Initialization of query '${am(e.query)}' failed`);return void e.onError(d)}i.queries.set(r,u),u.listeners.push(e),e.Mu(i.onlineState),u.Nu&&e.$u(u.Nu)&&Tg(i)}async function p1(n,e){const i=be(n),r=e.query;let l=!1;const u=i.queries.get(r);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),l=u.listeners.length===0)}if(l)return i.queries.delete(r),i.onUnlisten(r)}function tI(n,e){const i=be(n);let r=!1;for(const l of e){const u=l.query,h=i.queries.get(u);if(h){for(const d of h.listeners)d.$u(l)&&(r=!0);h.Nu=l}}r&&Tg(i)}function nI(n,e,i){const r=be(n),l=r.queries.get(e);if(l)for(const u of l.listeners)u.onError(i);r.queries.delete(e)}function Tg(n){n.ku.forEach((e=>{e.next()}))}class y1{constructor(e,i,r){this.query=e,this.Ou=i,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Fr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),i=!0):this.qu(e,this.onlineState)&&(this.Uu(e),i=!0),this.Bu=e,i}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let i=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),i=!0),i}qu(e,i){if(!e.fromCache)return!0;const r=i!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const i=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Uu(e){e=Fr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.key=e}}class E1{constructor(e){this.key=e}}class iI{constructor(e,i){this.query=e,this.Yu=i,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Se(),this.mutatedKeys=Se(),this.tc=qT(e),this.ec=new Lr(this.tc)}get nc(){return this.Yu}sc(e,i){const r=i?i.ic:new fS,l=i?i.ec:this.ec;let u=i?i.mutatedKeys:this.mutatedKeys,h=l,d=!1;const m=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((v,E)=>{const D=l.get(v),U=Dc(this.query,E)?E:null,H=!!D&&this.mutatedKeys.has(D.key),F=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let B=!1;D&&U?D.data.isEqual(U.data)?H!==F&&(r.track({type:3,doc:U}),B=!0):this.rc(D,U)||(r.track({type:2,doc:U}),B=!0,(m&&this.tc(U,m)>0||p&&this.tc(U,p)<0)&&(d=!0)):!D&&U?(r.track({type:0,doc:U}),B=!0):D&&!U&&(r.track({type:1,doc:D}),B=!0,(m||p)&&(d=!0)),B&&(U?(h=h.add(U),u=F?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{ec:h,ic:r,zi:d,mutatedKeys:u}}rc(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort(((p,v)=>(function(E,D){const U=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return U(E)-U(D)})(p.type,v.type)||this.tc(p.doc,v.doc))),this.oc(r);const h=i?this.uc():[],d=this.Zu.size===0&&this.current?1:0,m=d!==this.Xu;return this.Xu=d,u.length!==0||m?{snapshot:new Fr(this.query,e.ec,l,u,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:h}:{cc:h}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new fS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((i=>this.Yu=this.Yu.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Yu=this.Yu.delete(i))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Se(),this.ec.forEach((r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))}));const i=[];return e.forEach((r=>{this.Zu.has(r)||i.push(new E1(r))})),this.Zu.forEach((r=>{e.has(r)||i.push(new v1(r))})),i}hc(e){this.Yu=e.ir,this.Zu=Se();const i=this.sc(e.documents);return this.applyChanges(i,!0)}lc(){return Fr.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class sI{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class rI{constructor(e){this.key=e,this.fc=!1}}class aI{constructor(e,i,r,l,u,h){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.dc={},this.wc=new ta((d=>VT(d)),Nc),this._c=new Map,this.mc=new Set,this.gc=new Ze(J.comparator),this.yc=new Map,this.Ic=new gg,this.Tc={},this.Ec=new Map,this.Ac=Gr.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function lI(n,e){const i=mI(n);let r,l;const u=i.wc.get(e);if(u)r=u.targetId,i.sharedClientState.addLocalQueryTarget(r),l=u.view.lc();else{const h=await kM(i.localStore,ri(e)),d=i.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,l=await oI(i,e,r,d==="current",h.resumeToken),i.isPrimaryClient&&c1(i.remoteStore,h)}return l}async function oI(n,e,i,r,l){n.Rc=(E,D,U)=>(async function(H,F,B,ee){let ae=F.view.sc(B);ae.zi&&(ae=await lS(H.localStore,F.query,!1).then((({documents:ke})=>F.view.sc(ke,ae))));const Z=ee&&ee.targetChanges.get(F.targetId),ge=F.view.applyChanges(ae,H.isPrimaryClient,Z);return mS(H,F.targetId,ge.cc),ge.snapshot})(n,E,D,U);const u=await lS(n.localStore,e,!0),h=new iI(e,u.ir),d=h.sc(u.documents),m=Xl.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",l),p=h.applyChanges(d,n.isPrimaryClient,m);mS(n,i,p.cc);const v=new sI(e,i,h);return n.wc.set(e,v),n._c.has(i)?n._c.get(i).push(e):n._c.set(i,[e]),p.snapshot}async function uI(n,e){const i=be(n),r=i.wc.get(e),l=i._c.get(r.targetId);if(l.length>1)return i._c.set(r.targetId,l.filter((u=>!Nc(u,e)))),void i.wc.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await fm(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),h1(i.remoteStore,r.targetId),dm(i,r.targetId)})).catch(ng)):(dm(i,r.targetId),await fm(i.localStore,r.targetId,!0))}async function S1(n,e){const i=be(n);try{const r=await LM(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const h=i.yc.get(u);h&&(at(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.fc=!0:l.modifiedDocuments.size>0?at(h.fc):l.removedDocuments.size>0&&(at(h.fc),h.fc=!1))})),await T1(i,r,e)}catch(r){await ng(r)}}function dS(n,e,i){const r=be(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.wc.forEach(((u,h)=>{const d=h.view.Mu(e);d.snapshot&&l.push(d.snapshot)})),(function(u,h){const d=be(u);d.onlineState=h;let m=!1;d.queries.forEach(((p,v)=>{for(const E of v.listeners)E.Mu(h)&&(m=!0)})),m&&Tg(d)})(r.eventManager,e),l.length&&r.dc.nu(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cI(n,e,i){const r=be(n);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.yc.get(e),u=l&&l.key;if(u){let h=new Ze(J.comparator);h=h.insert(u,Ct.newNoDocument(u,re.min()));const d=Se().add(u),m=new Mc(re.min(),new Map,new Ze(Ne),h,d);await S1(r,m),r.gc=r.gc.remove(u),r.yc.delete(e),wg(r)}else await fm(r.localStore,e,!1).then((()=>dm(r,e,i))).catch(ng)}function dm(n,e,i=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),i&&n.dc.Pc(r,i);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach((r=>{n.Ic.containsKey(r)||_1(n,r)}))}function _1(n,e){n.mc.delete(e.path.canonicalString());const i=n.gc.get(e);i!==null&&(h1(n.remoteStore,i),n.gc=n.gc.remove(e),n.yc.delete(i),wg(n))}function mS(n,e,i){for(const r of i)r instanceof v1?(n.Ic.addReference(r.key,e),hI(n,r)):r instanceof E1?(X("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||_1(n,r.key)):ue()}function hI(n,e){const i=e.key,r=i.path.canonicalString();n.gc.get(i)||n.mc.has(r)||(X("SyncEngine","New document in limbo: "+i),n.mc.add(r),wg(n))}function wg(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const i=new J(qe.fromString(e)),r=n.Ac.next();n.yc.set(r,new rI(i)),n.gc=n.gc.insert(i,r),c1(n.remoteStore,new Vi(ri(ug(i.path)),r,"TargetPurposeLimboResolution",ig.ct))}}async function T1(n,e,i){const r=be(n),l=[],u=[],h=[];r.wc.isEmpty()||(r.wc.forEach(((d,m)=>{h.push(r.Rc(m,e,i).then((p=>{if((p||i)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,p?.fromCache?"not-current":"current"),p){l.push(p);const v=yg.Li(m.targetId,p);u.push(v)}})))})),await Promise.all(h),r.dc.nu(l),await(async function(d,m){const p=be(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>k.forEach(m,(E=>k.forEach(E.Fi,(D=>p.persistence.referenceDelegate.addReference(v,E.targetId,D))).next((()=>k.forEach(E.Bi,(D=>p.persistence.referenceDelegate.removeReference(v,E.targetId,D)))))))))}catch(v){if(!Pl(v))throw v;X("LocalStore","Failed to update sequence numbers: "+v)}for(const v of m){const E=v.targetId;if(!v.fromCache){const D=p.Ji.get(E),U=D.snapshotVersion,H=D.withLastLimboFreeSnapshotVersion(U);p.Ji=p.Ji.insert(E,H)}}})(r.localStore,u))}async function fI(n,e){const i=be(n);if(!i.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await l1(i.localStore,e);i.currentUser=e,(function(l,u){l.Ec.forEach((h=>{h.forEach((d=>{d.reject(new K(z.CANCELLED,u))}))})),l.Ec.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await T1(i,r.er)}}function dI(n,e){const i=be(n),r=i.yc.get(e);if(r&&r.fc)return Se().add(r.key);{let l=Se();const u=i._c.get(e);if(!u)return l;for(const h of u){const d=i.wc.get(h);l=l.unionWith(d.view.nc)}return l}}function mI(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=S1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cI.bind(null,e),e.dc.nu=tI.bind(null,e.eventManager),e.dc.Pc=nI.bind(null,e.eventManager),e}class gS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ic(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,i){return null}createIndexBackfillerScheduler(e,i){return null}createLocalStore(e){return UM(this.persistence,new IM,e.initialUser,this.serializer)}createPersistence(e){return new OM(pg.zs,this.serializer)}createSharedClientState(e){return new jM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gI{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fI.bind(null,this.syncEngine),await JM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new eI}createDatastore(e){const i=Ic(e.databaseInfo.databaseId),r=(l=e.databaseInfo,new GM(l));var l;return(function(u,h,d,m){return new YM(u,h,d,m)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return i=this.localStore,r=this.datastore,l=e.asyncQueue,u=d=>dS(this.syncEngine,d,0),h=uS.D()?new uS:new VM,new QM(i,r,l,u,h);var i,r,l,u,h}createSyncEngine(e,i){return(function(r,l,u,h,d,m,p){const v=new aI(r,l,u,h,d,m);return p&&(v.vc=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return(async function(e){const i=be(e);X("RemoteStore","RemoteStore shutting down."),i.vu.add(5),await $l(i),i.Pu.shutdown(),i.bu.set("Unknown")})(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,i){this.muted||setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,i,r,l){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=At.UNAUTHENTICATED,this.clientId=OT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,(async u=>{X("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(X("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=m1(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Id(n,e){n.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const i=await n.getConfiguration();await e.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async l=>{r.isEqual(l)||(await l1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function pS(n,e){n.asyncQueue.verifyOperationInProgress();const i=await vI(n);X("FirestoreClient","Initializing OnlineComponentProvider");const r=await n.getConfiguration();await e.initialize(i,r),n.setCredentialChangeListener((l=>hS(e.remoteStore,l))),n.setAppCheckTokenChangeListener(((l,u)=>hS(e.remoteStore,u))),n._onlineComponents=e}function yI(n){return n.name==="FirebaseError"?n.code===z.FAILED_PRECONDITION||n.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function vI(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Id(n,n._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!yI(i))throw i;jr("Error using user provided cache. Falling back to memory cache: "+i),await Id(n,new gS)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Id(n,new gS);return n._offlineComponents}async function EI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await pS(n,n._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await pS(n,new gI))),n._onlineComponents}async function b1(n){const e=await EI(n),i=e.eventManager;return i.onListen=lI.bind(null,e.syncEngine),i.onUnlisten=uI.bind(null,e.syncEngine),i}function SI(n,e,i={}){const r=new Ki;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,m){const p=new w1({next:E=>{u.enqueueAndForget((()=>p1(l,v)));const D=E.docs.has(h);!D&&E.fromCache?m.reject(new K(z.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&E.fromCache&&d&&d.source==="server"?m.reject(new K(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),v=new y1(ug(h.path),p,{includeMetadataChanges:!0,Ku:!0});return g1(l,v)})(await b1(n),n.asyncQueue,e,i,r))),r.promise}function _I(n,e,i={}){const r=new Ki;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,m){const p=new w1({next:E=>{u.enqueueAndForget((()=>p1(l,v))),E.fromCache&&d.source==="server"?m.reject(new K(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),v=new y1(h,p,{includeMetadataChanges:!0,Ku:!0});return g1(l,v)})(await b1(n),n.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(n,e,i){if(!i)throw new K(z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TI(n,e,i,r){if(e===!0&&r===!0)throw new K(z.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function vS(n){if(!J.isDocumentKey(n))throw new K(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ES(n){if(J.isDocumentKey(n))throw new K(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Uc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ue()}function Ml(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new K(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Uc(n);throw new K(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return n}function wI(n,e){if(e<=0)throw new K(z.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new K(z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new K(z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new K(z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(i=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,i.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var i,r}}class Lc{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SS(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new u2;switch(i.type){case"firstParty":return new d2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new K(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=yS.get(e);i&&(X("ComponentProvider","Removing Datastore"),yS.delete(e),i.terminate())})(this),Promise.resolve()}}function bI(n,e,i,r={}){var l;const u=(n=Ml(n,Lc))._getSettings(),h=`${e}:${i}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),r.mockUserToken){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=At.MOCK_USER;else{d=xC(r.mockUserToken,(l=n._app)===null||l===void 0?void 0:l.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new At(p)}n._authCredentials=new c2(new RT(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class is{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class Yi extends is{constructor(e,i,r){super(e,i,ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new J(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function zc(n,e,...i){if(n=tn(n),C1("collection","path",e),n instanceof Lc){const r=qe.fromString(e,...i);return ES(r),new Yi(n,null,r)}{if(!(n instanceof en||n instanceof Yi))throw new K(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...i));return ES(r),new Yi(n.firestore,null,r)}}function AI(n,e,...i){if(n=tn(n),arguments.length===1&&(e=OT.A()),C1("doc","path",e),n instanceof Lc){const r=qe.fromString(e,...i);return vS(r),new en(n,null,new J(r))}{if(!(n instanceof en||n instanceof Yi))throw new K(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...i));return vS(r),new en(n.firestore,n instanceof Yi?n.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new u1(this,"async_queue_retry"),this.Xc=()=>{const i=Md();i&&X("AsyncQueue","Visibility state changed to "+i.visibilityState),this.qo.Mo()};const e=Md();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const i=new Ki;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Pl(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const i=this.Gc.then((()=>(this.Hc=!0,e().catch((r=>{this.Wc=r,this.Hc=!1;const l=(function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h})(r);throw si("INTERNAL UNHANDLED ERROR: ",l),r})).then((r=>(this.Hc=!1,r))))));return this.Gc=i,i}enqueueAfterDelay(e,i,r){this.Zc(),this.Yc.indexOf(e)>-1&&(i=0);const l=_g.createAndSchedule(this,e,i,r,(u=>this.na(u)));return this.zc.push(l),l}Zc(){this.Wc&&ue()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const i of this.zc)if(i.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.zc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const i=this.zc.indexOf(e);this.zc.splice(i,1)}}class bg extends Lc{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new CI,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||D1(this),this._firestoreClient.terminate()}}function NI(n,e){const i=typeof n=="object"?n:YS(),r=typeof n=="string"?n:"(default)",l=bm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=MC("firestore");u&&bI(l,...u)}return l}function N1(n){return n._firestoreClient||D1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function D1(n){var e,i,r;const l=n._freezeSettings(),u=(function(h,d,m,p){return new A2(h,d,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,A1(p.experimentalLongPollingOptions),p.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,l);n._firestoreClient=new pI(n._authCredentials,n._appCheckCredentials,n._queue,u),!((i=l.cache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=l.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kr(Mt.fromBase64String(e))}catch(i){throw new K(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Kr(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new K(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new K(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new K(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=/^__.*__$/;function M1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Cg{constructor(e,i,r,l,u,h){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),l=this.aa({path:r,la:!1});return l.fa(e),l}da(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),l=this.aa({path:r,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return mm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(M1(this.ca)&&DI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class RI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Ic(e)}ya(e,i,r,l=!1){return new Cg({ca:e,methodName:i,ga:r,path:Ut.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OI(n){const e=n._freezeSettings(),i=Ic(n._databaseId);return new RI(n._databaseId,!!e.ignoreUndefinedProperties,i)}function MI(n,e,i,r=!1){return Ng(i,n.ya(r?4:3,e))}function Ng(n,e){if(I1(n=tn(n)))return xI("Unsupported field value:",e,n),II(n,e);if(n instanceof O1)return(function(i,r){if(!M1(r.ca))throw r._a(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(r);l&&r.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return(function(i,r){const l=[];let u=0;for(const h of i){let d=Ng(h,r.wa(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(n,e)}return(function(i,r){if((i=tn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return K2(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ht.fromDate(i);return{timestampValue:cm(r.serializer,l)}}if(i instanceof ht){const l=new ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cm(r.serializer,l)}}if(i instanceof Ag)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Kr)return{bytesValue:e1(r.serializer,i._byteString)};if(i instanceof en){const l=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:t1(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r._a(`Unsupported field value: ${Uc(i)}`)})(n,e)}function II(n,e){const i={};return MT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ql(n,((r,l)=>{const u=Ng(l,e.ha(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function I1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof Ag||n instanceof Kr||n instanceof en||n instanceof O1)}function xI(n,e,i){if(!I1(i)||!(function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)})(i)){const r=Uc(i);throw r==="an object"?e._a(n+" a custom object"):e._a(n+" "+r)}}const UI=new RegExp("[~\\*/\\[\\]]");function LI(n,e,i){if(e.search(UI)>=0)throw mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new R1(...e.split("."))._internalPath}catch{throw mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function mm(n,e,i,r,l){const u=r&&!r.isEmpty(),h=l!==void 0;let d=`Function ${e}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${r}`),h&&(m+=` in document ${l}`),m+=")"),new K(z.INVALID_ARGUMENT,d+n+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(kc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zI extends x1{data(){return super.data()}}function kc(n,e){return typeof e=="string"?LI(n,e):e instanceof R1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new K(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dg{}class Rg extends Dg{}function $i(n,e,...i){let r=[];e instanceof Dg&&r.push(e),r=r.concat(i),(function(l){const u=l.filter((d=>d instanceof Og)).length,h=l.filter((d=>d instanceof Bc)).length;if(u>1||u>0&&h>0)throw new K(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)n=l._apply(n);return n}class Bc extends Rg{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Bc(e,i,r)}_apply(e){const i=this._parse(e);return U1(e._query,i),new is(e.firestore,e.converter,rm(e._query,i))}_parse(e){const i=OI(e.firestore);return(function(l,u,h,d,m,p,v){let E;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new K(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){TS(v,p);const D=[];for(const U of v)D.push(_S(d,l,U));E={arrayValue:{values:D}}}else E=_S(d,l,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||TS(v,p),E=MI(h,u,v,p==="in"||p==="not-in");return st.create(m,p,E)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function jc(n,e,i){const r=e,l=kc("where",n);return Bc._create(l,r,i)}class Og extends Dg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Og(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:_n.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(r,l){let u=r;const h=l.getFlattenedFilters();for(const d of h)U1(u,d),u=rm(u,d)})(e._query,i),new is(e.firestore,e.converter,rm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mg extends Rg{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Mg(e,i)}_apply(e){const i=(function(r,l,u){if(r.startAt!==null)throw new K(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new K(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Ir(l,u);return(function(d,m){if(cg(d)===null){const p=Cc(d);p!==null&&L1(d,p,m.field)}})(r,h),h})(e._query,this._field,this._direction);return new is(e.firestore,e.converter,(function(r,l){const u=r.explicitOrderBy.concat([l]);return new ea(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,i))}}function Zi(n,e="asc"){const i=e,r=kc("orderBy",n);return Mg._create(r,i)}class Ig extends Rg{constructor(e,i,r){super(),this.type=e,this._limit=i,this._limitType=r}static _create(e,i,r){return new Ig(e,i,r)}_apply(e){return new is(e.firestore,e.converter,ec(e._query,this._limit,this._limitType))}}function Ji(n){return wI("limit",n),Ig._create("limit",n,"F")}function _S(n,e,i){if(typeof(i=tn(i))=="string"){if(i==="")throw new K(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jT(e)&&i.indexOf("/")!==-1)throw new K(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(qe.fromString(i));if(!J.isDocumentKey(r))throw new K(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return FE(n,new J(r))}if(i instanceof en)return FE(n,i._key);throw new K(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uc(i)}.`)}function TS(n,e){if(!Array.isArray(n)||n.length===0)throw new K(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U1(n,e){if(e.isInequality()){const r=Cc(n),l=e.field;if(r!==null&&!r.isEqual(l))throw new K(z.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${l.toString()}'`);const u=cg(n);u!==null&&L1(n,l,u)}const i=(function(r,l){for(const u of r)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new K(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function L1(n,e,i){if(!i.isEqual(e))throw new K(z.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class BI{convertValue(e,i="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw ue()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ql(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertGeoPoint(e){return new Ag(it(e.latitude),it(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=rg(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const i=Qi(e);return new ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=qe.fromString(e);at(a1(r));const l=new Rl(r.get(1),r.get(3)),u=new J(r.popFirst(5));return l.isEqual(i)||si(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class z1 extends x1{constructor(e,i,r,l,u,h){super(e,i,r,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(kc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class Lu extends z1{data(e={}){return super.data(e)}}class jI{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new ll(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Lu(this._firestore,this._userDataWriter,r.key,r,new ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new K(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(r,l){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map((h=>{const d=new Lu(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ll(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Lu(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ll(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,p=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),p=u.indexOf(h.doc.key)),{type:VI(h.type),doc:d,oldIndex:m,newIndex:p}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function VI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(n){n=Ml(n,en);const e=Ml(n.firestore,bg);return SI(N1(e),n._key).then((i=>HI(e,n,i)))}class k1 extends BI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kr(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function Vc(n){n=Ml(n,is);const e=Ml(n.firestore,bg),i=N1(e),r=new k1(e);return kI(n._query),_I(i,n._query).then((l=>new jI(e,r,n,l)))}function HI(n,e,i){const r=i.docs.get(e._key),l=new k1(n);return new z1(n,l,e._key,r,new ll(i.hasPendingWrites,i.fromCache),e.converter)}(function(n,e=!0){(function(i){Wr=i})(Qr),zr(new Is("firestore",((i,{instanceIdentifier:r,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new bg(new h2(i.getProvider("auth-internal")),new g2(i.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(d.options.projectId,m)})(u,r),u);return l=Object.assign({useFetchStreams:e},l),h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Fi(jE,"3.13.0",n),Fi(jE,"3.13.0","esm2017")})();var GI="firebase",FI="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(GI,FI,"app");const KI={apiKey:"AIzaSyBPUdBf4tgc0RuBLe8XbcKmJykZ9B7A26w",authDomain:"kp-atea.firebaseapp.com",projectId:"kp-atea",storageBucket:"kp-atea.firebasestorage.app",messagingSenderId:"191985860375",appId:"1:191985860375:web:af6818ce7be9770b488152"},B1=KS(KI),j1=nO(B1),Jl=NI(B1),V1=j.createContext();function q1({children:n}){const[e,i]=j.useState(null),[r,l]=j.useState(null),[u,h]=j.useState(!0);return j.useEffect(()=>{const d=FD(j1,async m=>{if(i(m),!m){l(null),h(!1);return}const p=AI(Jl,"users",m.uid),v=await qI(p);v.exists()&&l(v.data()),h(!1)});return()=>d()},[]),L.jsx(V1.Provider,{value:{user:e,appUser:r,loading:u},children:n})}function ia(){return j.useContext(V1)}function YI(){return L.jsxs("aside",{className:"w-64 bg-blue-800 text-white flex flex-col",children:[L.jsx("div",{className:"text-2xl font-bold p-4 border-b border-blue-700",children:"KP-ATEA"}),L.jsxs("nav",{className:"flex flex-col p-4 space-y-3",children:[L.jsx(vu,{to:"/",className:"hover:bg-blue-700 p-2 rounded",children:"Employees"}),L.jsx(vu,{to:"/institutes",className:"hover:bg-blue-700 p-2 rounded",children:"Institutes"}),L.jsx(vu,{to:"/contributions",className:"hover:bg-blue-700 p-2 rounded",children:"Contributions"}),L.jsx(vu,{to:"/transfers",className:"hover:bg-blue-700 p-2 rounded",children:"Transfers"})]})]})}function PI(){const{user:n,logout:e}=ia();return L.jsxs("header",{className:"bg-white shadow flex justify-between items-center p-4",children:[L.jsx("h1",{className:"font-semibold text-xl",children:"Dashboard"}),L.jsxs("div",{className:"flex items-center space-x-3",children:[L.jsx("span",{children:n?.email}),L.jsx("button",{onClick:e,className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Logout"})]})]})}function QI({limitCount:n}){const[e,i]=j.useState([]),{appUser:r}=ia();return j.useEffect(()=>{async function l(){let u;const h=zc(Jl,"employees");r?.role==="InstituteRep"?u=$i(h,jc("instituteId","==",r.instituteId),Zi("createdAt","desc"),...n?[Ji(n)]:[]):u=$i(h,Zi("createdAt","desc"),...n?[Ji(n)]:[]);const d=await Vc(u);i(d.docs.map(m=>({id:m.id,...m.data()})))}r&&l()},[r,n]),L.jsx("div",{className:"w-full",children:L.jsxs("table",{className:"w-full text-left",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-sm text-slate-500",children:[L.jsx("th",{children:"Name"}),L.jsx("th",{children:"CNIC"}),L.jsx("th",{children:"Designation"})]})}),L.jsxs("tbody",{children:[e.map(l=>L.jsxs("tr",{className:"border-t",children:[L.jsx("td",{className:"py-2",children:l.fullName}),L.jsx("td",{children:l.cnic}),L.jsx("td",{children:l.designation||"-"})]},l.id)),e.length===0&&L.jsx("tr",{children:L.jsx("td",{colSpan:3,className:"p-4 text-sm text-slate-500",children:"No records"})})]})]})})}function XI({limitCount:n}){const[e,i]=j.useState([]),{appUser:r}=ia();return j.useEffect(()=>{async function l(){let u;const h=zc(Jl,"employees");r?.role==="InstituteRep"?u=$i(h,jc("instituteId","==",r.instituteId),Zi("createdAt","desc"),...n?[Ji(n)]:[]):u=$i(h,Zi("createdAt","desc"),...n?[Ji(n)]:[]);const d=await Vc(u);i(d.docs.map(m=>({id:m.id,...m.data()})))}r&&l()},[r,n]),L.jsx("div",{className:"w-full",children:L.jsxs("table",{className:"w-full text-left",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-sm text-slate-500",children:[L.jsx("th",{children:"Name"}),L.jsx("th",{children:"CNIC"}),L.jsx("th",{children:"Designation"})]})}),L.jsxs("tbody",{children:[e.map(l=>L.jsxs("tr",{className:"border-t",children:[L.jsx("td",{className:"py-2",children:l.fullName}),L.jsx("td",{children:l.cnic}),L.jsx("td",{children:l.designation||"-"})]},l.id)),e.length===0&&L.jsx("tr",{children:L.jsx("td",{colSpan:3,className:"p-4 text-sm text-slate-500",children:"No records"})})]})]})})}function $I({limit:n=10}){const[e,i]=j.useState([]),{appUser:r}=ia();return j.useEffect(()=>{async function l(){const u=zc(Jl,"contributions");let h;r?.role==="InstituteRep"?h=$i(u,jc("instituteId","==",r.instituteId),Zi("createdAt","desc"),Ji(n)):h=$i(u,Zi("createdAt","desc"),Ji(n));const d=await Vc(h);i(d.docs.map(m=>({id:m.id,...m.data()})))}r&&l()},[r,n]),L.jsx("div",{children:L.jsxs("ul",{className:"space-y-2",children:[e.map(l=>L.jsx("li",{className:"p-3 border rounded",children:L.jsx("div",{className:"flex justify-between",children:L.jsxs("div",{children:[L.jsxs("div",{className:"font-medium",children:[l.contributionMonth,"  ",l.amount]}),L.jsxs("div",{className:"text-sm text-slate-500",children:["Paid on: ",l.paidOn?.toDate?l.paidOn.toDate().toLocaleDateString():"-"]})]})})},l.id)),e.length===0&&L.jsx("li",{className:"text-sm text-slate-500",children:"No contributions yet."})]})})}function ZI({limitCount:n}){const[e,i]=j.useState([]),{appUser:r}=ia();return j.useEffect(()=>{async function l(){let u;const h=zc(Jl,"employees");r?.role==="InstituteRep"?u=$i(h,jc("instituteId","==",r.instituteId),Zi("createdAt","desc"),...n?[Ji(n)]:[]):u=$i(h,Zi("createdAt","desc"),...n?[Ji(n)]:[]);const d=await Vc(u);i(d.docs.map(m=>({id:m.id,...m.data()})))}r&&l()},[r,n]),L.jsx("div",{className:"w-full",children:L.jsxs("table",{className:"w-full text-left",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-sm text-slate-500",children:[L.jsx("th",{children:"Name"}),L.jsx("th",{children:"CNIC"}),L.jsx("th",{children:"Designation"})]})}),L.jsxs("tbody",{children:[e.map(l=>L.jsxs("tr",{className:"border-t",children:[L.jsx("td",{className:"py-2",children:l.fullName}),L.jsx("td",{children:l.cnic}),L.jsx("td",{children:l.designation||"-"})]},l.id)),e.length===0&&L.jsx("tr",{children:L.jsx("td",{colSpan:3,className:"p-4 text-sm text-slate-500",children:"No records"})})]})]})})}function JI(){return L.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[L.jsx(YI,{}),L.jsxs("div",{className:"flex flex-col flex-grow",children:[L.jsx(PI,{}),L.jsx("main",{className:"p-6",children:L.jsxs(zS,{children:[L.jsx(As,{path:"/",element:L.jsx(QI,{})}),L.jsx(As,{path:"/institutes",element:L.jsx(XI,{})}),L.jsx(As,{path:"/contributions",element:L.jsx($I,{})}),L.jsx(As,{path:"/transfers",element:L.jsx(ZI,{})})]})})]})]})}function WI(){const[n,e]=j.useState(""),[i,r]=j.useState(""),[l,u]=j.useState(""),h=Sm(),d=async m=>{m.preventDefault();try{await qD(j1,n,i),h("/")}catch{u("Invalid email or password")}};return L.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:L.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded shadow-md w-96 space-y-4",children:[L.jsx("h2",{className:"text-2xl font-bold text-center",children:"KP-ATEA Login"}),l&&L.jsx("p",{className:"text-red-500 text-sm text-center",children:l}),L.jsx("input",{type:"email",placeholder:"Email",className:"w-full border p-2 rounded",value:n,onChange:m=>e(m.target.value)}),L.jsx("input",{type:"password",placeholder:"Password",className:"w-full border p-2 rounded",value:i,onChange:m=>r(m.target.value)}),L.jsx("button",{type:"submit",className:"bg-blue-600 w-full text-white p-2 rounded hover:bg-blue-700",children:"Login"})]})})}function e4({children:n}){const{user:e}=ia();return e?n:L.jsx(fC,{to:"/login"})}function t4(){return L.jsx(q1,{children:L.jsx(SC,{children:L.jsxs(zS,{children:[L.jsx(As,{path:"/login",element:L.jsx(WI,{})}),L.jsx(As,{path:"/*",element:L.jsx(e4,{children:L.jsx(JI,{})})})]})})})}TA.createRoot(document.getElementById("root")).render(L.jsx(bS.StrictMode,{children:L.jsx(q1,{children:L.jsx(t4,{})})}));
